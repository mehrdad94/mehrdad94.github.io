(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},114:function(e,t){},116:function(e,t){},197:function(e,t,a){},198:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);a(55),a(90),a(91),a(92);var n=a(0),o=a.n(n),i=a(32),l=a.n(i),c=a(79),r=a(9),s=a(14),u=a(54),d=a(81),m=a.n(d),p=a(8),v=a(1),h=a(11),f=a.n(h),k="SET_T0T1",E="SET_T1E",b="SET_ET2",y="SET_T2T3",g="SET_DATE_COLUMN",C="SET_OPERATION_COLUMN",T="SET_ALPHAVANTAGE_TOKEN",O="CREATE_EVENT",N="UPDATE_EVENT",S="DELETE_EVENT",j="SELECT_EVENT",w="DESELECT_EVENT",F="CREATE_STOCK",A="UPDATE_STOCK",D="DELETE_STOCK",L="SELECT_STOCK",M="CREATE_ANALYSIS",I="UPDATE_ANALYSIS",V="DELETE_ANALYSIS",K="SHOW_SETTING",B="HIDE_SETTING",x="HIDE_STOCK_LIST",_="SHOW_STOCK_LIST",R="SET_ACTIVE_MAIN_FRAME",P="SET_DEFAULT_EVENT_DATE_FORMAT",U={events:{},activeEvents:{}};var W={dateColumn:"Date",operationColumn:"Close",alphavantageToken:"",T0T1:40,T1E:7,ET2:7,T2T3:5,defaultEventDateFormat:"yyyy-mm-dd"};var z={analysis:{}};var H=a(88),Y=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},$=function(e){var t=[];if("number"!==typeof e)return t;if(e<=0)return t;for(var a=0;a<=e;a++)t.push(a);return t},q={stockList:[],activeStock:{}};var J={showSetting:!1,stockListStatus:!0,activeMainFrame:"EVENT_LIST"},G=["EVENT_LIST","ANALYSIS"];var X=Object(s.b)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e.events[t.payload.stockKey]||(e.events[t.payload.stockKey]=[]),e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={}),Object(v.a)({},e,{events:f()(e.events,Object(p.a)({},t.payload.stockKey,{$push:[t.payload.event]})),activeEvents:f()(e.activeEvents,Object(p.a)({},t.payload.stockKey,Object(p.a)({},t.payload.event.key,{$set:t.payload.event.key})))});case N:return Object(v.a)({},e,{events:Object(v.a)({},e.events,Object(p.a)({},t.payload.stockKey,e.events[t.payload.stockKey].map(function(e){return e.key!==t.payload.event.key?e:Object(v.a)({},e,t.payload.event)})))});case S:var a=e.events[t.payload.stockKey].findIndex(function(e){return e.key===t.payload.key}),n=f()(e.events,Object(p.a)({},t.payload.stockKey,{$splice:[[a,1]]})),o=f()(e.activeEvents,Object(p.a)({},t.payload.stockKey,{$unset:[t.payload.key]}));return Object(v.a)({},e,{events:n,activeEvents:o});case j:e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={});var i=f()(e.activeEvents,Object(p.a)({},t.payload.stockKey,Object(p.a)({},t.payload.event.key,{$set:t.payload.event.key})));return Object(v.a)({},e,{activeEvents:i});case w:var l=f()(e.activeEvents,Object(p.a)({},t.payload.stockKey,{$unset:[t.payload.event.key]}));return Object(v.a)({},e,{activeEvents:l});case D:var c=f()(e.events,{$unset:[t.key]}),r=f()(e.activeEvents,{$unset:[t.key]});return Object(v.a)({},e,{events:c,activeEvents:r});default:return e}},setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(v.a)({},e,{dateColumn:t.dateColumn});case C:return Object(v.a)({},e,{operationColumn:t.operationColumn});case T:return Object(v.a)({},e,{alphavantageToken:t.token});case k:return Object(v.a)({},e,{T0T1:t.value});case E:return Object(v.a)({},e,{T1E:t.value});case b:return Object(v.a)({},e,{ET2:t.value});case y:return Object(v.a)({},e,{T2T3:t.value});case P:return Object(v.a)({},e,{defaultEventDateFormat:t.value});default:return e}},analysis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(v.a)({},e,{analysis:Object(v.a)({},e.analysis,Object(p.a)({},t.payload.stockKey,Object(v.a)({},e.analysis[t.payload.stockKey],Object(p.a)({},t.payload.eventKey,t.payload.analysis))))});case I:return Object(v.a)({},e,{analysis:Object(v.a)({},e.analysis,Object(p.a)({},t.payload.stockKey,Object(v.a)({},e.analysis[t.payload.stockKey],Object(p.a)({},t.payload.eventKey,Object(v.a)({},e.analysis[t.payload.stockKey][t.payload.eventKey],t.payload.analysis)))))});case V:var a=f()(e.analysis[t.payload.stockKey],{$unset:[t.payload.eventKey]});return Object(v.a)({},e,{analysis:Object(v.a)({},e.analysis,Object(p.a)({},t.payload.stockKey,a))});case S:var n=f()(e.analysis[t.payload.stockKey],{$unset:[t.payload.key]});return Object(v.a)({},e,{analysis:Object(v.a)({},e.analysis,Object(p.a)({},t.payload.stockKey,n))});case D:var o=f()(e.analysis,{$unset:[t.key]});return Object(v.a)({},e,{analysis:o});default:return e}},stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(v.a)({},e,{stockList:[t.stock].concat(Object(H.a)(e.stockList)),activeStock:Y(e.activeStock)?t.stock:e.activeStock});case A:return Object(v.a)({},e,{stockList:e.stockList.map(function(e){return e.key===t.stock.key?Object(v.a)({},e,t.stock):e})});case D:return Object(v.a)({},e,{stockList:e.stockList.filter(function(e){return e.key!==t.key}),activeStock:e.activeStock.key===t.key?{}:e.activeStock});case L:return Object(v.a)({},e,{activeStock:t.stock});default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(v.a)({},e,{showSetting:!0});case B:return Object(v.a)({},e,{showSetting:!1});case _:return Object(v.a)({},e,{stockListStatus:!0});case x:return Object(v.a)({},e,{stockListStatus:!1});case R:return~G.indexOf(t.frame)?Object(v.a)({},e,{activeMainFrame:t.frame}):e;default:return e}}}),Q={key:"root",storage:m.a},Z=Object(u.a)(Q,X),ee=Object(s.c)(Z),te=Object(u.b)(ee),ae=a(2),ne=a(3),oe=a(5),ie=a(4),le=a(6),ce=(a(103),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).loaderClassName=function(){return a.props.active?"":"fadeOut"},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"loader",className:this.loaderClassName()},o.a.createElement("div",{className:"spinner"}))}}]),t}(o.a.Component));ce.defaultProps={active:!1};var re=a(17),se=a(33),ue=a.n(se),de=function(e){return{type:R,frame:e}},me=(a(106),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick()},a.onEditClick=function(e){e.stopPropagation(),a.props.onEditClick()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n="success"===e.descriptionColor?"c-green-500":"c-red-500",i=this.props.isActive?"bgc-grey-50":"";return o.a.createElement("div",{className:"peers fxw-nw ai-c p-20 bdB bgc-white bgcH-grey-50 cur-p item ".concat(i),onClick:this.props.onItemClick},o.a.createElement("div",{className:"peer peer-greed"},o.a.createElement("h6",{className:"mB-0 lh-1 fw-400 item-title stock-item-title"},t),o.a.createElement("small",{className:"lh-1 c-green-500 item-description ".concat(n)},a)),o.a.createElement("div",{className:"peers"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 item-delete-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component));me.defaultProps={onDeleteClick:function(){},onEditClick:function(){},onItemClick:function(){},title:"",description:"",descriptionColor:"",isActive:!1};var pe=a(13),ve=a.n(pe),he=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).showModal=function(){a.refs.modal.modal("show")},a.hideModal=function(){a.refs.modal.modal("hide")},a.onAccept=function(){a.hideModal(),a.props.onAccept()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.modal=ve()(this.refs.modal),this.refs.modal.on("hidden.bs.modal",function(t){e.props.onModalClose(t)}),this.refs.modal.on("shown.bs.modal",function(t){e.props.onModalOpen(t)}),this.props.isActive&&this.showModal()}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?this.showModal():this.hideModal())}},{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog confirm-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},this.props.header?o.a.createElement("div",{className:"bd p-15"},this.props.header):null,this.props.body?o.a.createElement("div",{className:"modal-body"},this.props.body):null,this.props.footer?o.a.createElement("div",{className:"text-right modal-footer"},this.props.footer):null)))}}]),t}(o.a.Component);function fe(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"fw-600 question p-15"},e.question),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{className:"btn cur-p m-5","data-dismiss":"modal"},"No"),o.a.createElement("button",{className:"btn btn-primary cur-p m-5",onClick:e.onAccept},"Yes")))}he.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};var ke=function(e){function t(){return Object(ae.a)(this,t),Object(oe.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.onAccept;return o.a.createElement(he,Object.assign({},this.props,{body:o.a.createElement(fe,{question:t,onAccept:a})}))}}]),t}(o.a.Component);ke.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};a(107);var Ee,be,ye=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(i)))).state={phase:"add",stockNameInputValue:"",showDeleteConfirmDialog:!1},a.onInputChange=function(e,t){a.setState(Object(p.a)({},t,e))},a.onAddClick=function(){var e=ue()(),t=a.state.stockNameInputValue;t&&(a.props.createStock({key:e,title:t}),a.setState({stockNameInputValue:""}))},a.onEditClick=function(){var e=a.state.stockNameInputValue;e&&(a.props.updateStock({key:be,title:e}),a.setState({stockNameInputValue:"",phase:"add"}))},a.onItemEditClick=function(e){be=e.key,a.setState({phase:"edit",stockNameInputValue:e.title}),a.refs.stockInput.focus()},a.onDeleteClick=function(e){Ee=e,a.setState({showDeleteConfirmDialog:!0})},a.onDeleteConfirmClose=function(){a.setState({showDeleteConfirmDialog:!1})},a.onDeleteConfirmAccept=function(){a.setState({showDeleteConfirmDialog:!1}),a.props.deleteStock(Ee)},a.onKeyDown=function(e){"Enter"===e.key&&("add"===a.state.phase?a.onAddClick():a.onEditClick())},a.renderStocksList=function(){return a.props.stocks.map(function(e){return o.a.createElement(me,Object.assign({},e,{onDeleteClick:function(){return a.onDeleteClick(e.key)},onEditClick:function(){return a.onItemEditClick(e)},onItemClick:function(){return a.props.selectStock(e)},isActive:e.key===a.props.activeStock.key,key:e.key}))})},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){new re.a(this.refs.scrollable),this.refs.stockInput.focus()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"peer stock-list h-100p"},o.a.createElement("div",{className:"layers h-100"},o.a.createElement("div",{className:"bdB layer w-100 pos-r"},o.a.createElement("input",{type:"text",placeholder:"Category Name",name:"Name",ref:"stockInput",value:this.state.stockNameInputValue,onKeyDown:this.onKeyDown,onChange:function(t){return e.onInputChange(t.target.value,"stockNameInputValue")},className:"form-constrol p-15 bdrs-0 w-100 bdw-0"}),"add"===this.state.phase?o.a.createElement("button",{type:"button",className:"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10",onClick:this.onAddClick},o.a.createElement("i",{className:"ti-plus"})):o.a.createElement("button",{type:"button",className:"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"layer w-100 fxg-1 scrollable pos-r",ref:"scrollable"},this.renderStocksList()),o.a.createElement("div",null,o.a.createElement(ke,{isActive:this.state.showDeleteConfirmDialog,question:"Do you want to delete that StocksItem?",onModalClose:this.onDeleteConfirmClose,onAccept:this.onDeleteConfirmAccept}))))}}]),t}(o.a.Component),ge={createStock:function(e){return{type:F,stock:e}},updateStock:function(e){return{type:A,stock:e}},deleteStock:function(e){return{type:D,key:e}},selectStock:function(e){return{type:L,stock:e}}},Ce=Object(r.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock}},ge)(ye),Te=(a(108),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick(e)},a.onEditClick=function(e){e.stopPropagation(),a.props.onEditClick(e)},a.onItemClick=function(e){a.props.onItemClick(e)},a.getEventTypeClassName=function(e){return 1===e?"event-item-good":0===e?"event-item-neutral":"event-item-bad"},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.date,n=e.T0T1,i=e.T1E,l=e.ET2,c=e.T2T3,r=this.props.isActive?"bgc-grey-50":"",s=this.getEventTypeClassName(this.props.eventType);return o.a.createElement("li",{onClick:this.onItemClick,className:"bdB peers ai-c bgcH-grey-50 jc-sb fxw-nw cur-p item ".concat(r," ").concat(s)},o.a.createElement("a",{className:"td-n p-20 peers fxw-nw mR-20 peer-greed c-grey-900"},o.a.createElement("div",{className:"peer"},o.a.createElement("span",{className:"fw-600 eventItemTitle"},t),o.a.createElement("div",{className:"c-grey-600"},o.a.createElement("span",{className:"c-grey-700 eventItemDate"},a)),o.a.createElement("div",{className:"c-grey-600"},o.a.createElement("span",{className:"c-grey-700 eventItemDate"},"Timeline: ",n,", ",i,", ",l,", ",c)))),o.a.createElement("div",{className:"peers mR-15"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5 edit-icon-btn",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 delete-icon-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component));Te.defaultProps={title:"",date:"",eventType:0,description:"...",onDeleteClick:function(){},onEditClick:function(){},onItemClick:function(){},isActive:!1};var Oe=a(83),Ne=a.n(Oe),Se=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(oe.a)(this,Object(ie.a)(t).call(this,e))).inputRef=o.a.createRef(),a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e){this.inputRef.current.value=this.props.inputValue}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"fw-500"},this.props.inputLabel),o.a.createElement("input",{className:"form-control bdc-grey-200"+(this.props.invalidFeedback?" is-invalid":""),onChange:this.props.onChange,ref:this.inputRef,defaultValue:this.props.inputValue}),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component),je=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(oe.a)(this,Object(ie.a)(t).call(this,e))).genOptions=function(){return a.props.selectOptions.map(function(e,t){var a=e.label,n=e.value,i=e.id;return o.a.createElement("option",{value:n,key:i||t},a)})},a.selectRef=o.a.createRef(),a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidUpdate",value:function(e){this.selectRef.current.value=this.props.selectValue}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"mr-sm-2 fw-500",htmlFor:"inlineFormCustomSelect"},this.props.selectLabel),o.a.createElement("select",{className:"custom-select bdc-grey-200 mr-sm-2"+(this.props.invalidFeedback?" is-invalid":""),id:"inlineFormCustomSelect",ref:this.selectRef,onChange:this.props.onChange,defaultValue:this.props.selectValue},o.a.createElement("option",{disabled:!0},"Choose..."),this.genOptions()),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component);je.defaultProps={selectValue:"",selectLabel:"",selectOptions:[],invalidFeedback:"",onChange:function(){}};var we,Fe=je,Ae=function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(oe.a)(this,Object(ie.a)(t).call(this,e))).handleChange=function(e){a.props.onChange&&a.props.onChange(e)},a.pickerRef=o.a.createRef(),a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){we=ve()(".event-date").datepicker({format:this.props.defaultEventDateFormat}).on("changeDate",this.handleChange)}},{key:"componentDidUpdate",value:function(e){this.pickerRef.current.value=this.props.pickerValue,this.props.defaultEventDateFormat!==e.defaultEventDateFormat&&we.datepicker("destroy").datepicker({format:this.props.defaultEventDateFormat}).on("changeDate",this.handleChange)}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"fw-500"},this.props.pickerLabel),o.a.createElement("div",{className:"timepicker-input input-icon form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-addon bgc-white bd bdwR-0"},o.a.createElement("i",{className:"ti-calendar"})),o.a.createElement("input",{type:"text",className:"form-control bdc-grey-200 event-date"+(this.props.invalidFeedback?" is-invalid":""),placeholder:"Datepicker","data-provide":"datepicker",ref:this.pickerRef,onChange:this.handleChange,defaultValue:this.props.pickerValue}),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)))}}]),t}(o.a.Component);Ae.defaultProps={defaultEventDateFormat:"yyyy-mm-dd",pickerValue:"",pickerLabel:"",invalidFeedback:"",onChange:function(){}};var De,Le=Ae,Me=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){a.props.onChange&&a.props.onChange(e)},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",accept:this.props.accept,onClick:function(e){e.target.value=null},onChange:this.handleChange,className:"custom-file-input form-control-file bdc-grey-200"+(this.props.invalidFeedback?" is-invalid":""),id:this.props.identifier}),o.a.createElement("label",{className:"fw-500 custom-file-label",htmlFor:this.props.identifier},this.props.inputLabel),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component),Ie=a(109),Ve=function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=t,n.onerror=a,n.readAsText(e)})},Ke=function(e){return new Promise(function(t,a){Ve(e).then(function(e){Ie().fromString(e.target.result).then(t).catch(a)}).catch(a)})},Be=a(82),xe=a.n(Be),_e="https://www.alphavantage.co/query",Re=[],Pe=function(e,t,a){var n=function(e,t,a){switch(t){case"1min":case"5min":case"15min":case"30min":case"60min":return"".concat(_e,"?function=TIME_SERIES_INTRADAY&symbol=").concat(e,"&interval=").concat(t,"&outputsize=").concat("full","&apikey=").concat(a);case"Daily":return"".concat(_e,"?function=TIME_SERIES_DAILY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);case"Weekly":return"".concat(_e,"?function=TIME_SERIES_WEEKLY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);case"Monthly":return"".concat(_e,"?function=TIME_SERIES_MONTHLY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);default:return""}}(e,t,a);return new Promise(function(e,a){var o=function(e){return Re.find(function(t){return t[0]===e})}(n);o?e(o[1]):xe.a.get(n).then(function(o){var i=function(e){return e.data}(o),l=function(e){return e["Error Message"]}(i);if(l)a(l);else{var c=function(e){return Object.keys(e).sort(function(e,t){return Date.parse(e)-Date.parse(t)}).map(function(t){return{Date:t,Open:e[t]["1. open"],High:e[t]["2. high"],Low:e[t]["3. low"],Close:e[t]["4. close"],"Adj Close":e[t]["5. adjusted close"]}})}(i[function(e){switch(e){case"1min":return"Time Series (1min)";case"5min":return"Time Series (5min)";case"15min":return"Time Series (15min)";case"30min":return"Time Series (30min)";case"60min":return"Time Series (60min)";case"Daily":return"Time Series (Daily)";case"Weekly":return"Weekly Adjusted Time Series";case"Monthly":return"Monthly Adjusted Time Series";default:throw new Error("unknown interval")}}(t)]);!function(e,t){Re.push([e,t]),10===Re.length&&Re.shift()}(n,c),e(c)}}).catch(a)})},Ue=a(7),We=["1min","5min","15min","30min","60min","Daily","Weekly","Monthly"].map(function(e){return{label:e,value:e}}),ze=function(e){var t=e.loading,a=void 0!==t&&t,n=e.title,o=void 0===n?"":n,i=e.date,l=void 0===i?"":i,c=e.stock,r=void 0===c?[]:c,s=e.stockSymbol,u=void 0===s?"":s,d=e.stockTimeFrame,m=void 0===d?"Daily":d,p=e.market,v=void 0===p?[]:p,h=e.marketSymbol,f=void 0===h?"":h,k=e.marketTimeFrame,E=void 0===k?"Daily":k,b=e.dateColumn,y=void 0===b?"":b,g=e.operationColumn,C=void 0===g?"":g,T=e.alphavantageToken,O=void 0===T?"":T,N=e.T0T1,S=void 0===N?"":N,j=e.T1E,w=void 0===j?"":j,F=e.ET2,A=void 0===F?"":F,D=e.T2T3,L=void 0===D?"":D,M=e.defaultEventDateFormat,I=void 0===M?"":M,V=e.analysisModel,K=void 0===V||V,B=e.useExternalSource,x=void 0!==B&&B,_=e.stockInputFileLabel,R=void 0===_?"":_,P=e.marketInputFileLabel,U=void 0===P?"":P,W=e.invalidFeedBacks;return{loading:a,title:o,date:l,stock:r,stockSymbol:u,stockTimeFrame:m,market:v,marketSymbol:f,marketTimeFrame:E,dateColumn:y,operationColumn:C,alphavantageToken:O,T0T1:S,T1E:w,ET2:A,T2T3:L,defaultEventDateFormat:I,analysisModel:K,useExternalSource:x,stockInputFileLabel:R,marketInputFileLabel:U,invalidFeedBacks:void 0===W?{title:"",date:"",stockInputFileLabel:"",stockSymbol:"",stockTimeFrame:"",marketInputFileLabel:"",marketSymbol:"",marketTimeFrame:"",alphavantageToken:"",dateColumn:"",operationColumn:"",T0T1:"",T1E:"",ET2:"",T2T3:"",globalError:""}:W}},He=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).state=ze(a.props),a.handleCheckboxChange=function(e,t){a.setState(Object(p.a)({},e,t.target.checked))},a.analysisCheckBoxClass=function(e){return e?"col-sm-5":"col-sm-10"},a.onFileChange=function(e,t,n){var o=n.target.files[0];o&&Ke(o).then(function(n){var i;a.setState((i={},Object(p.a)(i,t,n),Object(p.a)(i,e,o.name),i))})},a.validateSharedInputs=function(){return[["title",Object(Ue.validateColumnName)(a.state.title)||""],["date",Object(Ue.validateColumnName)(a.state.date)||""],["dateColumn",Object(Ue.validateColumnName)(a.state.dateColumn)||""],["operationColumn",Object(Ue.validateColumnName)(a.state.operationColumn)||""],["T0T1",Object(Ue.validateTimelineKey)(a.state.T0T1)||""],["T1E",Object(Ue.validateTimelineKey)(a.state.T1E)||""],["ET2",Object(Ue.validateTimelineKey)(a.state.ET2)||""],["T2T3",Object(Ue.validateTimelineKey)(a.state.T2T3)||""]].filter(function(e){return e[1]})},a.validateMarketModelSources=function(){return[["stock",Object(Ue.validatePrices)(a.state.stock,a.state.dateColumn,a.state.operationColumn)||""],["market",Object(Ue.validatePrices)(a.state.market,a.state.dateColumn,a.state.operationColumn)||""]].filter(function(e){return e[1]})},a.validateMarketModelExternalSourceInputs=function(){var e=Object(Ue.validateColumnName)(a.state.stockSymbol)||"",t=Object(Ue.validateColumnName)(a.state.stockTimeFrame)||"",n=Object(Ue.validateColumnName)(a.state.marketSymbol)||"",o=Object(Ue.validateColumnName)(a.state.marketTimeFrame)||"";return[["stockSymbol",e],["stockTimeFrame",t],["alphavantageToken",Object(Ue.validateColumnName)(a.state.alphavantageToken)||""],["marketSymbol",n],["marketTimeFrame",o]].filter(function(e){return e[1]})},a.validateAll=function(){var e=a.validateSharedInputs(),t=a.state.useExternalSource?a.validateMarketModelExternalSourceInputs():a.validateMarketModelSources(),n=function(e,t){return e[t[0]]=t[1].toString(),e};return e.length||t.length?t.reduce(n,e.reduce(n,{})):null},a.getStockDataFromExternalResource=function(){return new Promise(function(e,t){var n=a.state,o=n.stockSymbol,i=n.stockTimeFrame,l=n.marketSymbol,c=n.marketTimeFrame,r=n.alphavantageToken;a.setState({loading:!0}),Promise.all([Pe(o,i,r),Pe(l,c,r)]).then(function(t){a.setState({stock:t[0],market:t[1],loading:!1}),e()}).catch(t)})},a.onAfterValidate=function(){var e=a.state,n=e.date,o=e.title,i=e.T0T1,l=e.T1E,c=e.ET2,r=e.T2T3,s=e.market,u=e.stock,d=e.dateColumn,m=e.operationColumn,p=[{date:n,stock:u,market:s,timeline:{T0T1:i,T1E:l,ET2:c,T2T3:r},dateColumn:d,operationColumn:m}],v=Object(Ue.MarketModel)({calendar:p})[0];Ne()(Object,v)&&!v.errors?(t.hideModal(),a.props.onAccept({eventData:{date:n,title:o,T0T1:i,T1E:l,ET2:c,T2T3:r,dateColumn:d,operationColumn:m},statsResult:v})):a.setState({invalidFeedBacks:{globalError:"Invalid Data!"}})},a.onAccept=function(){var e=a.validateAll();e?a.setState({invalidFeedBacks:e}):a.state.useExternalSource?a.getStockDataFromExternalResource().then(function(){var e=a.validateAll();e?a.setState({invalidFeedBacks:e,loading:!1}):a.onAfterValidate()}).catch(function(e){"object"===typeof e&&(e=JSON.stringify(e)),a.setState({loading:!1,invalidFeedBacks:{globalError:e}})}):a.onAfterValidate()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(p.a)({},e,t.target.value))}},{key:"componentDidMount",value:function(){var e=this;(De=ve()(this.refs.modal)).on("hidden.bs.modal",function(t){e.props.onModalClose(t)}),De.on("shown.bs.modal",function(t){e.props.onModalOpen(t)}),this.props.isActive&&t.showModal()}},{key:"componentWillUpdate",value:function(e){if(this.props.isActive!==e.isActive)if(e.isActive)this.setState(ze(Object.assign({},this.props,e.event)));else{this.setState(ze({}));var t=document.getElementById("eventDialogStockPriceInput"),a=document.getElementById("eventDialogMarketPriceInput");t&&(t.value=""),a&&(a.value="")}}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?t.showModal():t.hideModal())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog",id:"event-dialog-modal",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"bd p-15 modal-header"},o.a.createElement("h5",{className:"m-0 dialog-title"},this.props.dialogTitle),o.a.createElement("button",{type:"button",className:"close float-right","data-dismiss":"modal","aria-label":"Close",disabled:this.state.loading},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},this.state.invalidFeedBacks.globalError?o.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.invalidFeedBacks.globalError,"!"):null,o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Event title",inputValue:this.state.title,invalidFeedback:this.state.invalidFeedBacks.title,onChange:function(t){return e.handleChange("title",t)}})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(Le,{pickerLabel:"Date",pickerValue:this.state.date,invalidFeedback:this.state.invalidFeedBacks.date,onChange:function(t){return e.handleChange("date",t)}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"toggleUseExternalResource",checked:this.state.useExternalSource,onChange:function(t){return e.handleCheckboxChange("useExternalSource",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleUseExternalResource"},"Use external resources"))),o.a.createElement("div",{className:"form-row"},this.state.useExternalSource?o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("div",{className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",disabled:!0,className:"custom-control-input",id:"toggleMarketModel",checked:this.state.analysisModel,onChange:function(t){return e.handleCheckboxChange("analysisModel",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleMarketModel"},"MM"))),o.a.createElement("div",{className:"form-group "+this.analysisCheckBoxClass(this.state.analysisModel)},o.a.createElement("div",null,o.a.createElement(Se,{inputLabel:"Stock Symbol",inputValue:this.state.stockSymbol,invalidFeedback:this.state.invalidFeedBacks.stockSymbol,onChange:function(t){return e.handleChange("stockSymbol",t)}}),o.a.createElement("div",{className:"form-group"}),o.a.createElement(Fe,{selectLabel:"Stock Time Frame",selectValue:this.state.stockTimeFrame,selectOptions:We,invalidFeedback:this.state.invalidFeedBacks.stockTimeFrame,onChange:function(t){return e.handleChange("stockTimeFrame",t)}}))),this.state.analysisModel?o.a.createElement("div",{className:"form-group col-sm-5"},o.a.createElement(Se,{inputLabel:"Market Symbol",inputValue:this.state.marketSymbol,invalidFeedback:this.state.invalidFeedBacks.marketSymbol,onChange:function(t){return e.handleChange("marketSymbol",t)}}),o.a.createElement("div",{className:"form-group"}),o.a.createElement(Fe,{selectLabel:"Market Time Frame",selectValue:this.state.marketTimeFrame,selectOptions:We,invalidFeedback:this.state.invalidFeedBacks.marketTimeFrame,onChange:function(t){return e.handleChange("marketTimeFrame",t)}})):null):o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("div",{className:"custom-control custom-checkbox mt-2"},o.a.createElement("input",{type:"checkbox",disabled:!0,className:"custom-control-input",id:"toggleMarketModel",checked:this.state.analysisModel,onChange:function(t){return e.handleCheckboxChange("analysisModel",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleMarketModel"},"MM"))),o.a.createElement("div",{className:"form-group "+this.analysisCheckBoxClass(this.state.analysisModel)},o.a.createElement(Me,{accept:".csv",identifier:"eventDialogStockPriceInput",inputLabel:this.state.stockInputFileLabel||"Stock prices",invalidFeedback:this.state.invalidFeedBacks.stock,onChange:function(t){return e.onFileChange("stockInputFileLabel","stock",t)}})),this.state.analysisModel?o.a.createElement("div",{className:"form-group col-sm-5"},o.a.createElement(Me,{accept:".csv",identifier:"eventDialogMarketPriceInput",inputLabel:this.state.marketInputFileLabel||"Market prices",invalidFeedback:this.state.invalidFeedBacks.market,onChange:function(t){return e.onFileChange("marketInputFileLabel","market",t)}})):null)),this.state.useExternalSource?o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Alphavantage Token",inputValue:this.state.alphavantageToken,invalidFeedback:this.state.invalidFeedBacks.alphavantageToken,onChange:function(t){return e.handleChange("alphavantageToken",t)}})):null,o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Date Column",inputValue:this.state.dateColumn,invalidFeedback:this.state.invalidFeedBacks.dateColumn,onChange:function(t){return e.handleChange("dateColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Operation Column",inputValue:this.state.operationColumn,invalidFeedback:this.state.invalidFeedBacks.operationColumn,onChange:function(t){return e.handleChange("operationColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Estimation period (T0T1)",inputValue:this.state.T0T1,invalidFeedback:this.state.invalidFeedBacks.T0T1,onChange:function(t){return e.handleChange("T0T1",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Pre-announcement window (T1E)",inputValue:this.state.T1E,invalidFeedback:this.state.invalidFeedBacks.T1E,onChange:function(t){return e.handleChange("T1E",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Post-announcement window (ET2)",inputValue:this.state.ET2,invalidFeedback:this.state.invalidFeedBacks.ET2,onChange:function(t){return e.handleChange("ET2",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Post event period (T2T3)",inputValue:this.state.T2T3,invalidFeedback:this.state.invalidFeedBacks.T2T3,onChange:function(t){return e.handleChange("T2T3",t)}})))),o.a.createElement("div",{className:"text-right modal-footer"},o.a.createElement("button",{type:"button",className:"btn","data-dismiss":"modal",disabled:this.state.loading},"Close"),o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.onAccept,disabled:this.state.loading},this.state.loading?o.a.createElement(n.Fragment,null,o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"downloading, might take a while..."):o.a.createElement("span",null,"Done"))))))}}],[{key:"showModal",value:function(){De.modal({keyboard:!1,backdrop:"static",show:!0})}},{key:"hideModal",value:function(){De.modal("hide")}}]),t}(o.a.Component);He.defaultProps={isActive:!1,onModalClose:function(){},onModalOpen:function(){},onAccept:function(){},dialogTitle:"",title:"",date:""};var Ye,$e,qe=Object(r.b)(function(e){return{dateColumn:e.setting.dateColumn,operationColumn:e.setting.operationColumn,alphavantageToken:e.setting.alphavantageToken,defaultEventDateFormat:e.setting.defaultEventDateFormat,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}})(He),Je=function(e){return o.a.createElement("div",{className:"pos-a t-0 l-0 bgc-white w-100 h-100 d-f fxd-r fxw-w ai-c jc-c pos-r p-30",style:{zIndex:e.zIndex||1}},o.a.createElement("div",{className:"d-f jc-c fxd-c"},o.a.createElement("h3",{className:"mB-10 fsz-lg c-grey-900 tt-c title"},e.title),o.a.createElement("p",{className:"mB-30 fsz-def c-grey-700 description"},e.description)))},Ge=function(e){function t(){return Object(ae.a)(this,t),Object(oe.a)(this,Object(ie.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.isActive;return o.a.createElement(n.Fragment,null,e?o.a.createElement(Je,this.props):null)}}]),t}(o.a.Component),Xe=(a(197),"Add Event"),Qe="Edit Event",Ze="add",et={title:"Create Event",description:"Click on the plus sign.",isActive:!0},tt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(i)))).state={eventDialogTitle:"",eventDialogEvent:{},isEventDialogActive:!1,isConfirmDialogActive:!1,eventList:[]},a.renderUnavailableComponent=function(){return a.props.eventList&&a.props.eventList.length?null:o.a.createElement(Ge,et)},a.onDeleteClick=function(e){Ye=e,a.setState({isConfirmDialogActive:!0})},a.onEditClick=function(e){Ze="edit",Ye=e,a.setState({eventDialogTitle:Qe,eventDialogEvent:e,isEventDialogActive:!0})},a.onEventClick=function(e){a.props.activeEvents[e.key]?a.props.deselectEvent(e,a.props.stockKey):a.props.selectEvent(e,a.props.stockKey)},a.renderEvents=function(){return a.props.eventList?a.props.eventList.map(function(e){return o.a.createElement(Te,Object.assign({onDeleteClick:function(){return a.onDeleteClick(e)},onEditClick:function(){return a.onEditClick(e)},onItemClick:function(){return a.onEventClick(e)},isActive:Boolean(a.props.activeEvents[e.key]),key:e.key,eventType:a.props.analysis[e.key].newsType},e))}):null},a.onPlusClick=function(){Ze="add",a.setState({isEventDialogActive:!0,eventDialogTitle:Xe,eventDialogEvent:{}})},a.onAnalysisClick=function(){a.props.setActiveMainFrame("ANALYSIS")},a.onEventAddModalClose=function(){a.setState({isEventDialogActive:!1})},a.onConfirmModalClose=function(){a.setState({isConfirmDialogActive:!1})},a.onEventDialogAccept=function(e){var t=e.eventData,n=e.statsResult;"add"===Ze?(t.key=ue()(),a.props.createAnalysis(n,a.props.stockKey,t.key),a.props.createEvent(t,a.props.stockKey)):(t.key=Ye.key,a.props.updateEvent(t,a.props.stockKey),a.props.updateAnalysis(n,a.props.stockKey,t.key))},a.onDeleteEventAccept=function(){a.setState({isConfirmDialogActive:!1}),a.props.deleteEvent(Ye.key,a.props.stockKey)},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){new re.a(this.refs.scrollable)}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Event List")),o.a.createElement("div",{className:"pos-r event-items-wrap"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"d-ib pos-a r-10 t-25 zi-2 mT-nv-50"},o.a.createElement("button",{type:"button",onClick:this.onAnalysisClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-list-analyse-btn d-n@md+"},o.a.createElement("i",{className:"ti-stats-up"})),o.a.createElement("button",{type:"button",onClick:this.onPlusClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-dialog-btn ml-3"},o.a.createElement("i",{className:"ti-plus"}))),o.a.createElement("ul",{className:"m-0 p-0 pos-r",ref:"scrollable",id:"event-items"},this.renderEvents()))),o.a.createElement(qe,{isActive:this.state.isEventDialogActive,dialogTitle:this.state.eventDialogTitle,onModalClose:this.onEventAddModalClose,onAccept:this.onEventDialogAccept,event:this.state.eventDialogEvent}),o.a.createElement(ke,{isActive:this.state.isConfirmDialogActive,onModalClose:this.onConfirmModalClose,onAccept:this.onDeleteEventAccept,question:"Are you sure that you want to delete this Event?"}))}}]),t}(o.a.Component),at=[],nt=function(e){return e.stocks.activeStock.key},ot=function(e){return e.events.events[e.stocks.activeStock.key]},it=function(e){return e.events.activeEvents[e.stocks.activeStock.key]},lt=function(e){return e.analysis.analysis[e.stocks.activeStock.key]||at},ct={createEvent:function(e,t){return{type:O,payload:{event:e,stockKey:t}}},updateEvent:function(e,t){return{type:N,payload:{event:e,stockKey:t}}},deleteEvent:function(e,t){return{type:S,payload:{key:e,stockKey:t}}},selectEvent:function(e,t){return{type:j,payload:{event:e,stockKey:t}}},deselectEvent:function(e,t){return{type:w,payload:{event:e,stockKey:t}}},createAnalysis:function(e,t,a){return{type:M,payload:{analysis:e,stockKey:t,eventKey:a}}},updateAnalysis:function(e,t,a){return{type:I,payload:{analysis:e,stockKey:t,eventKey:a}}},setActiveMainFrame:de,deleteAnalysis:function(e,t){return{type:V,payload:{eventKey:e,stockKey:t}}}},rt=Object(r.b)(function(e){return{stockKey:nt(e),eventList:ot(e),activeEvents:it(e),analysis:lt(e)}},ct)(tt),st=(a(198),a(84)),ut=a(86),dt=a.n(ut),mt=a(53),pt=a.n(mt),vt=a(24),ht=a.n(vt),ft=a(87),kt=a.n(ft),Et=a(85),bt=a.n(Et),yt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).getChartData=function(){return{labels:a.props.labels,dataSets:a.props.dataSets}},a.initChart=function(){var e=a.refs.lineChart,t=a.getChartData(),n=t.labels,o=t.dataSets,i=e.getContext("2d");e.height=80,$e=new bt.a(i,{type:"line",data:{labels:n,datasets:o},options:{legend:{display:!0}}})},a.updateChart=function(){var e=a.getChartData(),t=e.labels,n=e.dataSets;$e.data.labels=t,$e.data.datasets=n,$e.update()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.initChart()}},{key:"componentDidUpdate",value:function(e){e.labels===this.props.labels&&e.dataSets===this.props.dataSets||this.updateChart()}},{key:"render",value:function(){return o.a.createElement("canvas",{className:"line-chart",ref:"lineChart",height:"220"})}}]),t}(o.a.Component);yt.defaultProps={labels:[],dataSets:[]};var gt="#f44336",Ct="#d32f2f",Tt="#4caf50",Ot="#388e3c",Nt="#9e9e9e",St="#616161",jt={title:"Analyse Events",description:"You need to create and select at least One event in order to get analysis.",isActive:!0},wt={title:"No Analysis Available",description:"If you want your final analysis hit analyse button",isActive:!0},Ft=function(e){return"0"===(e=e.toString())?"Neutral":"-1"===e?"Bad News":"Good News"},At=function(e){return Object(v.a)({},function(e){return"0"===(e=e.toString())?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Nt,pointBackgroundColor:St,borderWidth:2}:"-1"===e?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:gt,pointBackgroundColor:Ct,borderWidth:2}:{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Tt,pointBackgroundColor:Ot,borderWidth:2}}(e),{label:Ft(e)})},Dt=function(e,t){return Object(v.a)({data:e},At(t))},Lt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(i)))).renderUnavailableComponent=function(){var e=Y(a.props.activeEvents),t=Y(a.props.analysis);return e?o.a.createElement(Ge,jt):!e&&t?o.a.createElement(Ge,wt):null},a.getChartData=function(){var e={labels:[],dataSets:[],chartLegend:""};if(!a.props.activeEvents)return e;var t=a.props.activeEvents;if(t.length>1){var n=t.map(function(e){return a.props.analysis[e.key]}).filter(function(e){return e});if(n.length<=1)return e;var o=dt()(pt()("newsType"),n),i=ht()(kt()(pt()("abnormalReturn")),o),l=ht()(Ue.AAR,i),c=ht()(Ue.CAR,l),r=ht()(function(e,t){return Dt(e,t)},c);e.labels=$(t[0].ET2+t[0].T1E-1).map(function(e){return e-(t[0].T1E-1)}),e.dataSets=Object.values(r),e.chartLegend="CAAR Stats (Cumulative Average Abnormal Return):"}else if(1===t.length){var s=t[0],u=a.props.analysis[s.key];if(!u)return e;var d=u.returnDates,m=[u.CARS].map(function(e){return Dt(e,u.newsType)});e.labels=d,e.dataSets=m,e.chartLegend="CAR Stats for: "+s.date}return e},a.onEventListClick=function(){a.props.setActiveMainFrame("EVENT_LIST")},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){new re.a(this.refs.scrollable)}},{key:"render",value:function(){var e=this.getChartData();return o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Analysis")),o.a.createElement("div",{className:"m-0 p-0 pos-r analysis-scroll-container-wrap"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"d-ib pos-a r-10 t-25 zi-2 mT-nv-50"},o.a.createElement("button",{type:"button",onClick:this.onEventListClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning analysis-event-list-btn d-n@md+"},o.a.createElement("i",{className:"ti-agenda"}))),o.a.createElement("div",{className:"pos-r",ref:"scrollable",id:"analysis-scroll-container"},o.a.createElement("div",{className:"bd bgc-white"},o.a.createElement("div",{className:"layers"},o.a.createElement("div",{className:"layer w-100 pX-20 pT-20"},o.a.createElement("h6",{className:"lh-1"},e.chartLegend)),o.a.createElement("div",{className:"layer w-100 p-20"},o.a.createElement(yt,e)))))))}}]),t}(o.a.Component),Mt=[],It=[],Vt={},Kt=function(e){return e.stocks.activeStock.key},Bt=function(e){return e.events.events[e.stocks.activeStock.key]||Mt},xt=function(e){return e.analysis.analysis[e.stocks.activeStock.key]||It},_t=Object(st.a)([Bt,function(e){return e.events.activeEvents[e.stocks.activeStock.key]||Vt}],function(e,t){return e.filter(function(e){return t[e.key]})}),Rt={setActiveMainFrame:de},Pt=Object(r.b)(function(e){return{stockKey:Kt(e),eventList:Bt(e),analysis:xt(e),activeEvents:_t(e)}},Rt)(Lt),Ut=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(o)))).onImportStateInputChange=function(e){var t=e.target.files[0];t&&Ve(t).then(function(e){localStorage.setItem("persist:root",e.target.result),window.location.reload()})},a.onStockListToggleClick=function(){a.props.stockListStatus?a.props.hideStockList():a.props.showStockList()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){ve()('.navbar [data-toggle="tooltip"]').tooltip()}},{key:"render",value:function(){return o.a.createElement("div",{className:"header navbar"},o.a.createElement("div",{className:"header-container"},o.a.createElement("ul",{className:"nav-left"},o.a.createElement("li",{className:"stock-list-toggle d-lg-none",onClick:this.onStockListToggleClick},o.a.createElement("a",{href:"#"},o.a.createElement("i",{className:"ti-menu-alt"})))),o.a.createElement("ul",{className:"nav-right"},o.a.createElement("li",null,o.a.createElement("a",{href:"#",onClick:t.onImportClick,"data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Load data"},o.a.createElement("i",{className:"ti-folder"})),o.a.createElement("input",{type:"file",accept:".json",onChange:this.onImportStateInputChange,className:"d-none",id:"importStateInput"})),o.a.createElement("li",null,o.a.createElement("a",{href:"#","data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Save data",onClick:t.onExportClick},o.a.createElement("i",{className:"ti-export"}))),o.a.createElement("li",{className:"open-setting-btn","data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Setting",onClick:this.props.showSetting},o.a.createElement("a",{href:"#"},o.a.createElement("i",{className:"ti-settings"}))))))}}],[{key:"onExportClick",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate();!function(e,t){var a=new Blob([t],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(a,e);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(a),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}("".concat("Event study state","-").concat(t,"-").concat(a,"-").concat(n),localStorage.getItem("persist:root"))}},{key:"onImportClick",value:function(){var e=document.getElementById("importStateInput");e&&e.click()}}]),t}(o.a.Component),Wt={showSetting:function(){return{type:K}},showStockList:function(){return{type:_}},hideStockList:function(){return{type:x}}},zt=Object(r.b)(function(e){return{stockListStatus:e.application.stockListStatus}},Wt)(Ut),Ht=function(e){var t=e.dateColumn,a=void 0===t?"":t,n=e.operationColumn,o=void 0===n?"":n,i=e.alphavantageToken,l=void 0===i?"":i,c=e.T0T1,r=void 0===c?"":c,s=e.T1E,u=void 0===s?"":s,d=e.ET2,m=void 0===d?"":d,p=e.T2T3,v=void 0===p?"":p,h=e.defaultEventDateFormat;return{dateColumn:a,operationColumn:o,alphavantageToken:l,T0T1:r,T1E:u,ET2:m,T2T3:v,defaultEventDateFormat:void 0===h?"":h}},Yt=function(e){var t=e.invalidFeedBacks;return{invalidFeedBacks:void 0===t?{dateColumn:"",operationColumn:"",T0T1:"",T1E:"",ET2:"",T2T3:"",defaultEventDateFormat:""}:t}},$t=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(i)))).state=Yt(a.props),a.formValues=Ht(a.props),a.DialogHeader=function(){return o.a.createElement("h5",{className:"m-0 dialog-title"},"Setting")},a.DialogBody=function(){return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Date Column",inputValue:a.formValues.dateColumn,invalidFeedback:a.state.invalidFeedBacks.dateColumn,onChange:function(e){return a.handleChange("dateColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Operation Column",inputValue:a.formValues.operationColumn,invalidFeedback:a.state.invalidFeedBacks.operationColumn,onChange:function(e){return a.handleChange("operationColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Alphavantage Token",inputValue:a.formValues.alphavantageToken,invalidFeedback:a.state.invalidFeedBacks.alphavantageToken,onChange:function(e){return a.handleChange("alphavantageToken",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Default Event Date Format (In create event dialog)",inputValue:a.formValues.defaultEventDateFormat,invalidFeedback:a.state.invalidFeedBacks.defaultEventDateFormat,onChange:function(e){return a.handleChange("defaultEventDateFormat",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Estimation period (T0T1)",inputValue:a.formValues.T0T1,invalidFeedback:a.state.invalidFeedBacks.T0T1,onChange:function(e){return a.handleChange("T0T1",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Pre-announcement window  (T1E)",inputValue:a.formValues.T1E,invalidFeedback:a.state.invalidFeedBacks.T1E,onChange:function(e){return a.handleChange("T1E",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Post-announcement window (ET2)",inputValue:a.formValues.ET2,invalidFeedback:a.state.invalidFeedBacks.ET2,onChange:function(e){return a.handleChange("ET2",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Se,{inputLabel:"Post event period (T2T3)",inputValue:a.formValues.T2T3,invalidFeedback:a.state.invalidFeedBacks.T2T3,onChange:function(e){return a.handleChange("T2T3",e)}})))},a.DialogFooter=function(){return o.a.createElement("div",{className:"d-ib"},o.a.createElement("button",{type:"button",className:"btn","data-dismiss":"modal"},"Close"),o.a.createElement("button",{className:"btn btn-primary cur-p",onClick:a.onAccept},"Done"))},a.handleChange=function(e,t){a.formValues[e]=t.target.value},a.onAccept=function(){var e=Object(Ue.validateColumnName)(a.formValues.dateColumn)||"",t=Object(Ue.validateColumnName)(a.formValues.operationColumn)||"",n=Object(Ue.validateTimelineKey)(a.formValues.T0T1)||"",o=Object(Ue.validateTimelineKey)(a.formValues.T1E)||"",i=Object(Ue.validateTimelineKey)(a.formValues.ET2)||"",l=Object(Ue.validateTimelineKey)(a.formValues.T2T3)||"",c=Object(Ue.validateColumnName)(a.formValues.defaultEventDateFormat)||"";e||t||n||o||i||l||c?a.setState({invalidFeedBacks:{dateColumn:e.toString(),operationColumn:t.toString(),T0T1:n.toString(),T1E:o.toString(),ET2:i.toString(),T2T3:l.toString(),defaultEventDateFormat:c.toString()}}):(a.props.setDateColumn(a.formValues.dateColumn),a.props.setOperationColumn(a.formValues.operationColumn),a.props.setAlphavantageToken(a.formValues.alphavantageToken),a.props.setT0T1(+a.formValues.T0T1),a.props.setT1E(+a.formValues.T1E),a.props.setET2(+a.formValues.ET2),a.props.setT2T3(+a.formValues.T2T3),a.props.setDefaultEventDateFormat(a.formValues.defaultEventDateFormat),a.props.hideSetting())},a.onModalClose=function(){a.setState(Yt(a.props)),a.props.hideSetting()},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){return o.a.createElement(he,{onModalClose:this.onModalClose,isActive:this.props.showSetting,header:o.a.createElement(this.DialogHeader,null),body:o.a.createElement(this.DialogBody,null),footer:o.a.createElement(this.DialogFooter,null)})}}]),t}(o.a.Component),qt={hideSetting:function(){return{type:B}},setDateColumn:function(e){return{type:g,dateColumn:e}},setOperationColumn:function(e){return{type:C,operationColumn:e}},setAlphavantageToken:function(e){return{type:T,token:e}},setDefaultEventDateFormat:function(e){return{type:P,value:e}},setT0T1:function(e){return{type:k,value:e}},setT1E:function(e){return{type:E,value:e}},setET2:function(e){return{type:b,value:e}},setT2T3:function(e){return{type:y,value:e}}},Jt=Object(r.b)(function(e){return{showSetting:e.application.showSetting,dateColumn:e.setting.dateColumn,alphavantageToken:e.setting.alphavantageToken,operationColumn:e.setting.operationColumn,defaultEventDateFormat:e.setting.defaultEventDateFormat,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}},qt)($t),Gt=(a(214),{title:"Create a Category",description:"First of all you need to create a category.",isActive:!0,zIndex:9}),Xt=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(oe.a)(this,(e=Object(ie.a)(t)).call.apply(e,[this].concat(i)))).renderUnavailableComponent=function(){return Y(a.props.activeStock)?o.a.createElement(Ge,Gt):null},a.hideNoneActiveFrame=function(e){return a.props.activeMainFrame===e?"":"d-n@md-"},a.showStockList=function(){return a.props.stockListStatus?"":"close-stocks"},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){new re.a(this.refs.scrollable)}},{key:"render",value:function(){return o.a.createElement("div",{className:"h-100p "+this.showStockList()},o.a.createElement("div",{className:"page-container h-100p"},o.a.createElement(Jt,null),o.a.createElement(zt,null),o.a.createElement("main",{className:"main-content bgc-grey-200"},o.a.createElement("div",{id:"mainContent",className:"h-100p"},o.a.createElement("div",{className:"container-fluid h-100p pos-r",ref:"scrollable"},o.a.createElement(Ce,null),o.a.createElement("div",{className:"main-wrapper pos-r h-100p"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"row h-100p"},o.a.createElement("div",{className:"col-lg-4 col-md-12 h-100p "+this.hideNoneActiveFrame("EVENT_LIST")},o.a.createElement(rt,null)),o.a.createElement("div",{className:"col-lg-8 col-md-12 h-100p "+this.hideNoneActiveFrame("ANALYSIS")},o.a.createElement(Pt,null))))))),o.a.createElement("footer",{className:"bdT ta-c p-30 lh-0 fsz-sm c-grey-600"},o.a.createElement("span",null,"Copyright \xa9 2019 All rights reserved."))))}}]),t}(o.a.Component),Qt=Object(r.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock,stockListStatus:e.application.stockListStatus,activeMainFrame:e.application.activeMainFrame}})(Xt),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ea(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(215);l.a.render(o.a.createElement(r.a,{store:ee},o.a.createElement(c.a,{loading:o.a.createElement(function(){return o.a.createElement(ce,{active:!0})},null),persistor:te},o.a.createElement(Qt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Zt?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ea(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ea(t,e)})}}()},89:function(e,t,a){e.exports=a(216)}},[[89,1,2]]]);
//# sourceMappingURL=main.900fac98.chunk.js.map