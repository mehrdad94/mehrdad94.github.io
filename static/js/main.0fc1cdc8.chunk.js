(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){e.exports=a(238)},122:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},137:function(e,t){},139:function(e,t){},221:function(e,t,a){},222:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);a(64),a(109),a(110),a(111);var n=a(0),o=a.n(n),i=a(24),r=a(89),l=a(9),s=a(16),c=a(63),u=a(91),d=a.n(u),m=a(7),p=a(12),v=a.n(p),h="SET_T0T1",f="SET_T1E",b="SET_ET2",E="SET_T2T3",k="RESET_SETTING_DEFAULTS",y="SET_DATE_COLUMN",g="SET_OPERATION_COLUMN",C="SET_ALPHAVANTAGE_TOKEN",T="SET_ADJUSTMENT_RULE",O="CREATE_EVENT",S="UPDATE_EVENT",N="DELETE_EVENT",j="SELECT_EVENT",w="DESELECT_EVENT",D="CREATE_STOCK",A="UPDATE_STOCK",F="DELETE_STOCK",M="SELECT_STOCK",L="CREATE_ANALYSIS",I="UPDATE_ANALYSIS",P="DELETE_ANALYSIS",R="SHOW_SETTING",x="HIDE_SETTING",_="HIDE_STOCK_LIST",K="SHOW_STOCK_LIST",V="SET_ACTIVE_MAIN_FRAME",B="SET_DEFAULT_EVENT_DATE_FORMAT",H="SET_IS_FIRST_TIME_VISIT";function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W={events:{},activeEvents:{}};var Y=[{label:"Take earlier trading day",value:"PREV_TRADING_DAY"},{label:"Take later trading day",value:"NEXT_TRADING_DAY"},{label:"Skip respective observations",value:"SKIP"}],q=["1min","5min","15min","30min","60min","Daily","Weekly","Monthly"].map(function(e){return{label:e,value:e}});function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var J={dateColumn:"Date",operationColumn:"Close",alphavantageToken:"",adjustmentRule:"NEXT_TRADING_DAY",T0T1:40,T1E:7,ET2:7,T2T3:5,defaultEventDateFormat:"yyyy-mm-dd"};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Z={analysis:{}};var ee=a(28),te=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},ae=function(e){var t=[];if("number"!==typeof e)return t;if(e<=0)return t;for(var a=0;a<=e;a++)t.push(a);return t};function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ie={stockList:[],activeStock:{}};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var se={showSetting:!1,stockListStatus:!0,activeMainFrame:"EVENT_LIST",isFirstTimeVisit:!0},ce=["EVENT_LIST","ANALYSIS"];var ue=Object(s.b)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e.events[t.payload.stockKey]||(e.events[t.payload.stockKey]=[]),e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={}),z({},e,{events:v()(e.events,Object(m.a)({},t.payload.stockKey,{$push:[t.payload.event]})),activeEvents:v()(e.activeEvents,Object(m.a)({},t.payload.stockKey,Object(m.a)({},t.payload.event.key,{$set:t.payload.event.key})))});case S:return z({},e,{events:z({},e.events,Object(m.a)({},t.payload.stockKey,e.events[t.payload.stockKey].map(function(e){return e.key!==t.payload.event.key?e:z({},e,{},t.payload.event)})))});case N:var a=e.events[t.payload.stockKey].findIndex(function(e){return e.key===t.payload.key});return z({},e,{events:v()(e.events,Object(m.a)({},t.payload.stockKey,{$splice:[[a,1]]})),activeEvents:v()(e.activeEvents,Object(m.a)({},t.payload.stockKey,{$unset:[t.payload.key]}))});case j:return e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={}),z({},e,{activeEvents:v()(e.activeEvents,Object(m.a)({},t.payload.stockKey,Object(m.a)({},t.payload.event.key,{$set:t.payload.event.key})))});case w:return z({},e,{activeEvents:v()(e.activeEvents,Object(m.a)({},t.payload.stockKey,{$unset:[t.payload.event.key]}))});case F:return z({},e,{events:v()(e.events,{$unset:[t.key]}),activeEvents:v()(e.activeEvents,{$unset:[t.key]})});default:return e}},setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return G({},e,{dateColumn:t.dateColumn});case g:return G({},e,{operationColumn:t.operationColumn});case C:return G({},e,{alphavantageToken:t.token});case T:return G({},e,{adjustmentRule:t.value});case h:return G({},e,{T0T1:t.value});case f:return G({},e,{T1E:t.value});case b:return G({},e,{ET2:t.value});case E:return G({},e,{T2T3:t.value});case B:return G({},e,{defaultEventDateFormat:t.value});case k:return G({},J);default:return e}},analysis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Q({},e,{analysis:Q({},e.analysis,Object(m.a)({},t.payload.stockKey,Q({},e.analysis[t.payload.stockKey],Object(m.a)({},t.payload.eventKey,t.payload.analysis))))});case I:return Q({},e,{analysis:Q({},e.analysis,Object(m.a)({},t.payload.stockKey,Q({},e.analysis[t.payload.stockKey],Object(m.a)({},t.payload.eventKey,Q({},e.analysis[t.payload.stockKey][t.payload.eventKey],{},t.payload.analysis)))))});case P:var a=v()(e.analysis[t.payload.stockKey],{$unset:[t.payload.eventKey]});return Q({},e,{analysis:Q({},e.analysis,Object(m.a)({},t.payload.stockKey,a))});case N:var n=v()(e.analysis[t.payload.stockKey],{$unset:[t.payload.key]});return Q({},e,{analysis:Q({},e.analysis,Object(m.a)({},t.payload.stockKey,n))});case F:return Q({},e,{analysis:v()(e.analysis,{$unset:[t.key]})});default:return e}},stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return oe({},e,{stockList:[t.stock].concat(Object(ee.a)(e.stockList)),activeStock:te(e.activeStock)?t.stock:e.activeStock});case A:return oe({},e,{stockList:e.stockList.map(function(e){return e.key===t.stock.key?oe({},e,{},t.stock):e})});case F:return oe({},e,{stockList:e.stockList.filter(function(e){return e.key!==t.key}),activeStock:e.activeStock.key===t.key?{}:e.activeStock});case M:return oe({},e,{activeStock:t.stock});default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return le({},e,{showSetting:!0});case x:return le({},e,{showSetting:!1});case K:return le({},e,{stockListStatus:!0});case _:return le({},e,{stockListStatus:!1});case V:return~ce.indexOf(t.frame)?le({},e,{activeMainFrame:t.frame}):e;case H:return le({},e,{isFirstTimeVisit:t.value});default:return e}}}),de={key:"root",version:"1",storage:d.a},me=Object(c.a)(de,ue),pe=Object(s.c)(me),ve=Object(c.b)(pe),he=a(2),fe=a(3),be=a(5),Ee=a(4),ke=a(6),ye=(a(122),function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).loaderClassName=function(){return a.props.active?"":"fadeOut"},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"loader",className:this.loaderClassName()},o.a.createElement("div",{className:"spinner"}))}}]),t}(o.a.Component));ye.defaultProps={active:!1};var ge=a(20),Ce=a(36),Te=a.n(Ce),Oe=function(){return{type:R}},Se=function(e){return{type:V,frame:e}},Ne=(a(125),function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick()},a.onEditClick=function(e){e.stopPropagation(),a.props.onEditClick()},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n="success"===e.descriptionColor?"c-green-500":"c-red-500",i=this.props.isActive?"bgc-grey-50":"";return o.a.createElement("div",{className:"peers fxw-nw ai-c p-20 bdB bgc-white bgcH-grey-50 cur-p item ".concat(i),onClick:this.props.onItemClick},o.a.createElement("div",{className:"peer peer-greed"},o.a.createElement("h6",{className:"mB-0 fw-400 item-title stock-item-title"},t),o.a.createElement("small",{className:"lh-1 c-green-500 item-description ".concat(n)},a)),o.a.createElement("div",{className:"peers"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 item-delete-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component));Ne.defaultProps={onDeleteClick:function(){},onEditClick:function(){},onItemClick:function(){},title:"",description:"",descriptionColor:"",isActive:!1};var je=a(14),we=a.n(je),De=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).showModal=function(){a.refs.modal.modal("show")},a.hideModal=function(){a.refs.modal.modal("hide")},a.onAccept=function(){a.hideModal(),a.props.onAccept()},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.modal=we()(this.refs.modal),this.refs.modal.on("hidden.bs.modal",function(t){e.props.onModalClose(t)}),this.refs.modal.on("shown.bs.modal",function(t){e.props.onModalOpen(t)}),this.props.isActive&&this.showModal()}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?this.showModal():this.hideModal())}},{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog confirm-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},this.props.header?o.a.createElement("div",{className:"bd p-15"},this.props.header):null,this.props.body?o.a.createElement("div",{className:"modal-body"},this.props.body):null,this.props.footer?o.a.createElement("div",{className:"text-right modal-footer"},this.props.footer):null)))}}]),t}(o.a.Component);function Ae(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"fw-600 question p-15"},e.question),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{className:"btn cur-p m-5","data-dismiss":"modal"},"No"),o.a.createElement("button",{className:"btn btn-primary cur-p m-5",onClick:e.onAccept},"Yes")))}De.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};var Fe=function(e){function t(){return Object(he.a)(this,t),Object(be.a)(this,Object(Ee.a)(t).apply(this,arguments))}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.onAccept;return o.a.createElement(De,Object.assign({},this.props,{body:o.a.createElement(Ae,{question:t,onAccept:a})}))}}]),t}(o.a.Component);Fe.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};a(126);var Me,Le,Ie=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).state={phase:"add",stockNameInputValue:"",showDeleteConfirmDialog:!1},a.onInputChange=function(e,t){a.setState(Object(m.a)({},t,e))},a.onAddClick=function(){var e=Te()(),t=a.state.stockNameInputValue;t&&(a.props.createStock({key:e,title:t}),a.setState({stockNameInputValue:""}))},a.onEditClick=function(){var e=a.state.stockNameInputValue;e&&(a.props.updateStock({key:Le,title:e}),a.setState({stockNameInputValue:"",phase:"add"}))},a.onItemEditClick=function(e){Le=e.key,a.setState({phase:"edit",stockNameInputValue:e.title}),a.refs.stockInput.focus()},a.onDeleteClick=function(e){Me=e,a.setState({showDeleteConfirmDialog:!0})},a.onDeleteConfirmClose=function(){a.setState({showDeleteConfirmDialog:!1})},a.onDeleteConfirmAccept=function(){a.setState({showDeleteConfirmDialog:!1}),a.props.deleteStock(Me)},a.onKeyDown=function(e){"Enter"===e.key&&("add"===a.state.phase?a.onAddClick():a.onEditClick())},a.renderStocksList=function(){return a.props.stocks.map(function(e){return o.a.createElement(Ne,Object.assign({},e,{onDeleteClick:function(){return a.onDeleteClick(e.key)},onEditClick:function(){return a.onItemEditClick(e)},onItemClick:function(){return a.props.selectStock(e)},isActive:e.key===a.props.activeStock.key,key:e.key}))})},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){new ge.a(this.refs.scrollable),this.refs.stockInput.focus()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"peer stock-list h-100p"},o.a.createElement("div",{className:"layers h-100"},o.a.createElement("div",{className:"bdB layer w-100 pos-r"},o.a.createElement("input",{type:"text",placeholder:"Category Name",name:"Name",ref:"stockInput",value:this.state.stockNameInputValue,onKeyDown:this.onKeyDown,onChange:function(t){return e.onInputChange(t.target.value,"stockNameInputValue")},className:"form-constrol p-15 bdrs-0 w-100 bdw-0 category-name-input"}),"add"===this.state.phase?o.a.createElement("button",{type:"button",className:"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10 category-add-btn",onClick:this.onAddClick},o.a.createElement("i",{className:"ti-plus"})):o.a.createElement("button",{type:"button",className:"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"layer w-100 fxg-1 scrollable pos-r",ref:"scrollable"},this.renderStocksList()),o.a.createElement("div",null,o.a.createElement(Fe,{isActive:this.state.showDeleteConfirmDialog,question:"Do you want to delete that StocksItem?",onModalClose:this.onDeleteConfirmClose,onAccept:this.onDeleteConfirmAccept}))))}}]),t}(o.a.Component),Pe={createStock:function(e){return{type:D,stock:e}},updateStock:function(e){return{type:A,stock:e}},deleteStock:function(e){return{type:F,key:e}},selectStock:function(e){return{type:M,stock:e}}},Re=Object(l.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock}},Pe)(Ie),xe=(a(127),function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick(e)},a.onEditClick=function(e){e.stopPropagation(),a.props.onEditClick(e)},a.onItemClick=function(e){a.props.onItemClick(e)},a.getEventTypeClassName=function(e){return 1===e?"event-item-good":0===e?"event-item-neutral":"event-item-bad"},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.date,n=e.T0T1,i=e.T1E,r=e.ET2,l=e.T2T3,s=this.props.isActive?"bgc-grey-50":"",c=this.getEventTypeClassName(this.props.eventType);return o.a.createElement("li",{onClick:this.onItemClick,className:"bdB peers ai-c bgcH-grey-50 jc-sb fxw-nw cur-p item ".concat(s," ").concat(c)},o.a.createElement("a",{className:"td-n p-20 peers fxw-nw mR-20 peer-greed c-grey-900"},o.a.createElement("div",{className:"peer"},o.a.createElement("span",{className:"fw-600 eventItemTitle"},t),o.a.createElement("div",{className:"c-grey-600"},o.a.createElement("span",{className:"c-grey-700 eventItemDate"},a)),o.a.createElement("div",{className:"c-grey-600"},o.a.createElement("span",{className:"c-grey-700 eventItemDate"},"Timeline: ",n,", ",i,", ",r,", ",l)))),o.a.createElement("div",{className:"peers mR-15"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5 edit-icon-btn",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 delete-icon-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component));xe.defaultProps={title:"",date:"",eventType:0,description:"...",onDeleteClick:function(){},onEditClick:function(){},onItemClick:function(){},isActive:!1};var _e=a(99),Ke=a.n(_e),Ve=a(57),Be=a.n(Ve),He=a(37),Ue=[{selector:".event-dialog-title-input",content:'Specify title of your event, for example "CEO died".'},{selector:".event-dialog-date-input",content:"Specify date of the event. attention, the date format must match with data source date format."},{selector:".event-dialog-external-resource-checkbox",content:"By checking this check box data source will be downloaded from external api."},{selector:".event-dialog-analysis-model-checkbox",content:"When checkbox is checked we use market model as analysis model, in otherwise we use constant mean model as analysis model."},{selector:".event-dialog-alphavantage-token-input",content:"For using external resources you need to sign up in alphavantage website, then import your token here."}],ze=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:a.props.isOpen},a.closeTour=function(){a.props.onRequestClose()},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){return o.a.createElement(He.a,{isOpen:this.props.isOpen,steps:Ue,rounded:4,onRequestClose:this.closeTour})}}]),t}(o.a.Component);ze.defaultProps={isOpen:!1,onRequestClose:function(){}};var We=ze,Ye=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(be.a)(this,Object(Ee.a)(t).call(this,e))).inputRef=o.a.createRef(),a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidUpdate",value:function(e){this.inputRef.current.value=this.props.inputValue}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"fw-500",dangerouslySetInnerHTML:{__html:this.props.inputLabel}}),o.a.createElement("input",{className:"form-control bdc-grey-200"+(this.props.invalidFeedback?" is-invalid":""),onChange:this.props.onChange,ref:this.inputRef,defaultValue:this.props.inputValue}),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component),qe=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(be.a)(this,Object(Ee.a)(t).call(this,e))).genOptions=function(){return a.props.selectOptions.map(function(e,t){var a=e.label,n=e.value,i=e.id;return o.a.createElement("option",{value:n,key:i||t},a)})},a.selectRef=o.a.createRef(),a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidUpdate",value:function(e){this.selectRef.current.value=this.props.selectValue}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"mr-sm-2 fw-500",htmlFor:"inlineFormCustomSelect"},this.props.selectLabel),o.a.createElement("select",{className:"custom-select bdc-grey-200 mr-sm-2"+(this.props.invalidFeedback?" is-invalid":""),id:"inlineFormCustomSelect",ref:this.selectRef,onChange:this.props.onChange,defaultValue:this.props.selectValue},o.a.createElement("option",{disabled:!0},"Choose..."),this.genOptions()),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component);qe.defaultProps={selectValue:"",selectLabel:"",selectOptions:[],invalidFeedback:"",onChange:function(){}};var $e,Ge=qe,Je=function(e){function t(e){var a;return Object(he.a)(this,t),(a=Object(be.a)(this,Object(Ee.a)(t).call(this,e))).handleChange=function(e){a.props.onChange&&a.props.onChange(e)},a.pickerRef=o.a.createRef(),a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){$e=we()(".event-date").datepicker({format:this.props.defaultEventDateFormat,autoclose:!0}).on("hide",this.handleChange)}},{key:"componentDidUpdate",value:function(e){this.pickerRef.current.value=this.props.pickerValue,this.props.defaultEventDateFormat!==e.defaultEventDateFormat&&$e.datepicker("destroy").datepicker({updateViewDate:!1,format:this.props.defaultEventDateFormat||"yyyy-mm-dd"}).on("changeDate",this.handleChange)}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("label",{className:"fw-500"},this.props.pickerLabel),o.a.createElement("div",{className:"timepicker-input input-icon form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-addon bgc-white bd bdwR-0"},o.a.createElement("i",{className:"ti-calendar"})),o.a.createElement("input",{type:"text",className:"form-control bdc-grey-200 event-date"+(this.props.invalidFeedback?" is-invalid":""),placeholder:"Datepicker","data-provide":"datepicker",ref:this.pickerRef,onChange:this.handleChange,defaultValue:this.props.pickerValue}),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)))}}]),t}(o.a.Component);Je.defaultProps={defaultEventDateFormat:"yyyy-mm-dd",pickerValue:"",pickerLabel:"",invalidFeedback:"",onChange:function(){}};var Xe,Qe=Je,Ze=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){a.props.onChange&&a.props.onChange(e)},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",accept:this.props.accept,onClick:function(e){e.target.value=null},onChange:this.handleChange,className:"custom-file-input form-control-file bdc-grey-200"+(this.props.invalidFeedback?" is-invalid":""),id:this.props.identifier}),o.a.createElement("label",{className:"fw-500 custom-file-label",htmlFor:this.props.identifier},this.props.inputLabel),this.props.invalidFeedback?o.a.createElement("div",{className:"invalid-feedback"},this.props.invalidFeedback):null)}}]),t}(o.a.Component),et=a(131),tt=function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=t,n.onerror=a,n.readAsText(e)})},at=function(e){return new Promise(function(t,a){tt(e).then(function(e){et().fromString(e.target.result).then(t).catch(a)}).catch(a)})},nt=a(98),ot=a.n(nt),it="https://www.alphavantage.co/query",rt=[],lt=function(e,t,a){var n=function(e,t,a){switch(t){case"1min":case"5min":case"15min":case"30min":case"60min":return"".concat(it,"?function=TIME_SERIES_INTRADAY&symbol=").concat(e,"&interval=").concat(t,"&outputsize=").concat("full","&apikey=").concat(a);case"Daily":return"".concat(it,"?function=TIME_SERIES_DAILY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);case"Weekly":return"".concat(it,"?function=TIME_SERIES_WEEKLY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);case"Monthly":return"".concat(it,"?function=TIME_SERIES_MONTHLY_ADJUSTED&symbol=").concat(e,"&outputsize=").concat("full","&apikey=").concat(a);default:return""}}(e,t,a);return new Promise(function(e,a){var o=function(e){return rt.find(function(t){return t[0]===e})}(n);o?e(o[1]):ot.a.get(n).then(function(o){var i=function(e){return e.data}(o),r=function(e){return e["Error Message"]}(i);if(r)a(r);else{var l=function(e){return Object.keys(e).sort(function(e,t){return Date.parse(e)-Date.parse(t)}).map(function(t){return{Date:t,Open:e[t]["1. open"],High:e[t]["2. high"],Low:e[t]["3. low"],Close:e[t]["4. close"],"Adj Close":e[t]["5. adjusted close"]}})}(i[function(e){switch(e){case"1min":return"Time Series (1min)";case"5min":return"Time Series (5min)";case"15min":return"Time Series (15min)";case"30min":return"Time Series (30min)";case"60min":return"Time Series (60min)";case"Daily":return"Time Series (Daily)";case"Weekly":return"Weekly Adjusted Time Series";case"Monthly":return"Monthly Adjusted Time Series";default:throw new Error("unknown interval")}}(t)]);!function(e,t){rt.push([e,t]),10===rt.length&&rt.shift()}(n,l),e(l)}}).catch(a)})},st=a(8),ct=function(e){return"string"===typeof e?e:"Invalid data"},ut=function(e){var t=e.loading,a=void 0!==t&&t,n=e.showHelp,o=void 0!==n&&n,i=e.title,r=void 0===i?"":i,l=e.date,s=void 0===l?"":l,c=e.dates,u=void 0===c?[]:c,d=e.stock,m=void 0===d?[]:d,p=e.stockSymbol,v=void 0===p?"":p,h=e.stockTimeFrame,f=void 0===h?"Daily":h,b=e.market,E=void 0===b?[]:b,k=e.marketSymbol,y=void 0===k?"":k,g=e.marketTimeFrame,C=void 0===g?"Daily":g,T=e.dateColumn,O=void 0===T?"":T,S=e.operationColumn,N=void 0===S?"":S,j=e.alphavantageToken,w=void 0===j?"":j,D=e.adjustmentRule,A=void 0===D?"":D,F=e.T0T1,M=void 0===F?"":F,L=e.T1E,I=void 0===L?"":L,P=e.ET2,R=void 0===P?"":P,x=e.T2T3,_=void 0===x?"":x,K=e.defaultEventDateFormat,V=void 0===K?"":K,B=e.analysisModel,H=void 0===B||B,U=e.useExternalSource,z=void 0!==U&&U,W=e.stockInputFileLabel,Y=void 0===W?"":W,q=e.marketInputFileLabel,$=void 0===q?"":q,G=e.invalidFeedBacks;return{loading:a,showHelp:o,title:r,date:s,dates:u,stock:m,stockSymbol:v,stockTimeFrame:f,market:E,marketSymbol:y,marketTimeFrame:C,dateColumn:O,operationColumn:N,alphavantageToken:w,adjustmentRule:A,T0T1:M,T1E:I,ET2:R,T2T3:_,defaultEventDateFormat:V,analysisModel:H,useExternalSource:z,stockInputFileLabel:Y,marketInputFileLabel:$,invalidFeedBacks:void 0===G?{title:"",date:"",stockInputFileLabel:"",stockSymbol:"",stockTimeFrame:"",marketInputFileLabel:"",marketSymbol:"",marketTimeFrame:"",alphavantageToken:"",dateColumn:"",operationColumn:"",adjustmentRule:"",T0T1:"",T1E:"",ET2:"",T2T3:"",globalError:""}:G}},dt=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).state=ut(a.props),a.handleCheckboxChange=function(e,t){a.setState(Object(m.a)({},e,t.target.checked))},a.onDeleteDate=function(e){var t=Object(ee.a)(a.state.dates);t.splice(e,1),a.setState({dates:t})},a.onDateChange=function(e){a.setState({date:e.target.value}),a.addDate()},a.analysisCheckBoxClass=function(e){return e?"col-sm-5":"col-sm-10"},a.onFileChange=function(e,t,n){var o=n.target.files[0];o&&at(o).then(function(n){var i;a.setState((i={},Object(m.a)(i,t,n),Object(m.a)(i,e,o.name),i))})},a.addDate=function(){if(a.state.date&&(Be()(a.state.date,a.state.defaultEventDateFormat.toUpperCase(),!0).isValid()&&-1===a.state.dates.findIndex(function(e){return e===a.state.date}))){var e=Object(ee.a)(a.state.dates);e.push(a.state.date),a.setState({dates:e})}},a.renderChips=function(){return a.state.dates.map(function(e,t){return o.a.createElement("div",{className:"chip",key:t},o.a.createElement("span",null,e),o.a.createElement("span",{className:"chip-close-btn",onClick:function(){a.onDeleteDate(t)}},"\xd7"))})},a.validateSharedInputs=function(){return[["date",Object(st.validateColumnName)(a.state.date)||""],["dateColumn",Object(st.validateColumnName)(a.state.dateColumn)||""],["operationColumn",Object(st.validateColumnName)(a.state.operationColumn)||""],["T0T1",Object(st.validateTimelineKey)(a.state.T0T1)||""],["T1E",Object(st.validateTimelineKey)(a.state.T1E)||""],["ET2",Object(st.validateTimelineKey)(a.state.ET2)||""],["T2T3",Object(st.validateTimelineKey)(a.state.T2T3)||""]].filter(function(e){return e[1]})},a.validateMarketModelSources=function(){return[["stock",Object(st.validatePrices)(a.state.stock,a.state.dateColumn,a.state.operationColumn)||""],["market",Object(st.validatePrices)(a.state.market,a.state.dateColumn,a.state.operationColumn)||""]].filter(function(e){return e[1]})},a.validateMeanModelSources=function(){return[["stock",Object(st.validatePrices)(a.state.stock,a.state.dateColumn,a.state.operationColumn)||""]].filter(function(e){return e[1]})},a.validateMarketModelExternalSourceInputs=function(){var e=Object(st.validateColumnName)(a.state.stockSymbol)||"",t=Object(st.validateColumnName)(a.state.stockTimeFrame)||"",n=Object(st.validateColumnName)(a.state.marketSymbol)||"",o=Object(st.validateColumnName)(a.state.marketTimeFrame)||"";return[["stockSymbol",e],["stockTimeFrame",t],["alphavantageToken",Object(st.validateColumnName)(a.state.alphavantageToken)||""],["marketSymbol",n],["marketTimeFrame",o]].filter(function(e){return e[1]})},a.validateMeanModelExternalSourceInputs=function(){return[["stockSymbol",Object(st.validateColumnName)(a.state.stockSymbol)||""],["stockTimeFrame",Object(st.validateColumnName)(a.state.stockTimeFrame)||""],["alphavantageToken",Object(st.validateColumnName)(a.state.alphavantageToken)||""]].filter(function(e){return e[1]})},a.validateAll=function(){var e,t=a.validateSharedInputs();e=a.state.analysisModel?a.state.useExternalSource?a.validateMarketModelExternalSourceInputs():a.validateMarketModelSources():a.state.useExternalSource?a.validateMeanModelExternalSourceInputs():a.validateMeanModelSources();var n=function(e,t){return e[t[0]]=t[1].toString(),e};return t.length||e.length?e.reduce(n,t.reduce(n,{})):null},a.getStockDataFromExternalResource=function(){return new Promise(function(e,t){var n=a.state,o=n.stockSymbol,i=n.stockTimeFrame,r=n.marketSymbol,l=n.marketTimeFrame,s=n.alphavantageToken;a.setState({loading:!0});var c=[function(){return lt(o,i,s)}];a.state.analysisModel&&c.push(function(){return lt(r,l,s)});c.reduce(function(e,n,o){return e.then(function(){return Promise.all([(e=500,new Promise(function(t){return setTimeout(t,e)})),n()]);var e}).then(function(e){0===o?a.setState({stock:e[1]}):a.setState({market:e[1]})}).catch(t)},Promise.resolve()).then(function(){a.setState({loading:!1}),e()})})},a.onAfterValidate=function(){var e=a.state,n=e.date,o=e.dates,i=e.title,r=void 0===i?"No Title":i,l=e.adjustmentRule,s=e.T0T1,c=e.T1E,u=e.ET2,d=e.T2T3,m=e.market,p=e.stock,v=e.dateColumn,h=e.operationColumn;o.length||o.push(n);var f={T0T1:s,T1E:c,ET2:u,T2T3:d},b=!1,E=o.map(function(e){var t=[{date:e,stock:p,market:m,timeline:f,dateColumn:v,operationColumn:h,unmatchedTradingDayStrategy:l}],n=a.state.analysisModel?Object(st.MarketModel)({calendar:t})[0]:Object(st.MeanModel)({calendar:t})[0];return Ke()(Object,n)&&!n.errors||(a.setState({invalidFeedBacks:{globalError:ct(n)}}),b=!0,a.scrollTop()),n});if(!b){var k=o.map(function(e){return{date:e,title:r,T0T1:s,T1E:c,ET2:u,T2T3:d,dateColumn:v,operationColumn:h}});t.hideModal(),a.props.onAccept({eventsData:k,statsResults:E})}},a.onAccept=function(){var e=a.validateAll();e?a.setState({invalidFeedBacks:e}):a.state.useExternalSource?a.getStockDataFromExternalResource().then(function(){var e=a.validateAll();e?a.setState({invalidFeedBacks:e,loading:!1}):a.onAfterValidate()}).catch(function(e){"object"===typeof e&&(e=e.message||JSON.stringify(e)),a.setState({loading:!1,invalidFeedBacks:{globalError:e}}),a.scrollTop()}):a.onAfterValidate()},a.onHelpClick=function(){a.setState({showHelp:!0})},a.onTourCloseClick=function(){a.setState({showHelp:!1})},a.scrollTop=function(){a.refs.modalBody.scrollTop=0},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(m.a)({},e,t.target.value))}},{key:"componentDidMount",value:function(){var e=this;(Xe=we()(this.refs.modal)).on("hidden.bs.modal",function(t){e.props.onModalClose(t)}),Xe.on("shown.bs.modal",function(t){e.props.onModalOpen(t)}),this.props.isActive&&t.showModal()}},{key:"componentWillUpdate",value:function(e){if(this.props.isActive!==e.isActive)if(e.isActive)this.setState(ut(Object.assign({},this.props,e.event)));else{this.setState(ut({}));var t=document.getElementById("eventDialogStockPriceInput"),a=document.getElementById("eventDialogMarketPriceInput");t&&(t.value=""),a&&(a.value="")}}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?t.showModal():t.hideModal())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog",id:"event-dialog-modal",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"bd p-15 modal-header"},o.a.createElement("h5",{className:"m-0 dialog-title"},o.a.createElement("a",{href:"#",className:"icon-button pl-0 pos-r t-2",onClick:this.onHelpClick},o.a.createElement("i",{className:"ti-help-alt"})),this.props.dialogTitle),o.a.createElement("button",{type:"button",className:"close float-right","data-dismiss":"modal","aria-label":"Close",disabled:this.state.loading},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body",ref:"modalBody"},o.a.createElement(We,{isOpen:this.state.showHelp,onRequestClose:this.onTourCloseClick}),this.state.invalidFeedBacks.globalError?o.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.invalidFeedBacks.globalError,"!"):null,o.a.createElement("form",null,o.a.createElement("div",{className:"form-group event-dialog-title-input"},o.a.createElement(Ye,{inputLabel:"Event title",inputValue:this.state.title,invalidFeedback:this.state.invalidFeedBacks.title,onChange:function(t){return e.handleChange("title",t)}})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 event-dialog-date-input"},o.a.createElement(Qe,{pickerLabel:"Dates",defaultEventDateFormat:this.state.defaultEventDateFormat,pickerValue:this.state.date,invalidFeedback:this.state.invalidFeedBacks.date,onChange:function(t){return e.onDateChange(t)}}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"form-group"},this.renderChips()))),o.a.createElement("div",{className:"form-group event-dialog-external-resource-checkbox"},o.a.createElement("div",{className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"toggleUseExternalResource",checked:this.state.useExternalSource,onChange:function(t){return e.handleCheckboxChange("useExternalSource",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleUseExternalResource"},"Use external resources"))),o.a.createElement("div",{className:"form-row"},this.state.useExternalSource?o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("div",{className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"toggleMarketModel",checked:this.state.analysisModel,onChange:function(t){return e.handleCheckboxChange("analysisModel",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleMarketModel"},"MM"))),o.a.createElement("div",{className:"form-group "+this.analysisCheckBoxClass(this.state.analysisModel)},o.a.createElement("div",null,o.a.createElement(Ye,{inputLabel:"Stock Symbol",inputValue:this.state.stockSymbol,invalidFeedback:this.state.invalidFeedBacks.stockSymbol,onChange:function(t){return e.handleChange("stockSymbol",t)}}),o.a.createElement("div",{className:"form-group"}),o.a.createElement(Ge,{selectLabel:"Stock Time Frame",selectValue:this.state.stockTimeFrame,selectOptions:q,invalidFeedback:this.state.invalidFeedBacks.stockTimeFrame,onChange:function(t){return e.handleChange("stockTimeFrame",t)}}))),this.state.analysisModel?o.a.createElement("div",{className:"form-group col-sm-5"},o.a.createElement(Ye,{inputLabel:"Market Symbol",inputValue:this.state.marketSymbol,invalidFeedback:this.state.invalidFeedBacks.marketSymbol,onChange:function(t){return e.handleChange("marketSymbol",t)}}),o.a.createElement("div",{className:"form-group"}),o.a.createElement(Ge,{selectLabel:"Market Time Frame",selectValue:this.state.marketTimeFrame,selectOptions:q,invalidFeedback:this.state.invalidFeedBacks.marketTimeFrame,onChange:function(t){return e.handleChange("marketTimeFrame",t)}})):null):o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"col-sm-2"},o.a.createElement("div",{className:"custom-control custom-checkbox mt-2 event-dialog-analysis-model-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"toggleMarketModel",checked:this.state.analysisModel,onChange:function(t){return e.handleCheckboxChange("analysisModel",t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"toggleMarketModel"},"MM"))),o.a.createElement("div",{className:"form-group "+this.analysisCheckBoxClass(this.state.analysisModel)},o.a.createElement(Ze,{accept:".csv",identifier:"eventDialogStockPriceInput",inputLabel:this.state.stockInputFileLabel||"Stock prices",invalidFeedback:this.state.invalidFeedBacks.stock,onChange:function(t){return e.onFileChange("stockInputFileLabel","stock",t)}})),this.state.analysisModel?o.a.createElement("div",{className:"form-group col-sm-5"},o.a.createElement(Ze,{accept:".csv",identifier:"eventDialogMarketPriceInput",inputLabel:this.state.marketInputFileLabel||"Market prices",invalidFeedback:this.state.invalidFeedBacks.market,onChange:function(t){return e.onFileChange("marketInputFileLabel","market",t)}})):null)),this.state.useExternalSource?o.a.createElement("div",{className:"form-group event-dialog-alphavantage-token-input"},o.a.createElement(Ye,{inputLabel:'Alphavantage Token: <a href="https://www.alphavantage.co/support/#api-key" target="_blank">get your token</a>',inputValue:this.state.alphavantageToken,invalidFeedback:this.state.invalidFeedBacks.alphavantageToken,onChange:function(t){return e.handleChange("alphavantageToken",t)}})):null,o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Date Column",inputValue:this.state.dateColumn,invalidFeedback:this.state.invalidFeedBacks.dateColumn,onChange:function(t){return e.handleChange("dateColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Operation Column",inputValue:this.state.operationColumn,invalidFeedback:this.state.invalidFeedBacks.operationColumn,onChange:function(t){return e.handleChange("operationColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ge,{selectLabel:"Adjustment Rule for Non-Trading Days",selectValue:this.state.adjustmentRule,invalidFeedback:this.state.invalidFeedBacks.adjustmentRule,selectOptions:Y,onChange:function(t){return e.handleChange("adjustmentRule",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Estimation period (T0T1)",inputValue:this.state.T0T1,invalidFeedback:this.state.invalidFeedBacks.T0T1,onChange:function(t){return e.handleChange("T0T1",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Pre-announcement window (T1E)",inputValue:this.state.T1E,invalidFeedback:this.state.invalidFeedBacks.T1E,onChange:function(t){return e.handleChange("T1E",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Post-announcement window (ET2)",inputValue:this.state.ET2,invalidFeedback:this.state.invalidFeedBacks.ET2,onChange:function(t){return e.handleChange("ET2",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Post event period (T2T3)",inputValue:this.state.T2T3,invalidFeedback:this.state.invalidFeedBacks.T2T3,onChange:function(t){return e.handleChange("T2T3",t)}})))),o.a.createElement("div",{className:"text-right modal-footer"},o.a.createElement("button",{type:"button",className:"btn","data-dismiss":"modal",disabled:this.state.loading},"Close"),o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.onAccept,disabled:this.state.loading},this.state.loading?o.a.createElement(n.Fragment,null,o.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"downloading, might take a while..."):o.a.createElement("span",null,"Done"))))))}}],[{key:"showModal",value:function(){Xe.modal({keyboard:!1,backdrop:"static",show:!0})}},{key:"hideModal",value:function(){Xe.modal("hide")}}]),t}(o.a.Component);dt.defaultProps={isActive:!1,onModalClose:function(){},onModalOpen:function(){},onAccept:function(){},dialogTitle:"",title:"",date:""};var mt,pt,vt=Object(l.b)(function(e){return{dateColumn:e.setting.dateColumn,operationColumn:e.setting.operationColumn,alphavantageToken:e.setting.alphavantageToken,defaultEventDateFormat:e.setting.defaultEventDateFormat,adjustmentRule:e.setting.adjustmentRule,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}})(dt),ht=function(e){return o.a.createElement("div",{className:"pos-a t-0 l-0 bgc-white w-100 h-100 d-f fxd-r fxw-w ai-c jc-c pos-r p-30",style:{zIndex:e.zIndex||1}},o.a.createElement("div",{className:"d-f jc-c fxd-c"},o.a.createElement("h3",{className:"mB-10 fsz-lg c-grey-900 tt-c title"},e.title),o.a.createElement("p",{className:"mB-30 fsz-def c-grey-700 description"},e.description)))},ft=function(e){function t(){return Object(he.a)(this,t),Object(be.a)(this,Object(Ee.a)(t).apply(this,arguments))}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){var e=this.props.isActive;return o.a.createElement(n.Fragment,null,e?o.a.createElement(ht,this.props):null)}}]),t}(o.a.Component),bt=(a(221),"Add Event"),Et="Edit Event",kt="add",yt={title:"Create Event",description:"Click on the plus sign.",isActive:!0},gt=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).state={eventDialogTitle:"",eventDialogEvent:{},isEventDialogActive:!1,isConfirmDialogActive:!1,eventList:[]},a.renderUnavailableComponent=function(){return a.props.eventList&&a.props.eventList.length?null:o.a.createElement(ft,yt)},a.onDeleteClick=function(e){mt=e,a.setState({isConfirmDialogActive:!0})},a.onEditClick=function(e){kt="edit",mt=e,a.setState({eventDialogTitle:Et,eventDialogEvent:e,isEventDialogActive:!0})},a.onEventClick=function(e){a.props.activeEvents[e.key]?a.props.deselectEvent(e,a.props.stockKey):a.props.selectEvent(e,a.props.stockKey)},a.renderEvents=function(){return a.props.eventList?a.props.eventList.map(function(e){return o.a.createElement(xe,Object.assign({onDeleteClick:function(){return a.onDeleteClick(e)},onEditClick:function(){return a.onEditClick(e)},onItemClick:function(){return a.onEventClick(e)},isActive:Boolean(a.props.activeEvents[e.key]),key:e.key,eventType:a.props.analysis[e.key].newsType},e))}):null},a.onPlusClick=function(){kt="add",a.setState({isEventDialogActive:!0,eventDialogTitle:bt,eventDialogEvent:{}})},a.onAnalysisClick=function(){a.props.setActiveMainFrame("ANALYSIS")},a.onEventAddModalClose=function(){a.setState({isEventDialogActive:!1})},a.onConfirmModalClose=function(){a.setState({isConfirmDialogActive:!1})},a.onEventDialogAccept=function(e){var t=e.eventsData;e.statsResults.forEach(function(e,n){var o=t[n];o&&("add"===kt?(o.key=Te()(),a.props.createAnalysis(e,a.props.stockKey,o.key),a.props.createEvent(o,a.props.stockKey)):(o.key=mt.key,a.props.updateEvent(o,a.props.stockKey),a.props.updateAnalysis(e,a.props.stockKey,o.key)))})},a.onDeleteEventAccept=function(){a.setState({isConfirmDialogActive:!1}),a.props.deleteEvent(mt.key,a.props.stockKey)},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){new ge.a(this.refs.scrollable)}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Event List")),o.a.createElement("div",{className:"pos-r event-items-wrap"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"d-ib pos-a r-10 t-25 zi-2 mT-nv-50"},o.a.createElement("button",{type:"button",onClick:this.onAnalysisClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-list-analyse-btn d-n@md+"},o.a.createElement("i",{className:"ti-stats-up"})),o.a.createElement("button",{type:"button",onClick:this.onPlusClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-dialog-btn ml-3"},o.a.createElement("i",{className:"ti-plus"}))),o.a.createElement("ul",{className:"m-0 p-0 pos-r",ref:"scrollable",id:"event-items"},this.renderEvents()))),o.a.createElement(vt,{isActive:this.state.isEventDialogActive,dialogTitle:this.state.eventDialogTitle,onModalClose:this.onEventAddModalClose,onAccept:this.onEventDialogAccept,event:this.state.eventDialogEvent}),o.a.createElement(Fe,{isActive:this.state.isConfirmDialogActive,onModalClose:this.onConfirmModalClose,onAccept:this.onDeleteEventAccept,question:"Are you sure that you want to delete this Event?"}))}}]),t}(o.a.Component),Ct=[],Tt=function(e){return e.stocks.activeStock.key},Ot=function(e){return e.events.events[e.stocks.activeStock.key]},St=function(e){return e.events.activeEvents[e.stocks.activeStock.key]},Nt=function(e){return e.analysis.analysis[e.stocks.activeStock.key]||Ct},jt={createEvent:function(e,t){return{type:O,payload:{event:e,stockKey:t}}},updateEvent:function(e,t){return{type:S,payload:{event:e,stockKey:t}}},deleteEvent:function(e,t){return{type:N,payload:{key:e,stockKey:t}}},selectEvent:function(e,t){return{type:j,payload:{event:e,stockKey:t}}},deselectEvent:function(e,t){return{type:w,payload:{event:e,stockKey:t}}},createAnalysis:function(e,t,a){return{type:L,payload:{analysis:e,stockKey:t,eventKey:a}}},updateAnalysis:function(e,t,a){return{type:I,payload:{analysis:e,stockKey:t,eventKey:a}}},setActiveMainFrame:Se,deleteAnalysis:function(e,t){return{type:P,payload:{eventKey:e,stockKey:t}}}},wt=Object(l.b)(function(e){return{stockKey:Tt(e),eventList:Ot(e),activeEvents:St(e),analysis:Nt(e)}},jt)(gt),Dt=(a(222),a(100)),At=a(102),Ft=a.n(At),Mt=a(62),Lt=a.n(Mt),It=a(29),Pt=a.n(It),Rt=a(103),xt=a.n(Rt),_t=a(101),Kt=a.n(_t),Vt=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).getChartData=function(){return{labels:a.props.labels,dataSets:a.props.dataSets}},a.initChart=function(){var e=a.refs.lineChart,t=a.getChartData(),n=t.labels,o=t.dataSets,i=e.getContext("2d");e.height=80,pt=new Kt.a(i,{type:"line",data:{labels:n,datasets:o},options:{legend:{display:!0}}})},a.updateChart=function(){var e=a.getChartData(),t=e.labels,n=e.dataSets;pt.data.labels=t,pt.data.datasets=n,pt.update()},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){this.initChart()}},{key:"componentDidUpdate",value:function(e){e.labels===this.props.labels&&e.dataSets===this.props.dataSets||this.updateChart()}},{key:"render",value:function(){return o.a.createElement("canvas",{className:"line-chart",ref:"lineChart",height:"220"})}}]),t}(o.a.Component);Vt.defaultProps={labels:[],dataSets:[]};var Bt="#f44336",Ht="#d32f2f",Ut="#4caf50",zt="#388e3c",Wt="#9e9e9e",Yt="#616161";function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qt(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Gt={title:"Analyse Events",description:"You need to create and select at least One event in order to get analysis.",isActive:!0},Jt={title:"No Analysis Available",description:"If you want your final analysis hit analyse button",isActive:!0},Xt=function(e){return"0"===(e=e.toString())?"Neutral":"-1"===e?"Bad News":"Good News"},Qt=function(e){return $t({},function(e){return"0"===(e=e.toString())?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Wt,pointBackgroundColor:Yt,borderWidth:2}:"-1"===e?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Bt,pointBackgroundColor:Ht,borderWidth:2}:{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Ut,pointBackgroundColor:zt,borderWidth:2}}(e),{label:Xt(e)})},Zt=function(e,t){return $t({data:e},Qt(t))},ea=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).renderUnavailableComponent=function(){var e=te(a.props.activeEvents),t=te(a.props.analysis);return e?o.a.createElement(ft,Gt):!e&&t?o.a.createElement(ft,Jt):null},a.getChartData=function(){var e={labels:[],dataSets:[],chartLegend:""};if(!a.props.activeEvents)return e;var t=a.props.activeEvents;if(t.length>1){var n=t.map(function(e){return a.props.analysis[e.key]}).filter(function(e){return e});if(n.length<=1)return e;var o=Ft()(Lt()("newsType"),n),i=Pt()(xt()(Lt()("abnormalReturn")),o),r=Pt()(st.AAR,i),l=Pt()(st.CAR,r),s=Pt()(function(e,t){return Zt(e,t)},l);e.labels=ae(t[0].ET2+t[0].T1E-1).map(function(e){return e-(t[0].T1E-1)}),e.dataSets=Object.values(s),e.chartLegend="CAAR Stats (Cumulative Average Abnormal Return):"}else if(1===t.length){var c=t[0],u=a.props.analysis[c.key];if(!u)return e;var d=u.returnDates,m=[u.CARS].map(function(e){return Zt(e,u.newsType)});e.labels=d,e.dataSets=m,e.chartLegend="CAR Stats for: "+c.date}return e},a.onEventListClick=function(){a.props.setActiveMainFrame("EVENT_LIST")},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){new ge.a(this.refs.scrollable)}},{key:"render",value:function(){var e=this.getChartData();return o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Analysis")),o.a.createElement("div",{className:"m-0 p-0 pos-r analysis-scroll-container-wrap"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"d-ib pos-a r-10 t-25 zi-2 mT-nv-50"},o.a.createElement("button",{type:"button",onClick:this.onEventListClick,className:"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning analysis-event-list-btn d-n@md+"},o.a.createElement("i",{className:"ti-agenda"}))),o.a.createElement("div",{className:"pos-r",ref:"scrollable",id:"analysis-scroll-container"},o.a.createElement("div",{className:"bd bgc-white"},o.a.createElement("div",{className:"layers"},o.a.createElement("div",{className:"layer w-100 pX-20 pT-20"},o.a.createElement("h6",{className:"lh-1"},e.chartLegend)),o.a.createElement("div",{className:"layer w-100 p-20"},o.a.createElement(Vt,e)))))))}}]),t}(o.a.Component),ta=[],aa=[],na={},oa=function(e){return e.stocks.activeStock.key},ia=function(e){return e.events.events[e.stocks.activeStock.key]||ta},ra=function(e){return e.analysis.analysis[e.stocks.activeStock.key]||aa},la=Object(Dt.a)([ia,function(e){return e.events.activeEvents[e.stocks.activeStock.key]||na}],function(e,t){return e.filter(function(e){return t[e.key]})}),sa={setActiveMainFrame:Se},ca=Object(l.b)(function(e){return{stockKey:oa(e),eventList:ia(e),analysis:ra(e),activeEvents:la(e)}},sa)(ea),ua=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).DialogHeader=function(){return o.a.createElement("h5",{className:"m-0 dialog-title"},"How to use")},a.DialogBody=function(){return o.a.createElement("div",{className:"accordion",id:"accordionExample"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"headingOne"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"Example with custom resources."))),o.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,"1. Create A Category"),o.a.createElement("p",null,"2. Download",o.a.createElement("a",{className:"px-1",download:"price_data",href:"/data/price_data.zip"},"Apple and S&P500 prices"),"and unzip it (these data comes from yahoo finance)."),o.a.createElement("p",null,"3. Create An Event: click on big plus icon, then copy and paste 2019-01-30 into dates input like the following image:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/dates.png",alt:"dates"}),o.a.createElement("br",null),"click on stock price input and load AAPL.csv from zip folder then load ^GSPC.csv in Market Price input like the the following image:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/price inputs.png",alt:"inputs"}),o.a.createElement("br",null),"finally hit done button and see your analysis results in result section:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/analysis.png",alt:"analysis"}))))),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header",id:"headingTwo"},o.a.createElement("h2",{className:"mb-0"},o.a.createElement("button",{className:"btn btn-link collapsed",type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"Example with online resources."))),o.a.createElement("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionExample"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,"1. Create A Category"),o.a.createElement("p",null,"2. Get an API key from",o.a.createElement("a",{href:"https://www.alphavantage.co/support/#api-key",className:"px-1",rel:"external noopener noreferrer",target:"_blank"},"Alphavantage website")),o.a.createElement("p",null,"3. Create An Event: click on big plus icon, then copy and paste 2019-01-30 into dates input like the following image:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/dates.png",alt:"dates"}),o.a.createElement("br",null),"Check external resources checkbox then type AAPL (apple symbol) in stock symbol input then type .INX (S&P500 symbol) in Market symbol input like the the following image:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/external resource.png",alt:"external resource"}),o.a.createElement("br",null),"Copy and paste your API key in Alphavantage Token input:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/alphavantage input.png",alt:"alphavantage input"}),o.a.createElement("br",null),"finally hit done button and see your analysis results in result section:",o.a.createElement("br",null),o.a.createElement("img",{className:"my-3",width:"100%",src:"/images/analysis.png",alt:"analysis"}))))))},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){we()(".collapse").collapse()}},{key:"render",value:function(){return o.a.createElement(De,{header:o.a.createElement(this.DialogHeader,null),body:o.a.createElement(this.DialogBody,null),isActive:this.props.isActive,onModalClose:this.props.onModalClose})}}]),t}(o.a.Component);ua.defaultProps={isActive:!0,onModalClose:function(){}};var da=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).state={isHelpActive:!1},a.onImportStateInputChange=function(e){var t=e.target.files[0];t&&tt(t).then(function(e){localStorage.setItem("persist:root",e.target.result),window.location.reload()})},a.onStockListToggleClick=function(){a.props.stockListStatus?a.props.hideStockList():a.props.showStockList()},a.onHelpClick=function(){a.setState({isHelpActive:!0})},a.onHelpDialogClose=function(){a.setState({isHelpActive:!1})},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){we()('.navbar [data-toggle="tooltip"]').tooltip()}},{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement(ua,{isActive:this.state.isHelpActive,onModalClose:this.onHelpDialogClose}),o.a.createElement("div",{className:"header navbar"},o.a.createElement("div",{className:"header-container"},o.a.createElement("ul",{className:"nav-left"},o.a.createElement("li",{className:"stock-list-toggle d-lg-none",onClick:this.onStockListToggleClick},o.a.createElement("a",{href:"#"},o.a.createElement("i",{className:"ti-menu-alt"}))),o.a.createElement("li",{onClick:this.onHelpClick,className:"header-help-btn"},o.a.createElement("a",{href:"#","data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Help"},o.a.createElement("i",{className:"ti-help-alt"})))),o.a.createElement("ul",{className:"nav-right"},o.a.createElement("li",{className:"header-import-btn"},o.a.createElement("a",{href:"#",onClick:t.onImportClick,"data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Load data"},o.a.createElement("i",{className:"ti-folder"})),o.a.createElement("input",{type:"file",accept:".json",onChange:this.onImportStateInputChange,className:"d-none",id:"importStateInput"})),o.a.createElement("li",{className:"header-export-btn"},o.a.createElement("a",{href:"#","data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Save data",onClick:t.onExportClick},o.a.createElement("i",{className:"ti-export"}))),o.a.createElement("li",{className:"open-setting-btn","data-toggle":"tooltip","data-placement":"bottom","data-original-title":"Setting",onClick:this.props.showSetting},o.a.createElement("a",{href:"#"},o.a.createElement("i",{className:"ti-settings"})))))))}}],[{key:"onExportClick",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate();!function(e,t){var a=new Blob([t],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(a,e);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(a),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}("".concat("Event study state","-").concat(t,"-").concat(a,"-").concat(n),localStorage.getItem("persist:root"))}},{key:"onImportClick",value:function(){var e=document.getElementById("importStateInput");e&&e.click()}}]),t}(o.a.Component),ma={showSetting:Oe,showStockList:function(){return{type:K}},hideStockList:function(){return{type:_}}},pa=Object(l.b)(function(e){return{stockListStatus:e.application.stockListStatus}},ma)(da),va=[{selector:".header-help-btn",content:"Please hit this button to see how to use this application."},{selector:".category-name-input",content:'Specify name of your category first, for example, "Apple Net Incomes" it\'s just for organizing events better.'},{selector:".category-add-btn",content:"Add that Category"},{selector:".open-setting-btn",content:"Set your defaults..."},{selector:".header-export-btn",content:"Save and download your information."},{selector:".header-import-btn",content:"Load your saved information."}],ha=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(o)))).closeTour=function(){a.props.setIsFirstTimeVisit(!1)},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){return o.a.createElement(He.a,{isOpen:this.props.isFirstTimeVisit&&"ReactSnap"!==navigator.userAgent,steps:va,rounded:4,onRequestClose:this.closeTour})}}]),t}(o.a.Component),fa={setIsFirstTimeVisit:function(e){return{type:H,value:e}}},ba=Object(l.b)(function(e){return{isFirstTimeVisit:e.application.isFirstTimeVisit}},fa)(ha),Ea=function(e){var t=e.dateColumn,a=void 0===t?"":t,n=e.operationColumn,o=void 0===n?"":n,i=e.alphavantageToken,r=void 0===i?"":i,l=e.adjustmentRule,s=void 0===l?"":l,c=e.T0T1,u=void 0===c?"":c,d=e.T1E,m=void 0===d?"":d,p=e.ET2,v=void 0===p?"":p,h=e.T2T3,f=void 0===h?"":h,b=e.defaultEventDateFormat,E=void 0===b?"":b,k=e.showResetConfirmDialog,y=void 0!==k&&k,g=e.invalidFeedBacks;return{dateColumn:a,operationColumn:o,alphavantageToken:r,adjustmentRule:s,T0T1:u,T1E:m,ET2:v,T2T3:f,defaultEventDateFormat:E,showResetConfirmDialog:y,invalidFeedBacks:void 0===g?{dateColumn:"",operationColumn:"",adjustmentRule:"",T0T1:"",T1E:"",ET2:"",T2T3:"",defaultEventDateFormat:""}:g}},ka=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).state=Ea(a.props),a.DialogHeader=function(){return o.a.createElement("h5",{className:"m-0 dialog-title"},"Setting")},a.DialogBody=function(){return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Date Column",inputValue:a.state.dateColumn,invalidFeedback:a.state.invalidFeedBacks.dateColumn,onChange:function(e){return a.handleChange("dateColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Operation Column",inputValue:a.state.operationColumn,invalidFeedback:a.state.invalidFeedBacks.operationColumn,onChange:function(e){return a.handleChange("operationColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Alphavantage Token",inputValue:a.state.alphavantageToken,invalidFeedback:a.state.invalidFeedBacks.alphavantageToken,onChange:function(e){return a.handleChange("alphavantageToken",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Default Event Date Format (In create event dialog)",inputValue:a.state.defaultEventDateFormat,invalidFeedback:a.state.invalidFeedBacks.defaultEventDateFormat,onChange:function(e){return a.handleChange("defaultEventDateFormat",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ge,{selectLabel:"Adjustment Rule for Non-Trading Days",selectValue:a.state.adjustmentRule,invalidFeedback:a.state.invalidFeedBacks.adjustmentRule,selectOptions:Y,onChange:function(e){return a.handleChange("adjustmentRule",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Estimation period (T0T1)",inputValue:a.state.T0T1,invalidFeedback:a.state.invalidFeedBacks.T0T1,onChange:function(e){return a.handleChange("T0T1",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Pre-announcement window  (T1E)",inputValue:a.state.T1E,invalidFeedback:a.state.invalidFeedBacks.T1E,onChange:function(e){return a.handleChange("T1E",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Post-announcement window (ET2)",inputValue:a.state.ET2,invalidFeedback:a.state.invalidFeedBacks.ET2,onChange:function(e){return a.handleChange("ET2",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement(Ye,{inputLabel:"Post event period (T2T3)",inputValue:a.state.T2T3,invalidFeedback:a.state.invalidFeedBacks.T2T3,onChange:function(e){return a.handleChange("T2T3",e)}})))},a.DialogFooter=function(){return o.a.createElement("div",{className:"w-100"},o.a.createElement("button",{className:"btn btn-outline-danger cur-p float-left","data-dismiss":"modal",onClick:a.onReset},"Reset Settings"),o.a.createElement("button",{type:"button",className:"btn mr-1","data-dismiss":"modal"},"Close"),o.a.createElement("button",{className:"btn btn-primary cur-p ml-1",onClick:a.onAccept},"Done"))},a.handleChange=function(e,t){a.setState(Object(m.a)({},e,t.target.value))},a.onAccept=function(){var e=Object(st.validateColumnName)(a.state.dateColumn)||"",t=Object(st.validateColumnName)(a.state.operationColumn)||"",n=Object(st.validateColumnName)(a.state.adjustmentRule)||"",o=Object(st.validateTimelineKey)(a.state.T0T1)||"",i=Object(st.validateTimelineKey)(a.state.T1E)||"",r=Object(st.validateTimelineKey)(a.state.ET2)||"",l=Object(st.validateTimelineKey)(a.state.T2T3)||"",s=Object(st.validateColumnName)(a.state.defaultEventDateFormat)||"";e||t||n||o||i||r||l||s?a.setState({invalidFeedBacks:{dateColumn:e.toString(),operationColumn:t.toString(),adjustmentRule:n.toString(),T0T1:o.toString(),T1E:i.toString(),ET2:r.toString(),T2T3:l.toString(),defaultEventDateFormat:s.toString()}}):(a.props.setDateColumn(a.state.dateColumn),a.props.setOperationColumn(a.state.operationColumn),a.props.setAlphavantageToken(a.state.alphavantageToken),a.props.setAdjustmentRule(a.state.adjustmentRule),a.props.setT0T1(+a.state.T0T1),a.props.setT1E(+a.state.T1E),a.props.setET2(+a.state.ET2),a.props.setT2T3(+a.state.T2T3),a.props.setDefaultEventDateFormat(a.state.defaultEventDateFormat),a.props.hideSetting())},a.onReset=function(){a.setState({showResetConfirmDialog:!0})},a.onResetConfirmClose=function(){a.setState({showResetConfirmDialog:!1}),a.props.showSettingMethod()},a.onResetConfirmAccept=function(){a.setState({showResetConfirmDialog:!1}),a.props.resetSettingDefaults(),a.props.showSettingMethod()},a.onModalClose=function(){a.props.hideSetting()},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement(De,{onModalClose:this.onModalClose,isActive:this.props.showSetting,header:o.a.createElement(this.DialogHeader,null),body:o.a.createElement(this.DialogBody,null),footer:o.a.createElement(this.DialogFooter,null)}),o.a.createElement(Fe,{isActive:this.state.showResetConfirmDialog,question:"Your setting data will be replaced by default ones, do you agree?",onModalClose:this.onResetConfirmClose,onAccept:this.onResetConfirmAccept}))}}]),t}(o.a.Component),ya={hideSetting:function(){return{type:x}},setDateColumn:function(e){return{type:y,dateColumn:e}},setOperationColumn:function(e){return{type:g,operationColumn:e}},setAlphavantageToken:function(e){return{type:C,token:e}},setDefaultEventDateFormat:function(e){return{type:B,value:e}},setAdjustmentRule:function(e){return{type:T,value:e}},setT0T1:function(e){return{type:h,value:e}},setT1E:function(e){return{type:f,value:e}},setET2:function(e){return{type:b,value:e}},setT2T3:function(e){return{type:E,value:e}},resetSettingDefaults:function(){return{type:k}},showSettingMethod:Oe},ga=Object(l.b)(function(e){return{showSetting:e.application.showSetting,dateColumn:e.setting.dateColumn,alphavantageToken:e.setting.alphavantageToken,operationColumn:e.setting.operationColumn,defaultEventDateFormat:e.setting.defaultEventDateFormat,adjustmentRule:e.setting.adjustmentRule,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}},ya)(ka),Ca=(a(236),{title:"Create a Category",description:"First of all you need to create a category.",isActive:!0,zIndex:9}),Ta=function(e){function t(){var e,a;Object(he.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(be.a)(this,(e=Object(Ee.a)(t)).call.apply(e,[this].concat(i)))).renderUnavailableComponent=function(){return te(a.props.activeStock)?o.a.createElement(ft,Ca):null},a.hideNoneActiveFrame=function(e){return a.props.activeMainFrame===e?"":"d-n@md-"},a.showStockList=function(){return a.props.stockListStatus?"":"close-stocks"},a}return Object(ke.a)(t,e),Object(fe.a)(t,[{key:"componentDidMount",value:function(){new ge.a(this.refs.scrollable)}},{key:"render",value:function(){return o.a.createElement("div",{className:"h-100p "+this.showStockList()},o.a.createElement("div",{className:"page-container h-100p"},o.a.createElement(ba,null),o.a.createElement(ga,null),o.a.createElement(pa,null),o.a.createElement("main",{className:"main-content bgc-grey-200"},o.a.createElement("div",{id:"mainContent",className:"h-100p"},o.a.createElement("div",{className:"container-fluid h-100p pos-r",ref:"scrollable"},o.a.createElement(Re,null),o.a.createElement("div",{className:"main-wrapper pos-r h-100p"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"row h-100p"},o.a.createElement("div",{className:"col-lg-4 col-md-12 h-100p "+this.hideNoneActiveFrame("EVENT_LIST")},o.a.createElement(wt,null)),o.a.createElement("div",{className:"col-lg-8 col-md-12 h-100p "+this.hideNoneActiveFrame("ANALYSIS")},o.a.createElement(ca,null))))))),o.a.createElement("footer",{className:"bdT ta-c p-30 lh-0 fsz-sm c-grey-600"},o.a.createElement("span",null,"Report any issue to: ",o.a.createElement("a",{href:"mailto:m_javidi@outlook.com"},"m_javidi@outlook.com"),"."))))}}]),t}(o.a.Component),Oa=Object(l.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock,stockListStatus:e.application.stockListStatus,activeMainFrame:e.application.activeMainFrame}})(Ta),Sa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Na(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(237);var ja=function(){return o.a.createElement(ye,{active:!0})},wa=document.getElementById("root"),Da=function(){return o.a.createElement(l.a,{store:pe},o.a.createElement(r.a,{loading:o.a.createElement(ja,null),persistor:ve},o.a.createElement(Oa,null)))};wa.hasChildNodes()?Object(i.hydrate)(o.a.createElement(Da,null),wa):Object(i.render)(o.a.createElement(Da,null),wa),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Sa?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Na(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Na(t,e)})}}()}},[[108,1,2]]]);
//# sourceMappingURL=main.0fc1cdc8.chunk.js.map