{"version":3,"sources":["redux/migrations.js","redux/ActionTypes.js","redux/reducers/events.js","configs/constants.js","redux/reducers/setting.js","redux/reducers/analysis.js","lib/helper.js","redux/reducers/stocks.js","redux/reducers/application.js","redux/reducers/index.js","redux/store.js","components/Loader/Loader.js","redux/actions/index.js","views/StocksList/StocksItem/StocksItem.js","components/Dialog/Dialog.js","components/ConfirmDialog/ConfirmModal.js","views/StocksList/StocksList.js","views/EventList/EventItem/EventItem.js","views/EventList/EventDialog/EventDialogTour/EventDialogTour.js","components/FormInput/FormInput.js","components/FormSelect/FormSelect.js","components/FormDatepicker/FormDatepicker.js","views/EventList/EventDialog/EventDialog.js","components/FormFile/FormFile.js","lib/csv.js","lib/alphavantageApi.js","views/EventList/EventList.js","components/LineChart/LineChart.js","components/Unavailable/Unavailable.js","lib/colors.js","views/Analysis/Analysis.js","views/Help/Help.js","views/Header/Header.js","views/AppTour/AppTour.js","views/Setting/Setting.js","App.js","serviceWorker.js","index.js"],"names":["migrations","0","state","isNil","application","isFirstTimeVisit","_objectSpread","SET_T0T1","SET_T1E","SET_ET2","SET_T2T3","RESET_SETTING_DEFAULTS","SET_DATE_COLUMN","SET_OPERATION_COLUMN","SET_ALPHAVANTAGE_TOKEN","SET_ADJUSTMENT_RULE","CREATE_EVENT","UPDATE_EVENT","DELETE_EVENT","SELECT_EVENT","DESELECT_EVENT","CREATE_STOCK","UPDATE_STOCK","DELETE_STOCK","SELECT_STOCK","CREATE_ANALYSIS","UPDATE_ANALYSIS","DELETE_ANALYSIS","SHOW_SETTING","HIDE_SETTING","HIDE_STOCK_LIST","SHOW_STOCK_LIST","SET_ACTIVE_MAIN_FRAME","SET_DEFAULT_EVENT_DATE_FORMAT","SET_IS_FIRST_TIME_VISIT","initialState","events","activeEvents","adjustmentRules","label","value","timeFrames","map","dateColumn","operationColumn","alphavantageToken","adjustmentRule","T0T1","T1E","ET2","T2T3","defaultEventDateFormat","analysis","isObjectEmpty","obj","key","hasOwnProperty","sequence","count","result","i","push","defaultState","stockList","activeStock","showSetting","stockListStatus","activeMainFrame","mainFrames","combineReducers","arguments","length","undefined","action","type","payload","stockKey","events_objectSpread","update","Object","defineProperty","$push","event","$set","eventIndex","findIndex","$splice","$unset","setting","setting_objectSpread","token","analysis_objectSpread","eventKey","stocks","stocks_objectSpread","stock","concat","toConsumableArray","filter","application_objectSpread","indexOf","frame","persistConfig","version","storage","migrate","createMigrate","debug","persistedReducer","persistReducer","rootReducer","store","createStore","persistor","persistStore","Loader","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","loaderClassName","props","active","inherits","createClass","react_default","a","createElement","id","className","React","Component","defaultProps","setActiveMainFrame","StocksItem","onDeleteClick","stopPropagation","onEditClick","_this$props","title","description","color","descriptionColor","activeClass","isActive","onClick","onItemClick","href","Dialog","showModal","refs","modal","hideModal","onAccept","_this2","$","on","e","onModalClose","onModalOpen","prevProps","ref","role","header","body","footer","ModalBody","question","data-dismiss","ConfirmModal","Dialog_Dialog","assign","stockKeyToDelete","stockKeyToEdit","StocksList","phase","stockNameInputValue","showDeleteConfirmDialog","onInputChange","setState","onAddClick","uuid","createStock","updateStock","onItemEditClick","stockInput","focus","stockId","onDeleteConfirmClose","onDeleteConfirmAccept","deleteStock","onKeyDown","renderStocksList","StocksItem_StocksItem_StocksItem","selectStock","PerfectScrollbar","scrollable","placeholder","name","onChange","target","ConfirmModal_ConfirmModal","actionCreators","connect","EventItem","getEventTypeClassName","date","activeEventClass","eventTypeClass","eventType","steps","selector","content","EventDialogTour","isOpen","closeTour","onRequestClose","reactour_esm","rounded","FormInput","inputRef","createRef","current","inputValue","react","dangerouslySetInnerHTML","__html","inputLabel","invalidFeedback","defaultValue","FormSelect","genOptions","selectOptions","_ref","index","selectRef","selectValue","htmlFor","selectLabel","disabled","datePicker","FormDatepicker","handleChange","pickerRef","datepicker","format","autoclose","pickerValue","updateViewDate","pickerLabel","data-provide","jqueryModalRef","FormFile","accept","identifier","csv","require","readAsText","file","Promise","resolve","reject","fileReader","FileReader","onload","onerror","csvToJson","then","data","fromString","catch","ALPHAVANTAGE_URL","requests","getStockData","symbol","interval","apiKey","url","getUrl","hadSameUrlRequest","find","item","hasRequest","axios","get","pureData","extractRealData","error","getErrorMessage","keys","sort","b","Date","parse","day","Open","High","Low","Close","Adj Close","toProperFormat","Error","getPriceLabel","shift","saveRequest","extractErrorFromResults","genState","_props$loading","loading","_props$showHelp","showHelp","_props$title","_props$date","_props$dates","dates","_props$stock","_props$stockSymbol","stockSymbol","_props$stockTimeFrame","stockTimeFrame","_props$market","market","_props$marketSymbol","marketSymbol","_props$marketTimeFram","marketTimeFrame","_props$dateColumn","_props$operationColum","_props$alphavantageTo","_props$adjustmentRule","_props$T0T","_props$T1E","_props$ET","_props$T2T","_props$defaultEventDa","_props$analysisModel","analysisModel","_props$useExternalSou","useExternalSource","_props$stockInputFile","stockInputFileLabel","_props$marketInputFil","marketInputFileLabel","_props$invalidFeedBac","invalidFeedBacks","globalError","EventDialog","handleCheckboxChange","checked","onDeleteDate","splice","onDateChange","addDate","analysisCheckBoxClass","onFileChange","labelType","infoType","files","json","_this$setState2","moment","toUpperCase","isValid","d","newDates","renderChips","validateSharedInputs","validateColumnName","validateTimelineKey","validateMarketModelSources","validatePrices","validateMeanModelSources","validateMarketModelExternalSourceInputs","isStockSymbolValid","isStockTimeFrameValid","isMarketSymbolValid","isMarketTimeFrameValid","validateMeanModelExternalSourceInputs","validateAll","areInputsValid","areSharedInputsValid","addError","feedback","toString","reduce","getStockDataFromExternalResource","_this$state","promises","promise","promiseFunction","idx","all","ms","setTimeout","onAfterValidate","_this$state2","_this$state2$title","timeline","hasError","statsResults","calendar","unmatchedTradingDayStrategy","statsResult","MarketModel","MeanModel","is","scrollTop","eventsData","validationResult","message","JSON","stringify","onHelpClick","onTourCloseClick","modalBody","nextProps","document","getElementById","marketId","_this3","dialogTitle","aria-label","aria-hidden","EventDialog_EventDialogTour_EventDialogTour","components_FormInput_FormInput","components_FormDatepicker_FormDatepicker","components_FormSelect_FormSelect","components_FormFile_FormFile","keyboard","backdrop","show","eventToModify","chart","style","zIndex","Unavailable","Unavailable_Component","addEventDialogTitle","editEventDialogTitle","eventDialogPhase","unavailableProps","EventList","eventDialogTitle","eventDialogEvent","isEventDialogActive","isConfirmDialogActive","eventList","renderUnavailableComponent","Unavailable_Unavailable","onEventClick","deselectEvent","selectEvent","renderEvents","EventItem_EventItem_EventItem","Boolean","newsType","onPlusClick","onAnalysisClick","onEventAddModalClose","onConfirmModalClose","onEventDialogAccept","forEach","eventData","createAnalysis","createEvent","updateEvent","updateAnalysis","onDeleteEventAccept","deleteEvent","EventList_EventDialog_EventDialog","defaultAnalysisList","getStockKey","getEventList","getActiveEvents","getAnalysisList","deleteAnalysis","LineChart","getChartData","labels","dataSets","initChart","lineChartBox","lineChart","_this$getChartData","lineCtx","getContext","height","Chart","datasets","options","legend","display","updateChart","_this$getChartData2","COLORS","unavailableAnalysisProps","getChartLabelBasedOnNewsType","lineChartLineStyle","Analysis_objectSpread","backgroundColor","borderColor","pointBackgroundColor","borderWidth","getChartStyleBasedOnNewsType","createLineChartDataSet","Analysis","hasNoActiveEvents","hasNoAnalysis","chartLegend","newsByType","groupBy","prop","newsAbnormalReturns","mapObjIndexed","averageAbnormalReturn","AAR","cumulativeAbnormalReturn","CAR","values","returnDates","CARS","onEventListClick","chartsData","LineChart_LineChart","defaultEventList","defaultActiveEventsKeys","createSelector","eventKeys","Help","DialogHeader","DialogBody","data-toggle","data-target","aria-expanded","aria-controls","aria-labelledby","data-parent","width","src","alt","collapse","Header","isHelpActive","onImportStateInputChange","localStorage","setItem","window","location","reload","onStockListToggleClick","hideStockList","showStockList","onHelpDialogClose","tooltip","Help_Help","data-placement","data-original-title","onImportClick","onExportClick","currentYear","getFullYear","currentMonth","getMonth","currentDate","getDate","filename","blob","Blob","navigator","msSaveOrOpenBlob","msSaveBlob","elem","URL","createObjectURL","download","appendChild","click","removeChild","downloadJsonText","getItem","importStateInput","AppTour","setIsFirstTimeVisit","actionCreator","_props$showResetConfi","showResetConfirmDialog","Setting","DialogFooter","onReset","isDateColumnInvalid","isOperationColumnInvalid","isAdjustmentRuleValid","isT0T1Invalid","isT1EInvalid","isET2Invalid","isT2T3Invalid","isDefaultEventDateFormatInvalid","setDateColumn","setOperationColumn","setAlphavantageToken","setAdjustmentRule","setT0T1","setT1E","setET2","setT2T3","setDefaultEventDateFormat","hideSetting","onResetConfirmClose","showSettingMethod","onResetConfirmAccept","resetSettingDefaults","App","hideNoneActiveFrame","views_AppTour_AppTour","views_Setting_Setting","views_Header_Header","views_StocksList_StocksList","views_EventList_EventList","views_Analysis_Analysis","isLocalhost","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","render","es","integration_react","Loader_Loader_Loader","src_App_0","process","origin","addEventListener","fetch","response","contentType","headers","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.42120f98.chunk.js","sourcesContent":["import isNil from 'ramda/src/isNil'\r\n\r\nexport default {\r\n  0: state => {\r\n    if (isNil(state.application.isFirstTimeVisit)) {\r\n      return {\r\n        ...state,\r\n        application: {\r\n          ...state.application,\r\n          isFirstTimeVisit: true\r\n        }\r\n      }\r\n    } else return state\r\n  }\r\n}\r\n","export const SET_T0T1 = 'SET_T0T1'\r\nexport const SET_T1E = 'SET_T1E'\r\nexport const SET_ET2 = 'SET_ET2'\r\nexport const SET_T2T3 = 'SET_T2T3'\r\nexport const RESET_SETTING_DEFAULTS = 'RESET_SETTING_DEFAULTS'\r\n\r\nexport const SET_DATE_COLUMN = 'SET_DATE_COLUMN'\r\nexport const SET_OPERATION_COLUMN = 'SET_OPERATION_COLUMN'\r\nexport const SET_ALPHAVANTAGE_TOKEN = 'SET_ALPHAVANTAGE_TOKEN'\r\nexport const SET_ADJUSTMENT_RULE = 'SET_ADJUSTMENT_RULE'\r\n\r\nexport const CREATE_EVENT = 'CREATE_EVENT'\r\nexport const UPDATE_EVENT = 'UPDATE_EVENT'\r\nexport const DELETE_EVENT = 'DELETE_EVENT'\r\nexport const SELECT_EVENT = 'SELECT_EVENT'\r\nexport const DESELECT_EVENT = 'DESELECT_EVENT'\r\n\r\nexport const CREATE_STOCK = 'CREATE_STOCK'\r\nexport const UPDATE_STOCK = 'UPDATE_STOCK'\r\nexport const DELETE_STOCK = 'DELETE_STOCK'\r\nexport const SELECT_STOCK = 'SELECT_STOCK'\r\n\r\nexport const CREATE_ANALYSIS = 'CREATE_ANALYSIS'\r\nexport const UPDATE_ANALYSIS = 'UPDATE_ANALYSIS'\r\nexport const DELETE_ANALYSIS = 'DELETE_ANALYSIS'\r\n\r\nexport const SHOW_SETTING = 'SHOW_SETTING'\r\nexport const HIDE_SETTING = 'HIDE_SETTING'\r\nexport const HIDE_STOCK_LIST = 'HIDE_STOCK_LIST'\r\nexport const SHOW_STOCK_LIST = 'SHOW_STOCK_LIST'\r\n\r\nexport const SET_ACTIVE_MAIN_FRAME = 'SET_ACTIVE_MAIN_FRAME'\r\n\r\nexport const SET_DEFAULT_EVENT_DATE_FORMAT = 'SET_DEFAULT_EVENT_DATE_FORMAT'\r\n\r\nexport const SET_IS_FIRST_TIME_VISIT = 'SET_IS_FIRST_TIME_VISIT'\r\n","import update from 'immutability-helper'\r\n\r\nimport {\r\n    CREATE_EVENT,\r\n    UPDATE_EVENT,\r\n    DELETE_EVENT,\r\n    SELECT_EVENT,\r\n    DESELECT_EVENT, DELETE_STOCK\r\n} from '../ActionTypes'\r\n\r\nconst initialState = {\r\n    events: {},\r\n    activeEvents: {}\r\n}\r\n\r\nexport default function events (state = initialState, action) {\r\n    switch (action.type) {\r\n        case CREATE_EVENT: {\r\n            if (!state.events[action.payload.stockKey]) state.events[action.payload.stockKey] = []\r\n            if (!state.activeEvents[action.payload.stockKey]) state.activeEvents[action.payload.stockKey] = {}\r\n\r\n            return {\r\n                ...state,\r\n                events: update(state.events, {[action.payload.stockKey]: { $push: [action.payload.event] }}),\r\n                activeEvents: update(state.activeEvents, {[action.payload.stockKey]: { [action.payload.event.key]: {$set: action.payload.event.key } }})\r\n            }\r\n        }\r\n        case UPDATE_EVENT:\r\n            return {\r\n                ...state,\r\n                events: {\r\n                    ...state.events,\r\n                    [action.payload.stockKey]: state.events[action.payload.stockKey].map(event => {\r\n                        if (event.key !== action.payload.event.key) return event\r\n                        else return {\r\n                            ...event,\r\n                            ...action.payload.event\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        case DELETE_EVENT: {\r\n            const eventIndex = state.events[action.payload.stockKey].findIndex(event => event.key === action.payload.key)\r\n\r\n            const events = update(state.events, { [action.payload.stockKey]: { $splice: [[eventIndex, 1]] } })\r\n            const activeEvents = update(state.activeEvents, { [action.payload.stockKey ]: { $unset: [action.payload.key] }})\r\n\r\n            return {\r\n                ...state,\r\n                events,\r\n                activeEvents\r\n            }\r\n        }\r\n        case SELECT_EVENT: {\r\n            if (!state.activeEvents[action.payload.stockKey]) state.activeEvents[action.payload.stockKey] = {}\r\n            const activeEvents = update(state.activeEvents, { [action.payload.stockKey ]: { [action.payload.event.key]: { $set: action.payload.event.key } } })\r\n            return {\r\n                ...state,\r\n                activeEvents\r\n            }\r\n        }\r\n        case DESELECT_EVENT: {\r\n            const activeEvents = update(state.activeEvents, { [action.payload.stockKey ]: { $unset: [action.payload.event.key] } })\r\n            return {\r\n                ...state,\r\n                activeEvents\r\n            }\r\n        }\r\n        case DELETE_STOCK: {\r\n            const events = update(state.events, { $unset: [action.key] })\r\n            const activeEvents = update(state.activeEvents, { $unset: [action.key] })\r\n\r\n            return {\r\n                ...state,\r\n                events,\r\n                activeEvents\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const toSelectInput = value => ({ label: value, value })\r\n\r\nexport const adjustmentRules = [{\r\n  label: 'Take earlier trading day',\r\n  value: 'PREV_TRADING_DAY'\r\n}, {\r\n  label: 'Take later trading day',\r\n  value: 'NEXT_TRADING_DAY'\r\n}, {\r\n  label: 'Skip respective observations',\r\n  value: 'SKIP'\r\n}]\r\n\r\nexport const timeFrames = ['1min', '5min', '15min', '30min', '60min', 'Daily', 'Weekly', 'Monthly'].map(toSelectInput)\r\n\r\nexport const dateColumn = 'Date'\r\nexport const operationColumn = 'Close'\r\nexport const alphavantageToken = ''\r\nexport const adjustmentRule = 'NEXT_TRADING_DAY'\r\nexport const T0T1 = 40\r\nexport const T1E = 7\r\nexport const ET2 = 7\r\nexport const T2T3 = 5\r\nexport const defaultEventDateFormat = 'yyyy-mm-dd'\r\n\r\nexport const deleteStockQuestion = 'Do you want to delete that StocksItem?'\r\nexport const resetSettingQuestion = 'Your setting data will be replaced by default ones, do you agree?'\r\n","import {\r\n    SET_DATE_COLUMN,\r\n    SET_OPERATION_COLUMN,\r\n    SET_ALPHAVANTAGE_TOKEN,\r\n    SET_ADJUSTMENT_RULE,\r\n    SET_T0T1,\r\n    SET_T1E,\r\n    SET_ET2,\r\n    SET_T2T3,\r\n    SET_DEFAULT_EVENT_DATE_FORMAT,\r\n    RESET_SETTING_DEFAULTS\r\n} from '../ActionTypes'\r\n\r\nimport {\r\n    dateColumn,\r\n    operationColumn,\r\n    alphavantageToken,\r\n    adjustmentRule,\r\n    T0T1,\r\n    T1E,\r\n    ET2,\r\n    T2T3,\r\n    defaultEventDateFormat\r\n} from '../../configs/constants'\r\n\r\nconst initialState = {\r\n    dateColumn,\r\n    operationColumn,\r\n    alphavantageToken,\r\n    adjustmentRule,\r\n    T0T1,\r\n    T1E,\r\n    ET2,\r\n    T2T3,\r\n    defaultEventDateFormat\r\n}\r\n\r\nexport default function setting (state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_DATE_COLUMN:\r\n            return {\r\n                ...state,\r\n                dateColumn: action.dateColumn\r\n            }\r\n        case SET_OPERATION_COLUMN:\r\n            return {\r\n                ...state,\r\n                operationColumn: action.operationColumn\r\n            }\r\n        case SET_ALPHAVANTAGE_TOKEN:\r\n            return {\r\n                ...state,\r\n                alphavantageToken: action.token\r\n            }\r\n        case SET_ADJUSTMENT_RULE:\r\n            return {\r\n                ...state,\r\n                adjustmentRule: action.value\r\n            }\r\n        case SET_T0T1:\r\n            return {\r\n                ...state,\r\n                T0T1: action.value\r\n            }\r\n        case SET_T1E:\r\n            return {\r\n                ...state,\r\n                T1E: action.value\r\n            }\r\n        case SET_ET2:\r\n            return {\r\n                ...state,\r\n                ET2: action.value\r\n            }\r\n        case SET_T2T3:\r\n            return {\r\n                ...state,\r\n                T2T3: action.value\r\n            }\r\n        case SET_DEFAULT_EVENT_DATE_FORMAT:\r\n            return {\r\n                ...state,\r\n                defaultEventDateFormat: action.value\r\n            }\r\n        case RESET_SETTING_DEFAULTS:\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n  CREATE_ANALYSIS,\r\n  UPDATE_ANALYSIS,\r\n  DELETE_ANALYSIS, DELETE_STOCK, DELETE_EVENT\r\n} from '../ActionTypes'\r\nimport update from \"immutability-helper\";\r\n\r\nconst initialState = {\r\n  analysis: {}\r\n}\r\n\r\nexport default function analysis (state = initialState, action) {\r\n    switch (action.type) {\r\n      case CREATE_ANALYSIS:\r\n        return {\r\n          ...state,\r\n          analysis: {\r\n            ...state.analysis,\r\n            [action.payload.stockKey]: {\r\n              ...state.analysis[action.payload.stockKey],\r\n              [action.payload.eventKey]: action.payload.analysis\r\n            }\r\n          }\r\n        }\r\n      case UPDATE_ANALYSIS:\r\n        return {\r\n          ...state,\r\n          analysis: {\r\n            ...state.analysis,\r\n            [action.payload.stockKey]: {\r\n              ...state.analysis[action.payload.stockKey],\r\n              [action.payload.eventKey]: {\r\n                ...state.analysis[action.payload.stockKey][action.payload.eventKey],\r\n                ...action.payload.analysis\r\n              }\r\n            }\r\n          }\r\n        }\r\n      case DELETE_ANALYSIS: {\r\n        const analysis = update(state.analysis[action.payload.stockKey], { $unset: [action.payload.eventKey] })\r\n\r\n        return {\r\n          ...state,\r\n          analysis: {\r\n            ...state.analysis,\r\n            [action.payload.stockKey]: analysis\r\n          }\r\n        }\r\n      }\r\n      case DELETE_EVENT: {\r\n        const analysis = update(state.analysis[action.payload.stockKey], { $unset: [action.payload.key] })\r\n\r\n        return {\r\n          ...state,\r\n          analysis: {\r\n            ...state.analysis,\r\n            [action.payload.stockKey]: analysis\r\n          }\r\n        }\r\n      }\r\n      case DELETE_STOCK: {\r\n        const analysis = update(state.analysis, { $unset: [action.key] })\r\n\r\n        return {\r\n          ...state,\r\n          analysis\r\n        }\r\n      }\r\n      default:\r\n        return state\r\n    }\r\n}\r\n","export const isObjectEmpty = obj => {\r\n  for (let key in obj) {\r\n    if(obj.hasOwnProperty(key))return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport const hasObjectMoreThanOneProperty = obj => {\r\n  let count = 0\r\n  for (let key in obj) {\r\n    if (obj.hasOwnProperty(key)) count += 1\r\n    if (count > 1) return true\r\n  }\r\n  return false\r\n}\r\n\r\nexport const downloadJsonText = (filename, data) => {\r\n  const blob = new Blob([data], { type: 'application/json' })\r\n\r\n  if(window.navigator.msSaveOrOpenBlob) {\r\n    window.navigator.msSaveBlob(blob, filename)\r\n  }\r\n  else{\r\n    const elem = window.document.createElement('a')\r\n    elem.href = window.URL.createObjectURL(blob)\r\n    elem.download = filename\r\n    document.body.appendChild(elem)\r\n    elem.click()\r\n    document.body.removeChild(elem)\r\n  }\r\n}\r\n\r\nexport const sequence = count => {\r\n  const result = []\r\n\r\n  if (typeof count !== 'number') return result\r\n  if (count <= 0) return result\r\n\r\n  for (let i = 0; i <= count; i++) {\r\n    result.push(i)\r\n  }\r\n\r\n  return result\r\n}","import {\r\n    CREATE_STOCK,\r\n    UPDATE_STOCK,\r\n    DELETE_STOCK, SELECT_STOCK\r\n} from '../ActionTypes'\r\n\r\nimport { isObjectEmpty } from '../../lib/helper'\r\n\r\nconst defaultState = {\r\n    stockList: [],\r\n    activeStock: {}\r\n}\r\n\r\nexport default function stocks (state = defaultState, action) {\r\n    switch (action.type) {\r\n        case CREATE_STOCK:\r\n            return {\r\n                ...state,\r\n                stockList: [action.stock, ...state.stockList],\r\n                activeStock: isObjectEmpty(state.activeStock) ? action.stock : state.activeStock\r\n            }\r\n        case UPDATE_STOCK:\r\n            return {\r\n                ...state,\r\n                stockList: state.stockList.map(stock => stock.key === action.stock.key ? {...stock, ...action.stock} : stock)\r\n            }\r\n        case DELETE_STOCK:\r\n            return {\r\n                ...state,\r\n                stockList: state.stockList.filter(stock => stock.key !== action.key),\r\n                activeStock: state.activeStock.key === action.key ? {} : state.activeStock\r\n            }\r\n        case SELECT_STOCK:\r\n            return {\r\n                ...state,\r\n                activeStock: action.stock\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {\r\n  SHOW_SETTING,\r\n  HIDE_SETTING,\r\n  SHOW_STOCK_LIST,\r\n  HIDE_STOCK_LIST,\r\n  SET_ACTIVE_MAIN_FRAME, SET_IS_FIRST_TIME_VISIT\r\n} from '../ActionTypes'\r\n\r\nconst EVENT_LIST = 'EVENT_LIST'\r\nconst ANALYSIS = 'ANALYSIS'\r\n\r\nconst initialState = {\r\n  showSetting: false,\r\n  stockListStatus: true,\r\n  activeMainFrame: EVENT_LIST,\r\n  isFirstTimeVisit: true\r\n}\r\n\r\nconst mainFrames = [EVENT_LIST, ANALYSIS]\r\n\r\nexport default function application (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SHOW_SETTING:\r\n      return {\r\n        ...state,\r\n        showSetting: true\r\n      }\r\n    case HIDE_SETTING:\r\n      return {\r\n        ...state,\r\n        showSetting: false\r\n      }\r\n    case SHOW_STOCK_LIST:\r\n      return {\r\n        ...state,\r\n        stockListStatus: true\r\n      }\r\n    case HIDE_STOCK_LIST:\r\n      return {\r\n        ...state,\r\n        stockListStatus: false\r\n      }\r\n    case SET_ACTIVE_MAIN_FRAME: {\r\n      const isValidFrame = ~mainFrames.indexOf(action.frame)\r\n\r\n      if (isValidFrame) {\r\n        return {\r\n          ...state,\r\n          activeMainFrame: action.frame\r\n        }\r\n      } else return state\r\n    }\r\n    case SET_IS_FIRST_TIME_VISIT:\r\n      return {\r\n        ...state,\r\n        isFirstTimeVisit: action.value\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\n\r\nimport events from './events'\r\nimport setting from './setting'\r\nimport analysis from './analysis'\r\nimport stocks from './stocks'\r\nimport application from './application'\r\n\r\nexport default combineReducers({\r\n    events,\r\n    setting,\r\n    analysis,\r\n    stocks,\r\n    application\r\n})\r\n","import { createStore } from 'redux'\r\nimport { createMigrate, persistStore, persistReducer } from 'redux-persist'\r\nimport migrations from './migrations'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport rootReducer from './reducers'\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  version: '1.1',\r\n  storage,\r\n  migrate: createMigrate(migrations, { debug: false })\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nexport const store = createStore(persistedReducer)\r\nexport const persistor = persistStore(store)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './Loader.scss'\r\n\r\nexport class Loader extends React.Component {\r\n    loaderClassName = () => {\r\n        return this.props.active ? '' : 'fadeOut' // show or hide Loader\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"loader\"\r\n                 className={this.loaderClassName()}>\r\n                <div className=\"spinner\"/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLoader.propTypes = {\r\n    active: PropTypes.bool\r\n}\r\nLoader.defaultProps = {\r\n    active: false\r\n}","import {\r\n    SET_ADJUSTMENT_RULE,\r\n    SET_T0T1,\r\n    SET_T1E,\r\n    SET_ET2,\r\n    SET_T2T3,\r\n    RESET_SETTING_DEFAULTS,\r\n    SET_DATE_COLUMN,\r\n    SET_OPERATION_COLUMN,\r\n    SET_ALPHAVANTAGE_TOKEN,\r\n    CREATE_EVENT,\r\n    UPDATE_EVENT,\r\n    DELETE_EVENT,\r\n    SELECT_EVENT,\r\n    DESELECT_EVENT,\r\n    CREATE_STOCK,\r\n    UPDATE_STOCK,\r\n    DELETE_STOCK,\r\n    SELECT_STOCK,\r\n    CREATE_ANALYSIS,\r\n    UPDATE_ANALYSIS,\r\n    DELETE_ANALYSIS,\r\n    SHOW_SETTING,\r\n    HIDE_SETTING,\r\n    SHOW_STOCK_LIST,\r\n    HIDE_STOCK_LIST,\r\n    SET_ACTIVE_MAIN_FRAME,\r\n    SET_DEFAULT_EVENT_DATE_FORMAT,\r\n    SET_IS_FIRST_TIME_VISIT\r\n} from '../ActionTypes'\r\n\r\nexport const setAdjustmentRule = value => {\r\n    return {\r\n        type: SET_ADJUSTMENT_RULE,\r\n        value\r\n    }\r\n}\r\n\r\nexport const resetSettingDefaults = () => {\r\n    return {\r\n        type: RESET_SETTING_DEFAULTS\r\n    }\r\n}\r\n\r\nexport const setT0T1 = value => {\r\n    return {\r\n        type: SET_T0T1,\r\n        value\r\n    }\r\n}\r\nexport const setT1E = value => {\r\n    return {\r\n        type: SET_T1E,\r\n        value\r\n    }\r\n}\r\nexport const setET2 = value => {\r\n    return {\r\n        type: SET_ET2,\r\n        value\r\n    }\r\n}\r\nexport const setT2T3 = value => {\r\n    return {\r\n        type: SET_T2T3,\r\n        value\r\n    }\r\n}\r\nexport const setDateColumn = dateColumn => {\r\n    return {\r\n        type: SET_DATE_COLUMN,\r\n        dateColumn\r\n    }\r\n}\r\nexport const setOperationColumn = operationColumn => {\r\n    return {\r\n        type: SET_OPERATION_COLUMN,\r\n        operationColumn\r\n    }\r\n}\r\nexport const setAlphavantageToken = token => {\r\n    return {\r\n        type: SET_ALPHAVANTAGE_TOKEN,\r\n        token\r\n    }\r\n}\r\nexport const createEvent = (event, stockKey) => {\r\n    return {\r\n        type: CREATE_EVENT,\r\n        payload: {\r\n            event,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const updateEvent = (event, stockKey) => {\r\n    return {\r\n        type: UPDATE_EVENT,\r\n        payload: {\r\n            event,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const deleteEvent = (key, stockKey) => {\r\n    return {\r\n        type: DELETE_EVENT,\r\n        payload: {\r\n            key,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const selectEvent = (event, stockKey) => {\r\n    return {\r\n        type: SELECT_EVENT,\r\n        payload:{\r\n            event,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const deselectEvent = (event, stockKey) => {\r\n    return {\r\n        type: DESELECT_EVENT,\r\n        payload:{\r\n            event,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const createStock = stock => {\r\n    return {\r\n        type: CREATE_STOCK,\r\n        stock\r\n    }\r\n}\r\nexport const updateStock = stock => {\r\n    return {\r\n        type: UPDATE_STOCK,\r\n        stock\r\n    }\r\n}\r\nexport const deleteStock = key => {\r\n    return {\r\n        type: DELETE_STOCK,\r\n        key\r\n    }\r\n}\r\nexport const selectStock = stock => {\r\n    return {\r\n        type: SELECT_STOCK,\r\n        stock\r\n    }\r\n}\r\nexport const createAnalysis = (analysis, stockKey, eventKey) => {\r\n    return {\r\n        type: CREATE_ANALYSIS,\r\n        payload: {\r\n            analysis,\r\n            stockKey,\r\n            eventKey\r\n        }\r\n    }\r\n}\r\nexport const updateAnalysis = (analysis, stockKey, eventKey) => {\r\n    return {\r\n        type: UPDATE_ANALYSIS,\r\n        payload: {\r\n            analysis,\r\n            stockKey,\r\n            eventKey\r\n        }\r\n    }\r\n}\r\nexport const deleteAnalysis = (eventKey, stockKey) => {\r\n    return {\r\n        type: DELETE_ANALYSIS,\r\n        payload: {\r\n            eventKey,\r\n            stockKey\r\n        }\r\n    }\r\n}\r\nexport const showSetting = () => {\r\n    return {\r\n        type: SHOW_SETTING\r\n    }\r\n}\r\nexport const hideSetting = () => {\r\n    return {\r\n        type: HIDE_SETTING\r\n    }\r\n}\r\nexport const showStockList = () => {\r\n    return {\r\n        type: SHOW_STOCK_LIST\r\n    }\r\n}\r\nexport const hideStockList = () => {\r\n    return {\r\n        type: HIDE_STOCK_LIST\r\n    }\r\n}\r\nexport const setActiveMainFrame = frame => {\r\n    return {\r\n        type: SET_ACTIVE_MAIN_FRAME,\r\n        frame\r\n    }\r\n}\r\nexport const setDefaultEventDateFormat = value => {\r\n    return {\r\n        type: SET_DEFAULT_EVENT_DATE_FORMAT,\r\n        value\r\n    }\r\n}\r\nexport const setIsFirstTimeVisit = value => {\r\n    return {\r\n        type: SET_IS_FIRST_TIME_VISIT,\r\n        value\r\n    }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './StocksItem.scss'\r\nexport class StocksItem extends React.Component {\r\n    onDeleteClick = event => {\r\n        event.stopPropagation()\r\n        this.props.onDeleteClick()\r\n    }\r\n\r\n    onEditClick = event => {\r\n        event.stopPropagation()\r\n        this.props.onEditClick()\r\n    }\r\n\r\n    render () {\r\n        const { title, description, descriptionColor } = this.props\r\n\r\n        const color = descriptionColor === 'success' ? 'c-green-500' : 'c-red-500'\r\n\r\n        const activeClass = this.props.isActive ? 'bgc-grey-50' : ''\r\n\r\n        return (\r\n            <div className={`peers fxw-nw ai-c p-20 bdB bgc-white bgcH-grey-50 cur-p item ${activeClass}`} onClick={this.props.onItemClick}>\r\n                <div className=\"peer peer-greed\">\r\n                    <h6 className=\"mB-0 fw-400 item-title stock-item-title\">{title}</h6>\r\n                    <small className={`lh-1 c-green-500 item-description ${color}`}>{description}</small>\r\n                </div>\r\n\r\n                <div className=\"peers\">\r\n                    <div className=\"peer\">\r\n                        <a href=\"#\"\r\n                           className=\"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5\"\r\n                           onClick={this.onEditClick}>\r\n                            <i className=\"ti-pencil\"/>\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className=\"peer\">\r\n                        <a href=\"#\"\r\n                           className=\"td-n c-red-500 cH-blue-500 fsz-md p-5 item-delete-btn\"\r\n                           onClick={this.onDeleteClick}>\r\n                            <i className=\"ti-trash\"/>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nStocksItem.propTypes = {\r\n    onDeleteClick: PropTypes.func,\r\n    onEditClick: PropTypes.func,\r\n    onItemClick: PropTypes.func,\r\n    title: PropTypes.string,\r\n    description: PropTypes.string,\r\n    descriptionColor: PropTypes.string,\r\n    isActive: PropTypes.bool\r\n}\r\n\r\nStocksItem.defaultProps = {\r\n    onDeleteClick: () => {},\r\n    onEditClick: () => {},\r\n    onItemClick: () => {},\r\n    title: '',\r\n    description: '',\r\n    descriptionColor: '',\r\n    isActive: false\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport $ from 'jquery'\r\n\r\nexport class Dialog extends React.Component {\r\n  showModal = () => {\r\n    this.refs.modal.modal('show')\r\n  }\r\n\r\n  hideModal = () => {\r\n    this.refs.modal.modal('hide')\r\n  }\r\n\r\n  onAccept = () => {\r\n    this.hideModal()\r\n    this.props.onAccept()\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.refs.modal = $(this.refs.modal)\r\n\r\n    this.refs.modal.on('hidden.bs.modal', e => { this.props.onModalClose(e) })\r\n\r\n    this.refs.modal.on('shown.bs.modal', e => { this.props.onModalOpen(e) })\r\n\r\n    if (this.props.isActive) this.showModal()\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (this.props.isActive !== prevProps.isActive) {\r\n      this.props.isActive ? this.showModal() : this.hideModal()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"modal fade\" ref='modal'>\r\n        <div className=\"modal-dialog confirm-dialog\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            {\r\n              this.props.header ? (\r\n                <div className=\"bd p-15\">\r\n                  { this.props.header }\r\n                </div>\r\n              ) : null\r\n            }\r\n\r\n            {\r\n              this.props.body ? (\r\n                <div className=\"modal-body\">\r\n                  { this.props.body }\r\n                </div>\r\n              ) : null\r\n            }\r\n\r\n            {\r\n              this.props.footer ? (\r\n                <div className=\"text-right modal-footer\">\r\n                  { this.props.footer }\r\n                </div>\r\n              ) : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nDialog.propTypes = {\r\n  isActive: PropTypes.bool,\r\n  onModalClose: PropTypes.func,\r\n  onModalOpen: PropTypes.func,\r\n  onAccept: PropTypes.func,\r\n  header: PropTypes.object,\r\n  body: PropTypes.object,\r\n  footer: PropTypes.object\r\n}\r\n\r\nDialog.defaultProps = {\r\n  isActive: false,\r\n  question: '',\r\n  onModalClose: () => {},\r\n  onModalOpen: () => {},\r\n  onAccept: () => {}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog } from '../Dialog/Dialog'\r\n\r\nfunction ModalBody (props) {\r\n    return (\r\n      <div>\r\n          <div className=\"fw-600 question p-15\">\r\n              {props.question}\r\n          </div>\r\n          <div className=\"text-right\">\r\n              <button className=\"btn cur-p m-5\" data-dismiss=\"modal\">No</button>\r\n              <button className=\"btn btn-primary cur-p m-5\" onClick={props.onAccept}>Yes</button>\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport class ConfirmModal extends React.Component {\r\n    render() {\r\n        const { question, onAccept } = this.props\r\n        return (\r\n            <Dialog {...this.props}\r\n                    body={<ModalBody question={question} onAccept={onAccept}/>}/>\r\n        )\r\n    }\r\n}\r\n\r\nConfirmModal.propTypes = {\r\n    isActive: PropTypes.bool,\r\n    question: PropTypes.string,\r\n    onModalClose: PropTypes.func,\r\n    onModalOpen: PropTypes.func,\r\n    onAccept: PropTypes.func,\r\n}\r\n\r\nConfirmModal.defaultProps = {\r\n    isActive: false,\r\n    question: '',\r\n    onModalClose: () => {},\r\n    onModalOpen: () => {},\r\n    onAccept: () => {}\r\n}","import React from 'react'\r\nimport uuid from 'uuid/v4'\r\nimport { connect } from 'react-redux'\r\nimport { createStock, updateStock, deleteStock, selectStock } from '../../redux/actions/index'\r\nimport { StocksItem } from './StocksItem/StocksItem'\r\nimport { ConfirmModal } from '../../components/ConfirmDialog/ConfirmModal'\r\nimport './StocksList.scss'\r\nimport PerfectScrollbar from 'perfect-scrollbar'\r\nimport { deleteStockQuestion } from '../../configs/constants'\r\n\r\nlet stockKeyToDelete\r\nlet stockKeyToEdit\r\n\r\nexport class StocksList extends React.Component {\r\n    state = {\r\n        phase: 'add', // add or edit\r\n        stockNameInputValue: '',\r\n        showDeleteConfirmDialog: false\r\n    }\r\n\r\n    onInputChange = (value, type) => {\r\n        this.setState({\r\n            [type]: value\r\n        })\r\n    }\r\n\r\n    onAddClick = () => {\r\n        const key = uuid()\r\n        const title = this.state.stockNameInputValue\r\n\r\n        if (!title) return\r\n\r\n        this.props.createStock({\r\n            key,\r\n            title\r\n        })\r\n\r\n        this.setState({\r\n            stockNameInputValue: ''\r\n        })\r\n    }\r\n\r\n    onEditClick = () => {\r\n        const title = this.state.stockNameInputValue\r\n\r\n        if (!title) return\r\n\r\n        this.props.updateStock({\r\n            key: stockKeyToEdit,\r\n            title\r\n        })\r\n\r\n        this.setState({\r\n            stockNameInputValue: '',\r\n            phase: 'add',\r\n        })\r\n    }\r\n\r\n    onItemEditClick = stock => {\r\n        stockKeyToEdit = stock.key\r\n\r\n        this.setState({\r\n            phase: 'edit',\r\n            stockNameInputValue: stock.title\r\n        })\r\n\r\n        this.refs.stockInput.focus()\r\n    }\r\n\r\n    onDeleteClick = (stockId) => {\r\n        stockKeyToDelete = stockId\r\n\r\n        this.setState({\r\n            showDeleteConfirmDialog: true\r\n        })\r\n    }\r\n\r\n    onDeleteConfirmClose = () => {\r\n        this.setState({\r\n            showDeleteConfirmDialog: false\r\n        })\r\n    }\r\n\r\n    onDeleteConfirmAccept = () => {\r\n        this.setState({\r\n            showDeleteConfirmDialog: false\r\n        })\r\n        // delete analysis, delete events\r\n        this.props.deleteStock(stockKeyToDelete)\r\n    }\r\n\r\n    onKeyDown = event => {\r\n        if (event.key === 'Enter') {\r\n            if (this.state.phase === 'add') {\r\n                this.onAddClick()\r\n            } else {\r\n                this.onEditClick()\r\n            }\r\n        }\r\n    }\r\n\r\n    renderStocksList = () => {\r\n        return this.props.stocks.map(stock => (\r\n          <StocksItem {...stock}\r\n                      onDeleteClick={() => this.onDeleteClick(stock.key)}\r\n                      onEditClick={() => this.onItemEditClick(stock)}\r\n                      onItemClick={() => this.props.selectStock(stock)}\r\n                      isActive={stock.key === this.props.activeStock.key}\r\n                      key={stock.key}/>\r\n        ))\r\n    }\r\n    componentDidMount() {\r\n        new PerfectScrollbar(this.refs.scrollable)\r\n        this.refs.stockInput.focus()\r\n    }\r\n    render () {\r\n        return (\r\n            <div className=\"peer stock-list h-100p\">\r\n                <div className=\"layers h-100\">\r\n                    <div className=\"bdB layer w-100 pos-r\">\r\n                        <input type=\"text\"\r\n                               placeholder=\"Category Name\"\r\n                               name=\"Name\"\r\n                               ref=\"stockInput\"\r\n                               value={this.state.stockNameInputValue}\r\n                               onKeyDown={this.onKeyDown}\r\n                               onChange={e => this.onInputChange(e.target.value, 'stockNameInputValue')}\r\n                               className=\"form-constrol p-15 bdrs-0 w-100 bdw-0 category-name-input\"/>\r\n\r\n                        {\r\n                            this.state.phase === 'add' ? (\r\n                              <button type=\"button\"\r\n                                className=\"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10 category-add-btn\"\r\n                                onClick={this.onAddClick}>\r\n                                  <i className=\"ti-plus\"/>\r\n                              </button>) :\r\n                              (<button type=\"button\"\r\n                                      className=\"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10\"\r\n                                      onClick={this.onEditClick}>\r\n                                  <i className=\"ti-pencil\"/>\r\n                              </button>)\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"layer w-100 fxg-1 scrollable pos-r\" ref=\"scrollable\">\r\n                        { this.renderStocksList() }\r\n                    </div>\r\n                    <div>\r\n                        <ConfirmModal isActive={this.state.showDeleteConfirmDialog}\r\n                                      question={deleteStockQuestion}\r\n                                      onModalClose={this.onDeleteConfirmClose}\r\n                                      onAccept={this.onDeleteConfirmAccept}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stocks: state.stocks.stockList,\r\n        activeStock: state.stocks.activeStock\r\n    }\r\n}\r\n\r\nconst actionCreators = {\r\n    createStock,\r\n    updateStock,\r\n    deleteStock,\r\n    selectStock\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(StocksList);\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './EventItem.scss'\r\n\r\nexport class EventItem extends React.Component {\r\n    onDeleteClick = e => {\r\n        e.stopPropagation()\r\n        this.props.onDeleteClick(e)\r\n    }\r\n\r\n    onEditClick = e => {\r\n        e.stopPropagation()\r\n        this.props.onEditClick(e)\r\n    }\r\n\r\n    onItemClick = e => {\r\n        this.props.onItemClick(e)\r\n    }\r\n\r\n    getEventTypeClassName = type => {\r\n        if (type === 1) return 'event-item-good'\r\n        else if (type === 0) return 'event-item-neutral'\r\n        else return 'event-item-bad'\r\n    }\r\n    render() {\r\n        const { title, date, T0T1, T1E, ET2, T2T3 } = this.props\r\n        const activeEventClass = this.props.isActive ? 'bgc-grey-50' : ''\r\n        const eventTypeClass = this.getEventTypeClassName(this.props.eventType)\r\n\r\n        return (\r\n            <li onClick={this.onItemClick} className={`bdB peers ai-c bgcH-grey-50 jc-sb fxw-nw cur-p item ${activeEventClass} ${eventTypeClass}`}>\r\n                <a className=\"td-n p-20 peers fxw-nw mR-20 peer-greed c-grey-900\">\r\n                    <div className=\"peer\">\r\n                        <span className=\"fw-600 eventItemTitle\">{title}</span>\r\n                        <div className=\"c-grey-600\">\r\n                            <span className=\"c-grey-700 eventItemDate\">{date}</span>\r\n                        </div>\r\n                        <div className=\"c-grey-600\">\r\n                            <span className=\"c-grey-700 eventItemDate\">\r\n                                Timeline: {T0T1}, {T1E}, {ET2}, {T2T3}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n                <div className=\"peers mR-15\">\r\n                    <div className=\"peer\">\r\n                        <a href=\"#\"\r\n                           className=\"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5 edit-icon-btn\"\r\n                           onClick={this.onEditClick}>\r\n                            <i className=\"ti-pencil\"/>\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"peer\">\r\n                        <a href=\"#\"\r\n                           className=\"td-n c-red-500 cH-blue-500 fsz-md p-5 delete-icon-btn\"\r\n                           onClick={this.onDeleteClick}>\r\n                            <i className=\"ti-trash\"/>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nEventItem.propTypes = {\r\n    title: PropTypes.string,\r\n    date: PropTypes.string,\r\n    eventType: PropTypes.number,\r\n    description: PropTypes.string,\r\n    onDeleteClick: PropTypes.func,\r\n    onEditClick: PropTypes.func,\r\n    onItemClick: PropTypes.func,\r\n    isActive: PropTypes.bool\r\n}\r\n\r\nEventItem.defaultProps = {\r\n    title: '',\r\n    date: '',\r\n    eventType: 0,\r\n    description: '...',\r\n    onDeleteClick: () => {},\r\n    onEditClick: () => {},\r\n    onItemClick: () => {},\r\n    isActive: false\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Tour from 'reactour'\r\n\r\nconst steps = [\r\n  {\r\n    selector: '.event-dialog-title-input',\r\n    content: 'Specify title of your event, for example \"CEO died\".'\r\n  },\r\n  {\r\n    selector: '.event-dialog-date-input',\r\n    content: 'Specify date of the event. attention, the date format must match with data source date format.'\r\n  },\r\n  {\r\n    selector: '.event-dialog-external-resource-checkbox',\r\n    content: 'By checking this check box data source will be downloaded from external api.'\r\n  },\r\n  {\r\n    selector: '.event-dialog-analysis-model-checkbox',\r\n    content: 'When checkbox is checked we use market model as analysis model, in otherwise we use constant mean model as analysis model.'\r\n  },\r\n  {\r\n    selector: '.event-dialog-alphavantage-token-input',\r\n    content: 'For using external resources you need to sign up in alphavantage website, then import your token here.'\r\n  }\r\n]\r\n\r\nexport class EventDialogTour extends React.Component {\r\n  state = {\r\n    isOpen: this.props.isOpen\r\n  }\r\n\r\n  closeTour = () => {\r\n    this.props.onRequestClose()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Tour isOpen={this.props.isOpen}\r\n            steps={steps}\r\n            rounded={4}\r\n            onRequestClose={this.closeTour}/>\r\n    )\r\n  }\r\n}\r\n\r\nEventDialogTour.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  onRequestClose: PropTypes.func\r\n}\r\n\r\nEventDialogTour.defaultProps = {\r\n  isOpen: false,\r\n  onRequestClose: () => {}\r\n}\r\n\r\nexport default EventDialogTour\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport class FormInput extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.inputRef = React.createRef()\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    // @todo check before update\r\n    this.inputRef.current.value = this.props.inputValue\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <label className=\"fw-500\" dangerouslySetInnerHTML={{__html: this.props.inputLabel}}/>\r\n\r\n        <input className={\"form-control bdc-grey-200\" + (this.props.invalidFeedback ? ' is-invalid' : '') }\r\n               onChange={this.props.onChange}\r\n               ref={this.inputRef}\r\n               defaultValue={this.props.inputValue}/>\r\n\r\n        {\r\n          this.props.invalidFeedback ? (\r\n            <div className=\"invalid-feedback\">\r\n              {this.props.invalidFeedback}\r\n            </div>\r\n          ) : null\r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nFormInput.propTypes = {\r\n  inputValue: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\r\n  inputLabel: PropTypes.string,\r\n  invalidFeedback: PropTypes.string,\r\n  onChange: PropTypes.func\r\n}\r\n\r\nexport default FormInput\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport class FormSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.selectRef = React.createRef()\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    this.selectRef.current.value = this.props.selectValue\r\n  }\r\n\r\n  genOptions = () => {\r\n    return this.props.selectOptions.map(({ label, value, id }, index) => <option value={value} key={id || index}>{label}</option>)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <label className=\"mr-sm-2 fw-500\" htmlFor=\"inlineFormCustomSelect\">{this.props.selectLabel}</label>\r\n\r\n        <select className={\"custom-select bdc-grey-200 mr-sm-2\" + (this.props.invalidFeedback ? ' is-invalid' : '')}\r\n                id=\"inlineFormCustomSelect\"\r\n                ref={this.selectRef}\r\n                onChange={this.props.onChange}\r\n                defaultValue={this.props.selectValue}>\r\n          <option disabled>Choose...</option>\r\n\r\n          { this.genOptions() }\r\n        </select>\r\n\r\n        {\r\n          this.props.invalidFeedback ? (\r\n            <div className=\"invalid-feedback\">\r\n              {this.props.invalidFeedback}\r\n            </div>\r\n          ) : null\r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nFormSelect.propTypes = {\r\n  selectValue: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\r\n  selectLabel: PropTypes.string,\r\n  selectOptions: PropTypes.array,\r\n  invalidFeedback: PropTypes.string,\r\n  onChange: PropTypes.func\r\n}\r\n\r\nFormSelect.defaultProps = {\r\n  selectValue: '',\r\n  selectLabel: '',\r\n  selectOptions: [],\r\n  invalidFeedback: '',\r\n  onChange: () => {}\r\n}\r\nexport default FormSelect\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport $ from 'jquery'\r\n\r\nlet datePicker\r\nconst defaultEventDateFormat = 'yyyy-mm-dd'\r\nexport class FormDatepicker extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.pickerRef = React.createRef()\r\n  }\r\n\r\n  handleChange = event => {\r\n    if (this.props.onChange) this.props.onChange(event)\r\n  }\r\n\r\n  componentDidMount (){\r\n    datePicker = $('.event-date').datepicker({\r\n      format: this.props.defaultEventDateFormat,\r\n      autoclose: true\r\n    }).on('hide', this.handleChange)\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    // @todo check before update\r\n    this.pickerRef.current.value = this.props.pickerValue\r\n\r\n    if (this.props.defaultEventDateFormat !== prevProps.defaultEventDateFormat) {\r\n      datePicker.datepicker('destroy').datepicker({\r\n        updateViewDate: false,\r\n        format: this.props.defaultEventDateFormat || defaultEventDateFormat\r\n      }).on('changeDate', this.handleChange)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <label className=\"fw-500\">{this.props.pickerLabel}</label>\r\n\r\n        <div className=\"timepicker-input input-icon form-group\">\r\n          <div className=\"input-group\">\r\n            <div className=\"input-group-addon bgc-white bd bdwR-0\">\r\n              <i className=\"ti-calendar\"/>\r\n            </div>\r\n\r\n            <input type=\"text\"\r\n                   className={\"form-control bdc-grey-200 event-date\" + (this.props.invalidFeedback ? ' is-invalid' : '') }\r\n                   placeholder=\"Datepicker\"\r\n                   data-provide=\"datepicker\"\r\n                   ref={this.pickerRef}\r\n                   onChange={this.handleChange}\r\n                   defaultValue={this.props.pickerValue}/>\r\n\r\n            {\r\n              this.props.invalidFeedback ? (\r\n                <div className=\"invalid-feedback\">\r\n                  {this.props.invalidFeedback}\r\n                </div>\r\n              ) : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nFormDatepicker.propTypes = {\r\n  defaultEventDateFormat: PropTypes.string,\r\n  pickerValue: PropTypes.string,\r\n  pickerLabel: PropTypes.string,\r\n  invalidFeedback: PropTypes.string,\r\n  onChange: PropTypes.func\r\n}\r\n\r\nFormDatepicker.defaultProps = {\r\n  defaultEventDateFormat,\r\n  pickerValue: '',\r\n  pickerLabel: '',\r\n  invalidFeedback: '',\r\n  onChange: () => {}\r\n}\r\n\r\nexport default FormDatepicker","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport $ from 'jquery'\r\nimport is from 'ramda/src/is'\r\nimport moment from 'moment'\r\nimport EventDialogTour from './EventDialogTour/EventDialogTour'\r\nimport FormInput from '../../../components/FormInput/FormInput'\r\nimport FormSelect from '../../../components/FormSelect/FormSelect'\r\nimport FormPicker from '../../../components/FormDatepicker/FormDatepicker'\r\nimport FormFile from '../../../components/FormFile/FormFile'\r\n\r\nimport { csvToJson } from '../../../lib/csv'\r\nimport { getStockData } from '../../../lib/alphavantageApi'\r\nimport { adjustmentRules, timeFrames } from '../../../configs/constants'\r\n\r\nimport {\r\n  validateTimelineKey,\r\n  validateColumnName,\r\n  validatePrices,\r\n  MarketModel,\r\n  MeanModel\r\n} from 'event-study'\r\n\r\nlet jqueryModalRef\r\n\r\nconst extractErrorFromResults = result => {\r\n  if (typeof result === 'string') return result\r\n  else return 'Invalid data'\r\n}\r\nconst genState = props => {\r\n  const {\r\n    loading = false,\r\n    showHelp = false,\r\n    title = '',\r\n    date = '',\r\n    dates = [],\r\n    stock = [],\r\n    stockSymbol = '',\r\n    stockTimeFrame = 'Daily',\r\n    market = [],\r\n    marketSymbol = '',\r\n    marketTimeFrame = 'Daily',\r\n    dateColumn = '',\r\n    operationColumn = '',\r\n    alphavantageToken = '',\r\n    adjustmentRule = '',\r\n    T0T1 = '',\r\n    T1E = '',\r\n    ET2 = '',\r\n    T2T3 = '',\r\n    defaultEventDateFormat = '',\r\n    analysisModel = true, // true means Market Model\r\n    useExternalSource = false,\r\n    stockInputFileLabel = '', // stock name\r\n    marketInputFileLabel = '', // market name\r\n    invalidFeedBacks = {\r\n      title: '',\r\n      date: '',\r\n      stockInputFileLabel: '',\r\n      stockSymbol: '',\r\n      stockTimeFrame: '',\r\n      marketInputFileLabel: '',\r\n      marketSymbol: '',\r\n      marketTimeFrame: '',\r\n      alphavantageToken: '',\r\n      dateColumn: '',\r\n      operationColumn: '',\r\n      adjustmentRule: '',\r\n      T0T1: '',\r\n      T1E: '',\r\n      ET2: '',\r\n      T2T3: '',\r\n      globalError: ''\r\n    }\r\n  } = props\r\n\r\n  return {\r\n    loading,\r\n    showHelp,\r\n    title,\r\n    date,\r\n    dates,\r\n    stock,\r\n    stockSymbol,\r\n    stockTimeFrame,\r\n    market,\r\n    marketSymbol,\r\n    marketTimeFrame,\r\n    dateColumn,\r\n    operationColumn,\r\n    alphavantageToken,\r\n    adjustmentRule,\r\n    T0T1,\r\n    T1E,\r\n    ET2,\r\n    T2T3,\r\n    defaultEventDateFormat,\r\n    analysisModel,\r\n    useExternalSource,\r\n    stockInputFileLabel,\r\n    marketInputFileLabel,\r\n    invalidFeedBacks\r\n  }\r\n}\r\n\r\nexport class EventDialog extends React.Component {\r\n  state = genState(this.props)\r\n\r\n  static showModal () {\r\n    jqueryModalRef.modal({\r\n      keyboard: false,\r\n      backdrop: 'static',\r\n      show: true\r\n    })\r\n  }\r\n\r\n  static hideModal () {\r\n    jqueryModalRef.modal('hide')\r\n  }\r\n\r\n  handleChange (type, event) {\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n  }\r\n\r\n  handleCheckboxChange = (type, event) => {\r\n    this.setState({\r\n      [type]: event.target.checked\r\n    })\r\n  }\r\n  onDeleteDate = index => {\r\n    const dates = [...this.state.dates]\r\n\r\n    dates.splice(index, 1)\r\n\r\n    this.setState({\r\n      dates\r\n    })\r\n  }\r\n\r\n  onDateChange = event => {\r\n    this.setState({\r\n      date: event.target.value\r\n    })\r\n\r\n    this.addDate()\r\n  }\r\n  analysisCheckBoxClass = (checked) => {\r\n    return checked ? 'col-sm-5' : 'col-sm-10'\r\n  }\r\n  onFileChange = (labelType, infoType, e) => {\r\n    const file = e.target.files[0]\r\n\r\n    if (!file) return\r\n\r\n    csvToJson(file)\r\n      .then(json => {\r\n        this.setState({\r\n          [infoType]: json,\r\n          [labelType]: file.name\r\n        })\r\n      })\r\n  }\r\n\r\n  addDate = () => {\r\n    if (!this.state.date) return\r\n    const parsedDate = moment(this.state.date, this.state.defaultEventDateFormat.toUpperCase(), true)\r\n\r\n    if (!parsedDate.isValid()) return\r\n\r\n    // find duplicate\r\n    const duplicateIndex = this.state.dates.findIndex(d => d === this.state.date)\r\n    if (duplicateIndex !== -1) return;\r\n\r\n    const newDates = [...this.state.dates]\r\n\r\n    newDates.push(this.state.date)\r\n\r\n    this.setState({\r\n      dates: newDates\r\n    })\r\n  }\r\n\r\n  renderChips = () => {\r\n    return this.state.dates.map((date, index) => (\r\n      <div className=\"chip\" key={index}>\r\n        <span>{date}</span>\r\n\r\n        <span className=\"chip-close-btn\" onClick={() => { this.onDeleteDate(index) } }>&times;</span>\r\n      </div>\r\n    ))\r\n  }\r\n\r\n  validateSharedInputs = () => {\r\n    const isValidDate = validateColumnName(this.state.date) || ''\r\n    const isDateColumnInvalid = validateColumnName(this.state.dateColumn) || ''\r\n    const isOperationColumnInvalid = validateColumnName(this.state.operationColumn) || ''\r\n    const isT0T1Invalid = validateTimelineKey(this.state.T0T1) || ''\r\n    const isT1EInvalid = validateTimelineKey(this.state.T1E) || ''\r\n    const isET2Invalid = validateTimelineKey(this.state.ET2) || ''\r\n    const isT2T3Invalid = validateTimelineKey(this.state.T2T3) || ''\r\n\r\n    return [\r\n      ['date', isValidDate],\r\n      ['dateColumn', isDateColumnInvalid],\r\n      ['operationColumn', isOperationColumnInvalid],\r\n      ['T0T1', isT0T1Invalid],\r\n      ['T1E', isT1EInvalid],\r\n      ['ET2', isET2Invalid],\r\n      ['T2T3', isT2T3Invalid]\r\n    ].filter(item => item[1])\r\n  }\r\n\r\n  validateMarketModelSources = () => {\r\n    const isStockPriceInvalid = validatePrices(this.state.stock, this.state.dateColumn, this.state.operationColumn) || ''\r\n    const isMarketPriceInvalid = validatePrices(this.state.market, this.state.dateColumn, this.state.operationColumn) || ''\r\n\r\n    return [\r\n      ['stock', isStockPriceInvalid],\r\n      ['market', isMarketPriceInvalid]\r\n    ].filter(item => item[1])\r\n  }\r\n\r\n  validateMeanModelSources = () => {\r\n    const isStockPriceInvalid = validatePrices(this.state.stock, this.state.dateColumn, this.state.operationColumn) || ''\r\n\r\n    return [\r\n      ['stock', isStockPriceInvalid]\r\n    ].filter(item => item[1])\r\n  }\r\n\r\n  validateMarketModelExternalSourceInputs = () => {\r\n    const isStockSymbolValid = validateColumnName(this.state.stockSymbol) || ''\r\n    const isStockTimeFrameValid = validateColumnName(this.state.stockTimeFrame) || ''\r\n    const isMarketSymbolValid = validateColumnName(this.state.marketSymbol) || ''\r\n    const isMarketTimeFrameValid = validateColumnName(this.state.marketTimeFrame) || ''\r\n    const isAlphavantageTokenValid = validateColumnName(this.state.alphavantageToken) || ''\r\n\r\n    return [\r\n      ['stockSymbol', isStockSymbolValid],\r\n      ['stockTimeFrame', isStockTimeFrameValid],\r\n      ['alphavantageToken', isAlphavantageTokenValid],\r\n      ['marketSymbol', isMarketSymbolValid],\r\n      ['marketTimeFrame', isMarketTimeFrameValid]\r\n    ].filter(item => item[1])\r\n  }\r\n\r\n  validateMeanModelExternalSourceInputs = () => {\r\n    const isStockSymbolValid = validateColumnName(this.state.stockSymbol) || ''\r\n    const isStockTimeFrameValid = validateColumnName(this.state.stockTimeFrame) || ''\r\n    const isAlphavantageTokenValid = validateColumnName(this.state.alphavantageToken) || ''\r\n\r\n    return [\r\n      ['stockSymbol', isStockSymbolValid],\r\n      ['stockTimeFrame', isStockTimeFrameValid],\r\n      ['alphavantageToken', isAlphavantageTokenValid]\r\n    ].filter(item => item[1])\r\n  }\r\n\r\n  validateAll = () => {\r\n    const areSharedInputsValid = this.validateSharedInputs()\r\n\r\n    let areInputsValid\r\n\r\n    if (this.state.analysisModel) {\r\n      if (this.state.useExternalSource) {\r\n        areInputsValid = this.validateMarketModelExternalSourceInputs()\r\n      } else {\r\n        areInputsValid = this.validateMarketModelSources()\r\n      }\r\n    } else {\r\n      if (this.state.useExternalSource) {\r\n        areInputsValid = this.validateMeanModelExternalSourceInputs()\r\n      } else {\r\n        areInputsValid = this.validateMeanModelSources()\r\n      }\r\n    }\r\n\r\n    const addError = (invalidFeedBacks, feedback) => {\r\n      invalidFeedBacks[feedback[0]] = feedback[1].toString()\r\n      return invalidFeedBacks\r\n    }\r\n\r\n    if (areSharedInputsValid.length || areInputsValid.length) {\r\n      return areInputsValid.reduce(addError, areSharedInputsValid.reduce(addError, {}))\r\n    } else return null\r\n  }\r\n\r\n  getStockDataFromExternalResource = () => {\r\n    return new Promise((resolve, reject) => {\r\n      const {\r\n        stockSymbol,\r\n        stockTimeFrame,\r\n        marketSymbol,\r\n        marketTimeFrame,\r\n        alphavantageToken\r\n      } = this.state\r\n\r\n      this.setState({ loading: true })\r\n\r\n      const promises = [() => getStockData(stockSymbol, stockTimeFrame, alphavantageToken)]\r\n      if (this.state.analysisModel) promises.push(() => getStockData(marketSymbol, marketTimeFrame, alphavantageToken))\r\n\r\n      const delay = ms => new Promise(resolve => setTimeout(resolve, ms))\r\n\r\n      // fetch by delay\r\n      promises.reduce((promise, promiseFunction, idx) => {\r\n        return promise.then(() => {\r\n          return Promise.all([delay(500), promiseFunction()])\r\n        }).then(result => {\r\n          if (idx === 0) {\r\n            this.setState({\r\n              stock: result[1]\r\n            })\r\n          } else {\r\n            this.setState({\r\n              market: result[1]\r\n            })\r\n          }\r\n        }).catch(reject)\r\n      }, Promise.resolve()).then(() => {\r\n        this.setState({\r\n          loading: false\r\n        })\r\n\r\n        resolve()\r\n      })\r\n    })\r\n  }\r\n  onAfterValidate = () => {\r\n    const { date, dates, title = 'No Title', adjustmentRule, T0T1, T1E, ET2, T2T3, market, stock, dateColumn, operationColumn } = this.state\r\n\r\n    if (!dates.length) dates.push(date)\r\n\r\n    const timeline = { T0T1, T1E, ET2, T2T3 }\r\n\r\n    let hasError = false\r\n    // extract dates\r\n    const statsResults = dates.map(date => {\r\n      const calendar = [{\r\n        date,\r\n        stock,\r\n        market,\r\n        timeline,\r\n        dateColumn,\r\n        operationColumn,\r\n        unmatchedTradingDayStrategy: adjustmentRule\r\n      }]\r\n\r\n      const statsResult = this.state.analysisModel ? MarketModel({ calendar })[0] : MeanModel({ calendar })[0]\r\n\r\n      if (!is(Object, statsResult) || statsResult['errors']) {\r\n        this.setState({\r\n          invalidFeedBacks: {\r\n            globalError: extractErrorFromResults(statsResult)\r\n          }\r\n        })\r\n\r\n        hasError = true\r\n\r\n        this.scrollTop()\r\n      }\r\n\r\n      return statsResult\r\n    })\r\n\r\n    if (hasError) return\r\n\r\n    const eventsData = dates.map(date => {\r\n      return {\r\n        date, title, T0T1, T1E, ET2, T2T3, dateColumn, operationColumn\r\n      }\r\n    })\r\n\r\n    EventDialog.hideModal()\r\n\r\n    this.props.onAccept({\r\n      eventsData,\r\n      statsResults\r\n    })\r\n  }\r\n  onAccept = () => {\r\n    const validationResult = this.validateAll()\r\n\r\n    if (validationResult) {\r\n      this.setState({\r\n        invalidFeedBacks: validationResult\r\n      })\r\n      return\r\n    }\r\n\r\n    if (this.state.useExternalSource) {\r\n      this.getStockDataFromExternalResource()\r\n        .then(() => {\r\n          const validationResult = this.validateAll()\r\n\r\n          if (validationResult) {\r\n            this.setState({\r\n              invalidFeedBacks: validationResult,\r\n              loading: false\r\n            })\r\n            return\r\n          }\r\n\r\n          this.onAfterValidate()\r\n        })\r\n        .catch(error => {\r\n          if (typeof error === 'object') {\r\n            error = error.message || JSON.stringify(error)\r\n          }\r\n\r\n          this.setState({\r\n            loading: false,\r\n            invalidFeedBacks: {\r\n              globalError: error\r\n            }\r\n          })\r\n\r\n          this.scrollTop()\r\n        })\r\n    } else {\r\n      this.onAfterValidate()\r\n    }\r\n  }\r\n\r\n  onHelpClick = () => {\r\n    this.setState({\r\n      showHelp: true\r\n    })\r\n  }\r\n\r\n  onTourCloseClick = () => {\r\n    this.setState({\r\n      showHelp: false\r\n    })\r\n  }\r\n\r\n  scrollTop = () => {\r\n    this.refs.modalBody.scrollTop = 0\r\n  }\r\n\r\n  componentDidMount () {\r\n    jqueryModalRef = $(this.refs.modal)\r\n\r\n    jqueryModalRef.on('hidden.bs.modal', e => {\r\n      this.props.onModalClose(e)\r\n    })\r\n\r\n    jqueryModalRef.on('shown.bs.modal', e => {\r\n      this.props.onModalOpen(e)\r\n    })\r\n\r\n    if (this.props.isActive) EventDialog.showModal()\r\n  }\r\n\r\n  componentWillUpdate (nextProps) {\r\n    if (this.props.isActive !== nextProps.isActive) {\r\n      if (nextProps.isActive) {\r\n        this.setState(genState(Object.assign({}, this.props, nextProps.event)))\r\n      } else {\r\n        this.setState(genState({}))\r\n        const stockId = document.getElementById('eventDialogStockPriceInput')\r\n        const marketId = document.getElementById('eventDialogMarketPriceInput')\r\n\r\n        if (stockId) stockId.value = ''\r\n        if (marketId) marketId.value = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (this.props.isActive !== prevProps.isActive) {\r\n      this.props.isActive ? EventDialog.showModal() : EventDialog.hideModal()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"modal fade\" ref='modal'>\r\n        <div className=\"modal-dialog\" id=\"event-dialog-modal\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"bd p-15 modal-header\">\r\n              <h5 className=\"m-0 dialog-title\">\r\n                <a href=\"#\" className=\"icon-button pl-0 pos-r t-2\" onClick={this.onHelpClick}>\r\n                  <i className=\"ti-help-alt\"/>\r\n                </a>\r\n\r\n                {this.props.dialogTitle}\r\n              </h5>\r\n\r\n              <button type=\"button\" className=\"close float-right\" data-dismiss=\"modal\" aria-label=\"Close\" disabled={this.state.loading}>\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\" ref=\"modalBody\">\r\n              <EventDialogTour isOpen={this.state.showHelp} onRequestClose={this.onTourCloseClick}/>\r\n              {\r\n                this.state.invalidFeedBacks.globalError ? (<div className=\"alert alert-danger\" role=\"alert\">{this.state.invalidFeedBacks.globalError}!</div>) : null\r\n              }\r\n\r\n              <form>\r\n                <div className=\"form-group event-dialog-title-input\">\r\n                  <FormInput\r\n                    inputLabel={ 'Event title' }\r\n                    inputValue={ this.state.title }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.title }\r\n                    onChange={ event => this.handleChange('title', event) }/>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12 event-dialog-date-input\">\r\n                    <FormPicker pickerLabel={ 'Dates' }\r\n                                defaultEventDateFormat={this.state.defaultEventDateFormat}\r\n                                pickerValue={ this.state.date }\r\n                                invalidFeedback={ this.state.invalidFeedBacks.date }\r\n                                onChange={ event => this.onDateChange(event) }/>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"form-group\">\r\n                      {\r\n                        this.renderChips()\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group event-dialog-external-resource-checkbox\">\r\n                  <div className=\"custom-control custom-checkbox\">\r\n                    <input type=\"checkbox\"\r\n                           className=\"custom-control-input\"\r\n                           id=\"toggleUseExternalResource\"\r\n                           checked={ this.state.useExternalSource }\r\n                           onChange={ event => this.handleCheckboxChange('useExternalSource', event) }/>\r\n                    <label className=\"custom-control-label\" htmlFor=\"toggleUseExternalResource\">Use external resources</label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-row\">\r\n                  {\r\n                    this.state.useExternalSource ? (\r\n                      <Fragment>\r\n                        <div className=\"col-sm-2\">\r\n                          <div className=\"custom-control custom-checkbox\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"custom-control-input\"\r\n                                   id=\"toggleMarketModel\"\r\n                                   checked={ this.state.analysisModel }\r\n                                   onChange={ e => this.handleCheckboxChange('analysisModel', e) }/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"toggleMarketModel\">MM</label>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className={\"form-group \" + this.analysisCheckBoxClass(this.state.analysisModel)}>\r\n                          <div>\r\n                            <FormInput\r\n                              inputLabel={ 'Stock Symbol' }\r\n                              inputValue={ this.state.stockSymbol }\r\n                              invalidFeedback={ this.state.invalidFeedBacks.stockSymbol }\r\n                              onChange={ event => this.handleChange('stockSymbol', event) }/>\r\n\r\n                            <div className=\"form-group\"/>\r\n\r\n                            <FormSelect\r\n                              selectLabel={ 'Stock Time Frame' }\r\n                              selectValue={ this.state.stockTimeFrame }\r\n                              selectOptions={ timeFrames }\r\n                              invalidFeedback={ this.state.invalidFeedBacks.stockTimeFrame }\r\n                              onChange={ event => this.handleChange('stockTimeFrame', event) }/>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {\r\n                          this.state.analysisModel ? (\r\n                            <div className=\"form-group col-sm-5\">\r\n                              <FormInput\r\n                                inputLabel={ 'Market Symbol' }\r\n                                inputValue={ this.state.marketSymbol }\r\n                                invalidFeedback={ this.state.invalidFeedBacks.marketSymbol }\r\n                                onChange={ event => this.handleChange('marketSymbol', event) }/>\r\n\r\n                              <div className=\"form-group\"/>\r\n\r\n                              <FormSelect\r\n                                selectLabel={ 'Market Time Frame' }\r\n                                selectValue={ this.state.marketTimeFrame }\r\n                                selectOptions={ timeFrames }\r\n                                invalidFeedback={ this.state.invalidFeedBacks.marketTimeFrame }\r\n                                onChange={ event => this.handleChange('marketTimeFrame', event) }/>\r\n                            </div>\r\n                          ) : null\r\n                        }\r\n                      </Fragment>\r\n                    ) : (\r\n                      <Fragment>\r\n                        <div className=\"col-sm-2\">\r\n                          <div className=\"custom-control custom-checkbox mt-2 event-dialog-analysis-model-checkbox\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"custom-control-input\"\r\n                                   id=\"toggleMarketModel\"\r\n                                   checked={ this.state.analysisModel }\r\n                                   onChange={ e => this.handleCheckboxChange('analysisModel', e) }/>\r\n                            <label className=\"custom-control-label\" htmlFor=\"toggleMarketModel\">MM</label>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className={\"form-group \" + this.analysisCheckBoxClass(this.state.analysisModel)}>\r\n                          <FormFile accept={ '.csv' }\r\n                                    identifier={ 'eventDialogStockPriceInput' }\r\n                                    inputLabel={ this.state.stockInputFileLabel || 'Stock prices' }\r\n                                    invalidFeedback={ this.state.invalidFeedBacks.stock }\r\n                                    onChange={e => this.onFileChange('stockInputFileLabel', 'stock', e)}/>\r\n                        </div>\r\n\r\n                        {\r\n                          this.state.analysisModel ? (\r\n                            <div className=\"form-group col-sm-5\">\r\n                              <FormFile accept={ '.csv' }\r\n                                        identifier={ 'eventDialogMarketPriceInput' }\r\n                                        inputLabel={ this.state.marketInputFileLabel || 'Market prices' }\r\n                                        invalidFeedback={ this.state.invalidFeedBacks.market }\r\n                                        onChange={e => this.onFileChange('marketInputFileLabel', 'market', e)}/>\r\n                            </div>\r\n                          ) : null\r\n                        }\r\n                      </Fragment>\r\n                    )\r\n                  }\r\n                </div>\r\n\r\n                {\r\n                  this.state.useExternalSource ? (\r\n                    <div className=\"form-group event-dialog-alphavantage-token-input\">\r\n                      <FormInput\r\n                        inputLabel={ 'Alphavantage Token: <a href=\"https://www.alphavantage.co/support/#api-key\" target=\"_blank\">get your token</a>' }\r\n                        inputValue={ this.state.alphavantageToken }\r\n                        invalidFeedback={ this.state.invalidFeedBacks.alphavantageToken }\r\n                        onChange={ event => this.handleChange('alphavantageToken', event) }/>\r\n                    </div>\r\n                  ) : null\r\n                }\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Date Column' }\r\n                    inputValue={ this.state.dateColumn }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.dateColumn }\r\n                    onChange={ event => this.handleChange('dateColumn', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Operation Column' }\r\n                    inputValue={ this.state.operationColumn }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.operationColumn }\r\n                    onChange={ event => this.handleChange('operationColumn', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormSelect\r\n                    selectLabel={ 'Adjustment Rule for Non-Trading Days' }\r\n                    selectValue={ this.state.adjustmentRule }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.adjustmentRule }\r\n                    selectOptions={ adjustmentRules }\r\n                    onChange={ event => this.handleChange('adjustmentRule', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Estimation period (T0T1)' }\r\n                    inputValue={ this.state.T0T1 }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.T0T1 }\r\n                    onChange={ event => this.handleChange('T0T1', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Pre-announcement window (T1E)' }\r\n                    inputValue={ this.state.T1E }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.T1E }\r\n                    onChange={ event => this.handleChange('T1E', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Post-announcement window (ET2)' }\r\n                    inputValue={ this.state.ET2 }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.ET2 }\r\n                    onChange={ event => this.handleChange('ET2', event) }/>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <FormInput\r\n                    inputLabel={ 'Post event period (T2T3)' }\r\n                    inputValue={ this.state.T2T3 }\r\n                    invalidFeedback={ this.state.invalidFeedBacks.T2T3 }\r\n                    onChange={ event => this.handleChange('T2T3', event) }/>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"text-right modal-footer\">\r\n              <button type=\"button\" className=\"btn\" data-dismiss=\"modal\" disabled={this.state.loading}>Close</button>\r\n\r\n              <button className=\"btn btn-primary\"\r\n                      type=\"button\"\r\n                      onClick={this.onAccept}\r\n                      disabled={this.state.loading}>\r\n                { this.state.loading ? (\r\n                  <Fragment>\r\n                    <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"/>\r\n                    downloading, might take a while...\r\n                  </Fragment>\r\n                ) : (\r\n                  <span>Done</span>\r\n                ) }\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nEventDialog.propTypes = {\r\n  isActive: PropTypes.bool,\r\n  onModalClose: PropTypes.func,\r\n  onModalOpen: PropTypes.func,\r\n  onAccept: PropTypes.func,\r\n  dialogTitle: PropTypes.string,\r\n  title: PropTypes.string,\r\n  date: PropTypes.string,\r\n  defaultEventDateFormat: PropTypes.string,\r\n  event: PropTypes.object,\r\n  setting: PropTypes.object\r\n}\r\n\r\nEventDialog.defaultProps = {\r\n  isActive: false,\r\n  onModalClose: () => {},\r\n  onModalOpen: () => {},\r\n  onAccept: () => {},\r\n  dialogTitle: '',\r\n  title: '',\r\n  date: ''\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    dateColumn: state.setting.dateColumn,\r\n    operationColumn: state.setting.operationColumn,\r\n    alphavantageToken: state.setting.alphavantageToken,\r\n    defaultEventDateFormat: state.setting.defaultEventDateFormat,\r\n    adjustmentRule: state.setting.adjustmentRule,\r\n    T0T1: state.setting.T0T1,\r\n    T1E: state.setting.T1E,\r\n    ET2: state.setting.ET2,\r\n    T2T3: state.setting.T2T3\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(EventDialog)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport class FormFile extends React.Component {\r\n  handleChange = event => {\r\n    if (this.props.onChange) this.props.onChange(event)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"custom-file\">\r\n        <input type=\"file\"\r\n               accept={ this.props.accept }\r\n               onClick={e => { e.target.value = null }}\r\n               onChange={this.handleChange}\r\n               className={\"custom-file-input form-control-file bdc-grey-200\" + (this.props.invalidFeedback ? ' is-invalid' : '') }\r\n               id={this.props.identifier}/>\r\n        <label className=\"fw-500 custom-file-label\" htmlFor={this.props.identifier}>{this.props.inputLabel}</label>\r\n        {\r\n          this.props.invalidFeedback ? (\r\n            <div className=\"invalid-feedback\">\r\n              {this.props.invalidFeedback}\r\n            </div>\r\n          ) : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nFormFile.propTypes = {\r\n  inputLabel: PropTypes.string,\r\n  invalidFeedback: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  accept: PropTypes.string,\r\n  identifier: PropTypes.string\r\n}\r\n\r\nexport default FormFile\r\n","const csv = require('csvtojson/v2')\r\n\r\nexport const readAsText = file => {\r\n    return new Promise((resolve, reject) => {\r\n        const fileReader = new FileReader()\r\n        fileReader.onload = resolve\r\n        fileReader.onerror = reject\r\n        fileReader.readAsText(file)\r\n    })\r\n}\r\n\r\nexport const csvToJson = file => {\r\n    return new Promise((resolve, reject) => {\r\n        readAsText(file)\r\n          .then(data => {\r\n              csv()\r\n                .fromString(data.target.result)\r\n                .then(resolve)\r\n                .catch(reject)\r\n          }).catch(reject)\r\n    })\r\n}\r\n","import axios from 'axios'\r\n\r\nconst ALPHAVANTAGE_URL = 'https://www.alphavantage.co/query'\r\nconst outputSize = 'full' // compact, full\r\n\r\nconst getUrl = (symbol, interval, apiKey) => {\r\n  switch (interval) {\r\n    case '1min':\r\n    case '5min':\r\n    case '15min':\r\n    case '30min':\r\n    case '60min':\r\n      return `${ALPHAVANTAGE_URL}?function=TIME_SERIES_INTRADAY&symbol=${symbol}&interval=${interval}&outputsize=${outputSize}&apikey=${apiKey}`\r\n    case 'Daily':\r\n      return `${ALPHAVANTAGE_URL}?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${symbol}&outputsize=${outputSize}&apikey=${apiKey}`\r\n    case 'Weekly':\r\n      return `${ALPHAVANTAGE_URL}?function=TIME_SERIES_WEEKLY_ADJUSTED&symbol=${symbol}&outputsize=${outputSize}&apikey=${apiKey}`\r\n    case 'Monthly':\r\n      return `${ALPHAVANTAGE_URL}?function=TIME_SERIES_MONTHLY_ADJUSTED&symbol=${symbol}&outputsize=${outputSize}&apikey=${apiKey}`\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nconst getPriceLabel = interval => {\r\n  switch (interval) {\r\n    case '1min':\r\n      return 'Time Series (1min)'\r\n    case '5min':\r\n      return 'Time Series (5min)'\r\n    case '15min':\r\n      return 'Time Series (15min)'\r\n    case '30min':\r\n      return 'Time Series (30min)'\r\n    case '60min':\r\n      return 'Time Series (60min)'\r\n    case 'Daily':\r\n      return 'Time Series (Daily)'\r\n    case 'Weekly':\r\n      return 'Weekly Adjusted Time Series'\r\n    case 'Monthly':\r\n      return 'Monthly Adjusted Time Series'\r\n    default:\r\n      throw new Error('unknown interval')\r\n  }\r\n}\r\n\r\n// store last ten requests\r\nconst requests = []\r\n\r\nconst saveRequest = (url, data) => {\r\n  requests.push([url, data])\r\n\r\n  if (requests.length === 10) {\r\n    requests.shift()\r\n  }\r\n}\r\n\r\nconst hasRequest = url => requests.find(item => item[0] === url)\r\n\r\nconst extractRealData = data => data['data']\r\n\r\nconst getErrorMessage = data => data['Error Message']\r\n\r\nconst toProperFormat = data => {\r\n  const days = Object.keys(data).sort(function (a, b) {\r\n    return Date.parse(a) - Date.parse(b)\r\n  })\r\n\r\n  return days.map(day => {\r\n    return {\r\n      Date: day,\r\n      Open: data[day]['1. open'],\r\n      High: data[day]['2. high'],\r\n      Low: data[day]['3. low'],\r\n      Close: data[day]['4. close'],\r\n      'Adj Close': data[day]['5. adjusted close']\r\n    }\r\n  })\r\n}\r\n\r\nexport const getStockData  = (symbol, interval, apiKey) => {\r\n  const url = getUrl(symbol, interval, apiKey)\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const hadSameUrlRequest = hasRequest(url)\r\n\r\n    // dont request if the request is already in memory\r\n    if (hadSameUrlRequest) {\r\n      resolve(hadSameUrlRequest[1])\r\n      return\r\n    }\r\n\r\n    axios.get(url).then(data => {\r\n      const pureData = extractRealData(data)\r\n      const error = getErrorMessage(pureData)\r\n\r\n      if (error) reject(error)\r\n      else {\r\n        const result = toProperFormat(pureData[getPriceLabel(interval)])\r\n        // save request for future use\r\n        saveRequest(url, result)\r\n        resolve(result)\r\n      }\r\n    }).catch(reject)\r\n  })\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport uuid from 'uuid/v4'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    createEvent,\r\n    updateEvent,\r\n    deleteEvent,\r\n    selectEvent,\r\n    deselectEvent,\r\n    createAnalysis,\r\n    updateAnalysis,\r\n    setActiveMainFrame,\r\n    deleteAnalysis\r\n} from '../../redux/actions'\r\n\r\nimport { EventItem } from './EventItem/EventItem'\r\nimport EventDialog from './EventDialog/EventDialog'\r\nimport { ConfirmModal } from '../../components/ConfirmDialog/ConfirmModal'\r\nimport { Unavailable } from '../../components/Unavailable/Unavailable'\r\nimport './EventList.scss'\r\nimport PerfectScrollbar from 'perfect-scrollbar'\r\n\r\nconst deleteConfirmModalQuestion = 'Are you sure that you want to delete this Event?'\r\nconst addEventDialogTitle = 'Add Event'\r\nconst editEventDialogTitle = 'Edit Event'\r\n\r\nlet eventDialogPhase = 'add' // add or edit\r\nlet eventToModify\r\n\r\nconst CREATE_EVENT = 'Create Event'\r\nconst CREATE_EVENT_DESCRIPTION = 'Click on the plus sign.'\r\n\r\nconst unavailableProps = {\r\n    title: CREATE_EVENT,\r\n    description: CREATE_EVENT_DESCRIPTION,\r\n    isActive: true\r\n}\r\n\r\nexport class EventList extends React.Component {\r\n    state = {\r\n        eventDialogTitle: '',\r\n        eventDialogEvent: {},\r\n        isEventDialogActive: false,\r\n        isConfirmDialogActive: false,\r\n        eventList: []\r\n    }\r\n\r\n    renderUnavailableComponent = () => {\r\n        if (!this.props.eventList || !this.props.eventList.length) return <Unavailable {...unavailableProps}/>\r\n        else return null\r\n    }\r\n\r\n    onDeleteClick = event => {\r\n        eventToModify = event\r\n        this.setState({\r\n            isConfirmDialogActive: true\r\n        })\r\n    }\r\n\r\n    onEditClick = event => {\r\n        eventDialogPhase = 'edit'\r\n        eventToModify = event\r\n        this.setState({\r\n            eventDialogTitle: editEventDialogTitle,\r\n            eventDialogEvent: event,\r\n            isEventDialogActive: true\r\n        })\r\n    }\r\n\r\n    onEventClick = event => {\r\n        if (this.props.activeEvents[event.key]) {\r\n            this.props.deselectEvent(event, this.props.stockKey)\r\n        } else {\r\n            this.props.selectEvent(event, this.props.stockKey)\r\n        }\r\n    }\r\n\r\n    renderEvents = () => {\r\n        if (!this.props.eventList) return null\r\n\r\n        return this.props.eventList.map(item => (\r\n          <EventItem onDeleteClick={() => this.onDeleteClick(item)}\r\n                     onEditClick={() => this.onEditClick(item)}\r\n                     onItemClick={() => this.onEventClick(item)}\r\n                     isActive={Boolean(this.props.activeEvents[item.key])}\r\n                     key={item.key}\r\n                     eventType={this.props.analysis[item.key].newsType}\r\n                     {...item}/>)\r\n        )\r\n    }\r\n\r\n    onPlusClick = () => {\r\n        eventDialogPhase = 'add'\r\n        this.setState({\r\n            isEventDialogActive: true,\r\n            eventDialogTitle: addEventDialogTitle,\r\n            eventDialogEvent: {}\r\n        })\r\n    }\r\n\r\n    onAnalysisClick = () => {\r\n        this.props.setActiveMainFrame('ANALYSIS')\r\n    }\r\n\r\n    onEventAddModalClose = () => {\r\n        this.setState({\r\n            isEventDialogActive: false\r\n        })\r\n    }\r\n\r\n    onConfirmModalClose = () => {\r\n        this.setState({\r\n            isConfirmDialogActive: false\r\n        })\r\n    }\r\n\r\n    onEventDialogAccept = ({ eventsData, statsResults }) => {\r\n        statsResults.forEach((statsResult, index) => {\r\n            const eventData = eventsData[index]\r\n\r\n            if (!eventData) return\r\n\r\n            if (eventDialogPhase === 'add') {\r\n                eventData.key = uuid()\r\n                this.props.createAnalysis(statsResult, this.props.stockKey, eventData.key)\r\n                this.props.createEvent(eventData, this.props.stockKey)\r\n            } else {\r\n                eventData.key = eventToModify.key\r\n                this.props.updateEvent(eventData, this.props.stockKey)\r\n                this.props.updateAnalysis(statsResult, this.props.stockKey, eventData.key)\r\n            }\r\n        })\r\n    }\r\n\r\n    onDeleteEventAccept = () => {\r\n        this.setState({\r\n            isConfirmDialogActive: false\r\n        })\r\n        this.props.deleteEvent(eventToModify.key, this.props.stockKey)\r\n    }\r\n    componentDidMount() {\r\n        new PerfectScrollbar(this.refs.scrollable)\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div className=\"bdrs-3 ov-h bgc-white h-100p bd\">\r\n                    <div className=\"bgc-deep-purple-500 ta-c p-30\">\r\n                        <h3 className=\"c-white\">Event List</h3>\r\n                    </div>\r\n                    <div className=\"pos-r event-items-wrap\">\r\n                        {\r\n                            this.renderUnavailableComponent()\r\n                        }\r\n                        <div className=\"d-ib pos-a r-10 t-25 zi-2 mT-nv-50\">\r\n                            <button type=\"button\"\r\n                                    onClick={this.onAnalysisClick}\r\n                                    className=\"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-list-analyse-btn d-n@md+\">\r\n                                <i className=\"ti-stats-up\"/>\r\n                            </button>\r\n\r\n                            <button type=\"button\"\r\n                                    onClick={this.onPlusClick}\r\n                                    className=\"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-dialog-btn ml-3\">\r\n                                <i className=\"ti-plus\"/>\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Event List */}\r\n                        <ul className=\"m-0 p-0 pos-r\" ref=\"scrollable\" id=\"event-items\">\r\n                            { this.renderEvents() }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Add and Edit Dialog */}\r\n                <EventDialog isActive={this.state.isEventDialogActive}\r\n                             dialogTitle={this.state.eventDialogTitle}\r\n                             onModalClose={this.onEventAddModalClose}\r\n                             onAccept={this.onEventDialogAccept}\r\n                             event={this.state.eventDialogEvent}/>\r\n\r\n\r\n                {/* Delete Confirm Dialog*/}\r\n                <ConfirmModal isActive={this.state.isConfirmDialogActive}\r\n                              onModalClose={this.onConfirmModalClose}\r\n                              onAccept={this.onDeleteEventAccept}\r\n                              question={deleteConfirmModalQuestion}/>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n// selectors\r\nconst defaultAnalysisList = []\r\n\r\nconst getStockKey = state => state.stocks.activeStock.key\r\nconst getEventList = state => state.events.events[state.stocks.activeStock.key]\r\nconst getActiveEvents = state => state.events.activeEvents[state.stocks.activeStock.key]\r\nconst getAnalysisList = state => state.analysis.analysis[state.stocks.activeStock.key] || defaultAnalysisList\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stockKey: getStockKey(state),\r\n        eventList: getEventList(state),\r\n        activeEvents: getActiveEvents(state),\r\n        analysis: getAnalysisList(state)\r\n    }\r\n}\r\n\r\nconst actionCreators = {\r\n    createEvent,\r\n    updateEvent,\r\n    deleteEvent,\r\n    selectEvent,\r\n    deselectEvent,\r\n    createAnalysis,\r\n    updateAnalysis,\r\n    setActiveMainFrame,\r\n    deleteAnalysis\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(EventList)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Chart from 'chart.js'\r\n\r\nlet chart\r\n\r\nexport class LineChart extends React.Component {\r\n    getChartData = () => {\r\n        const labels = this.props.labels\r\n        const dataSets = this.props.dataSets\r\n\r\n        return {\r\n            labels,\r\n            dataSets\r\n        }\r\n    }\r\n\r\n    initChart = () => {\r\n        const lineChartBox = this.refs.lineChart\r\n\r\n        const { labels, dataSets } = this.getChartData()\r\n\r\n        const lineCtx = lineChartBox.getContext('2d')\r\n        lineChartBox.height = 80\r\n\r\n        chart = new Chart(lineCtx, {\r\n            type: 'line',\r\n            data: {\r\n                labels,\r\n                datasets: dataSets\r\n            },\r\n            options: {\r\n                legend: {\r\n                    display: true\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateChart = () => {\r\n        const { labels, dataSets } = this.getChartData()\r\n\r\n        chart.data.labels = labels\r\n        chart.data.datasets = dataSets\r\n        chart.update()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initChart()\r\n    }\r\n\r\n    componentDidUpdate (prevProps) {\r\n        if (prevProps.labels !== this.props.labels || prevProps.dataSets !== this.props.dataSets) {\r\n            this.updateChart()\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (<canvas className=\"line-chart\" ref=\"lineChart\" height=\"220\"/>)\r\n    }\r\n}\r\n\r\nLineChart.propTypes = {\r\n    labels: PropTypes.array,\r\n    dataSets:PropTypes.array\r\n}\r\n\r\nLineChart.defaultProps = {\r\n    labels: [],\r\n    dataSets: []\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Component = props => {\r\n  return (\r\n    <div className='pos-a t-0 l-0 bgc-white w-100 h-100 d-f fxd-r fxw-w ai-c jc-c pos-r p-30' style={{zIndex: props.zIndex || 1}}>\r\n      <div className='d-f jc-c fxd-c'>\r\n        <h3 className='mB-10 fsz-lg c-grey-900 tt-c title'>{props.title}</h3>\r\n        <p className='mB-30 fsz-def c-grey-700 description'>{props.description}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport class Unavailable extends React.Component {\r\n\r\n  render () {\r\n    const { isActive } = this.props\r\n\r\n    return (\r\n      <Fragment>\r\n        { isActive ? <Component {...this.props}/> : null }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nUnavailable.propTypes = {\r\n  isActive: PropTypes.bool,\r\n  description: PropTypes.string,\r\n  zIndex: PropTypes.number\r\n}\r\n","const COLORS = {\r\n  'white'                 : '#ffffff',\r\n  'red-50'                : '#ffebee',\r\n  'red-100'               : '#ffcdd2',\r\n  'red-200'               : '#ef9a9a',\r\n  'red-300'               : '#e57373',\r\n  'red-400'               : '#ef5350',\r\n  'red-500'               : '#f44336',\r\n  'red-600'               : '#e53935',\r\n  'red-700'               : '#d32f2f',\r\n  'red-800'               : '#c62828',\r\n  'red-900'               : '#b71c1c',\r\n  'red-a100'              : '#ff8a80',\r\n  'red-a200'              : '#ff5252',\r\n  'red-a400'              : '#ff1744',\r\n  'red-a700'              : '#d50000',\r\n  'pink-50'               : '#fce4ec',\r\n  'pink-100'              : '#f8bbd0',\r\n  'pink-200'              : '#f48fb1',\r\n  'pink-300'              : '#f06292',\r\n  'pink-400'              : '#ec407a',\r\n  'pink-500'              : '#e91e63',\r\n  'pink-600'              : '#d81b60',\r\n  'pink-700'              : '#c2185b',\r\n  'pink-800'              : '#ad1457',\r\n  'pink-900'              : '#880e4f',\r\n  'pink-a100'             : '#ff80ab',\r\n  'pink-a200'             : '#ff4081',\r\n  'pink-a400'             : '#f50057',\r\n  'pink-a700'             : '#c51162',\r\n  'purple-50'             : '#f3e5f5',\r\n  'purple-100'            : '#e1bee7',\r\n  'purple-200'            : '#ce93d8',\r\n  'purple-300'            : '#ba68c8',\r\n  'purple-400'            : '#ab47bc',\r\n  'purple-500'            : '#9c27b0',\r\n  'purple-600'            : '#8e24aa',\r\n  'purple-700'            : '#7b1fa2',\r\n  'purple-800'            : '#6a1b9a',\r\n  'purple-900'            : '#4a148c',\r\n  'purple-a100'           : '#ea80fc',\r\n  'purple-a200'           : '#e040fb',\r\n  'purple-a400'           : '#d500f9',\r\n  'purple-a700'           : '#aa00ff',\r\n  'deep-purple-50'        : '#ede7f6',\r\n  'deep-purple-100'       : '#d1c4e9',\r\n  'deep-purple-200'       : '#b39ddb',\r\n  'deep-purple-300'       : '#9575cd',\r\n  'deep-purple-400'       : '#7e57c2',\r\n  'deep-purple-500'       : '#673ab7',\r\n  'deep-purple-600'       : '#5e35b1',\r\n  'deep-purple-700'       : '#512da8',\r\n  'deep-purple-800'       : '#4527a0',\r\n  'deep-purple-900'       : '#311b92',\r\n  'deep-purple-a100'      : '#b388ff',\r\n  'deep-purple-a200'      : '#7c4dff',\r\n  'deep-purple-a400'      : '#651fff',\r\n  'deep-purple-a700'      : '#6200ea',\r\n  'indigo-50'             : '#e8eaf6',\r\n  'indigo-100'            : '#c5cae9',\r\n  'indigo-200'            : '#9fa8da',\r\n  'indigo-300'            : '#7986cb',\r\n  'indigo-400'            : '#5c6bc0',\r\n  'indigo-500'            : '#3f51b5',\r\n  'indigo-600'            : '#3949ab',\r\n  'indigo-700'            : '#303f9f',\r\n  'indigo-800'            : '#283593',\r\n  'indigo-900'            : '#1a237e',\r\n  'indigo-a100'           : '#8c9eff',\r\n  'indigo-a200'           : '#536dfe',\r\n  'indigo-a400'           : '#3d5afe',\r\n  'indigo-a700'           : '#304ffe',\r\n  'blue-50'               : '#e3f2fd',\r\n  'blue-100'              : '#bbdefb',\r\n  'blue-200'              : '#90caf9',\r\n  'blue-300'              : '#64b5f6',\r\n  'blue-400'              : '#42a5f5',\r\n  'blue-500'              : '#2196f3',\r\n  'blue-600'              : '#1e88e5',\r\n  'blue-700'              : '#1976d2',\r\n  'blue-800'              : '#1565c0',\r\n  'blue-900'              : '#0d47a1',\r\n  'blue-a100'             : '#82b1ff',\r\n  'blue-a200'             : '#448aff',\r\n  'blue-a400'             : '#2979ff',\r\n  'blue-a700'             : '#2962ff',\r\n  'light-blue-50'         : '#e1f5fe',\r\n  'light-blue-100'        : '#b3e5fc',\r\n  'light-blue-200'        : '#81d4fa',\r\n  'light-blue-300'        : '#4fc3f7',\r\n  'light-blue-400'        : '#29b6f6',\r\n  'light-blue-500'        : '#03a9f4',\r\n  'light-blue-600'        : '#039be5',\r\n  'light-blue-700'        : '#0288d1',\r\n  'light-blue-800'        : '#0277bd',\r\n  'light-blue-900'        : '#01579b',\r\n  'light-blue-a100'       : '#80d8ff',\r\n  'light-blue-a200'       : '#40c4ff',\r\n  'light-blue-a400'       : '#00b0ff',\r\n  'light-blue-a700'       : '#0091ea',\r\n  'cyan-50'               : '#e0f7fa',\r\n  'cyan-100'              : '#b2ebf2',\r\n  'cyan-200'              : '#80deea',\r\n  'cyan-300'              : '#4dd0e1',\r\n  'cyan-400'              : '#26c6da',\r\n  'cyan-500'              : '#00bcd4',\r\n  'cyan-600'              : '#00acc1',\r\n  'cyan-700'              : '#0097a7',\r\n  'cyan-800'              : '#00838f',\r\n  'cyan-900'              : '#006064',\r\n  'cyan-a100'             : '#84ffff',\r\n  'cyan-a200'             : '#18ffff',\r\n  'cyan-a400'             : '#00e5ff',\r\n  'cyan-a700'             : '#00b8d4',\r\n  'teal-50'               : '#e0f2f1',\r\n  'teal-100'              : '#b2dfdb',\r\n  'teal-200'              : '#80cbc4',\r\n  'teal-300'              : '#4db6ac',\r\n  'teal-400'              : '#26a69a',\r\n  'teal-500'              : '#009688',\r\n  'teal-600'              : '#00897b',\r\n  'teal-700'              : '#00796b',\r\n  'teal-800'              : '#00695c',\r\n  'teal-900'              : '#004d40',\r\n  'teal-a100'             : '#a7ffeb',\r\n  'teal-a200'             : '#64ffda',\r\n  'teal-a400'             : '#1de9b6',\r\n  'teal-a700'             : '#00bfa5',\r\n  'green-50'              : '#e8f5e9',\r\n  'green-100'             : '#c8e6c9',\r\n  'green-200'             : '#a5d6a7',\r\n  'green-300'             : '#81c784',\r\n  'green-400'             : '#66bb6a',\r\n  'green-500'             : '#4caf50',\r\n  'green-600'             : '#43a047',\r\n  'green-700'             : '#388e3c',\r\n  'green-800'             : '#2e7d32',\r\n  'green-900'             : '#1b5e20',\r\n  'green-a100'            : '#b9f6ca',\r\n  'green-a200'            : '#69f0ae',\r\n  'green-a400'            : '#00e676',\r\n  'green-a700'            : '#00c853',\r\n  'light-green-50'        : '#f1f8e9',\r\n  'light-green-100'       : '#dcedc8',\r\n  'light-green-200'       : '#c5e1a5',\r\n  'light-green-300'       : '#aed581',\r\n  'light-green-400'       : '#9ccc65',\r\n  'light-green-500'       : '#8bc34a',\r\n  'light-green-600'       : '#7cb342',\r\n  'light-green-700'       : '#689f38',\r\n  'light-green-800'       : '#558b2f',\r\n  'light-green-900'       : '#33691e',\r\n  'light-green-a100'      : '#ccff90',\r\n  'light-green-a200'      : '#b2ff59',\r\n  'light-green-a400'      : '#76ff03',\r\n  'light-green-a700'      : '#64dd17',\r\n  'lime-50'               : '#f9fbe7',\r\n  'lime-100'              : '#f0f4c3',\r\n  'lime-200'              : '#e6ee9c',\r\n  'lime-300'              : '#dce775',\r\n  'lime-400'              : '#d4e157',\r\n  'lime-500'              : '#cddc39',\r\n  'lime-600'              : '#c0ca33',\r\n  'lime-700'              : '#afb42b',\r\n  'lime-800'              : '#9e9d24',\r\n  'lime-900'              : '#827717',\r\n  'lime-a100'             : '#f4ff81',\r\n  'lime-a200'             : '#eeff41',\r\n  'lime-a400'             : '#c6ff00',\r\n  'lime-a700'             : '#aeea00',\r\n  'yellow-50'             : '#fffde7',\r\n  'yellow-100'            : '#fff9c4',\r\n  'yellow-200'            : '#fff59d',\r\n  'yellow-300'            : '#fff176',\r\n  'yellow-400'            : '#ffee58',\r\n  'yellow-500'            : '#ffeb3b',\r\n  'yellow-600'            : '#fdd835',\r\n  'yellow-700'            : '#fbc02d',\r\n  'yellow-800'            : '#f9a825',\r\n  'yellow-900'            : '#f57f17',\r\n  'yellow-a100'           : '#ffff8d',\r\n  'yellow-a200'           : '#ffff00',\r\n  'yellow-a400'           : '#ffea00',\r\n  'yellow-a700'           : '#ffd600',\r\n  'amber-50'              : '#fff8e1',\r\n  'amber-100'             : '#ffecb3',\r\n  'amber-200'             : '#ffe082',\r\n  'amber-300'             : '#ffd54f',\r\n  'amber-400'             : '#ffca28',\r\n  'amber-500'             : '#ffc107',\r\n  'amber-600'             : '#ffb300',\r\n  'amber-700'             : '#ffa000',\r\n  'amber-800'             : '#ff8f00',\r\n  'amber-900'             : '#ff6f00',\r\n  'amber-a100'            : '#ffe57f',\r\n  'amber-a200'            : '#ffd740',\r\n  'amber-a400'            : '#ffc400',\r\n  'amber-a700'            : '#ffab00',\r\n  'orange-50'             : '#fff3e0',\r\n  'orange-100'            : '#ffe0b2',\r\n  'orange-200'            : '#ffcc80',\r\n  'orange-300'            : '#ffb74d',\r\n  'orange-400'            : '#ffa726',\r\n  'orange-500'            : '#ff9800',\r\n  'orange-600'            : '#fb8c00',\r\n  'orange-700'            : '#f57c00',\r\n  'orange-800'            : '#ef6c00',\r\n  'orange-900'            : '#e65100',\r\n  'orange-a100'           : '#ffd180',\r\n  'orange-a200'           : '#ffab40',\r\n  'orange-a400'           : '#ff9100',\r\n  'orange-a700'           : '#ff6d00',\r\n  'deep-orange-50'        : '#fbe9e7',\r\n  'deep-orange-100'       : '#ffccbc',\r\n  'deep-orange-200'       : '#ffab91',\r\n  'deep-orange-300'       : '#ff8a65',\r\n  'deep-orange-400'       : '#ff7043',\r\n  'deep-orange-500'       : '#ff5722',\r\n  'deep-orange-600'       : '#f4511e',\r\n  'deep-orange-700'       : '#e64a19',\r\n  'deep-orange-800'       : '#d84315',\r\n  'deep-orange-900'       : '#bf360c',\r\n  'deep-orange-a100'      : '#ff9e80',\r\n  'deep-orange-a200'      : '#ff6e40',\r\n  'deep-orange-a400'      : '#ff3d00',\r\n  'deep-orange-a700'      : '#dd2c00',\r\n  'brown-50'              : '#efebe9',\r\n  'brown-100'             : '#d7ccc8',\r\n  'brown-200'             : '#bcaaa4',\r\n  'brown-300'             : '#a1887f',\r\n  'brown-400'             : '#8d6e63',\r\n  'brown-500'             : '#795548',\r\n  'brown-600'             : '#6d4c41',\r\n  'brown-700'             : '#5d4037',\r\n  'brown-800'             : '#4e342e',\r\n  'brown-900'             : '#3e2723',\r\n  'grey-50'               : '#fafafa',\r\n  'grey-100'              : '#f5f5f5',\r\n  'grey-200'              : '#eeeeee',\r\n  'grey-300'              : '#e0e0e0',\r\n  'grey-400'              : '#bdbdbd',\r\n  'grey-500'              : '#9e9e9e',\r\n  'grey-600'              : '#757575',\r\n  'grey-700'              : '#616161',\r\n  'grey-800'              : '#424242',\r\n  'grey-900'              : '#212121',\r\n  'blue-grey-50'          : '#eceff1',\r\n  'blue-grey-100'         : '#cfd8dc',\r\n  'blue-grey-200'         : '#b0bec5',\r\n  'blue-grey-300'         : '#90a4ae',\r\n  'blue-grey-400'         : '#78909c',\r\n  'blue-grey-500'         : '#607d8b',\r\n  'blue-grey-600'         : '#546e7a',\r\n  'blue-grey-700'         : '#455a64',\r\n  'blue-grey-800'         : '#37474f',\r\n  'blue-grey-900'         : '#263238',\r\n};\r\n\r\nconst GREYS = {\r\n  'grey-100' : '#f9fafb',\r\n  'grey-200' : '#f2f3f5',\r\n  'grey-300' : '#e6eaf0',\r\n  'grey-400' : '#d3d9e3',\r\n  'grey-500' : '#b9c2d0',\r\n  'grey-600' : '#7c8695',\r\n  'grey-700' : '#72777a',\r\n  'grey-800' : '#565a5c',\r\n  'grey-900' : '#313435',\r\n};\r\n\r\nexport {\r\n  COLORS,\r\n  GREYS,\r\n};\r\n","import './Analysis.scss'\r\n\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { createSelector } from 'reselect'\r\nimport PerfectScrollbar from 'perfect-scrollbar'\r\nimport groupBy from 'ramda/src/groupBy'\r\nimport prop from 'ramda/src/prop'\r\nimport mapObjIndexed from 'ramda/src/mapObjIndexed'\r\nimport map from 'ramda/src/map'\r\n\r\nimport {\r\n  setActiveMainFrame\r\n} from '../../redux/actions'\r\n\r\nimport { Unavailable } from '../../components/Unavailable/Unavailable'\r\nimport { isObjectEmpty, sequence } from '../../lib/helper'\r\nimport { AAR, CAR } from 'event-study'\r\nimport { LineChart } from '../../components/LineChart/LineChart'\r\nimport {COLORS} from \"../../lib/colors\";\r\n\r\nconst UNAVAILABLE_TITLE = \"Analyse Events\"\r\nconst UNAVAILABLE_DESCRIPTION = \"You need to create and select at least One event in order to get analysis.\"\r\n\r\nconst UNAVAILABLE_ANALYSIS_TITLE = \"No Analysis Available\"\r\nconst UNAVAILABLE_ANALYSIS_DESCRIPTION = \"If you want your final analysis hit analyse button\"\r\n\r\nconst unavailableProps = {\r\n    title: UNAVAILABLE_TITLE,\r\n    description: UNAVAILABLE_DESCRIPTION,\r\n    isActive: true\r\n}\r\n\r\nconst unavailableAnalysisProps = {\r\n  title: UNAVAILABLE_ANALYSIS_TITLE,\r\n  description: UNAVAILABLE_ANALYSIS_DESCRIPTION,\r\n  isActive: true\r\n}\r\n\r\nconst getChartLabelBasedOnNewsType = type => {\r\n  type = type.toString()\r\n\r\n  if (type === '0') {\r\n    return 'Neutral'\r\n  } else if (type === '-1') {\r\n    return 'Bad News'\r\n  } else {\r\n    return 'Good News'\r\n  }\r\n}\r\n\r\nconst getChartStyleBasedOnNewsType = type => {\r\n  type = type.toString()\r\n\r\n  if (type === '0') {\r\n    return {\r\n      backgroundColor: 'rgba(237, 231, 246, 0.5)',\r\n      borderColor: COLORS['grey-500'],\r\n      pointBackgroundColor: COLORS['grey-700'],\r\n      borderWidth: 2,\r\n    }\r\n  } else if (type === '-1') {\r\n    return {\r\n      backgroundColor: 'rgba(237, 231, 246, 0.5)',\r\n      borderColor: COLORS['red-500'],\r\n      pointBackgroundColor: COLORS['red-700'],\r\n      borderWidth: 2,\r\n    }\r\n  } else {\r\n    return {\r\n      backgroundColor: 'rgba(237, 231, 246, 0.5)',\r\n      borderColor: COLORS['green-500'],\r\n      pointBackgroundColor: COLORS['green-700'],\r\n      borderWidth: 2,\r\n    }\r\n  }\r\n}\r\n\r\nexport const lineChartLineStyle = type => {\r\n  return {\r\n    ...getChartStyleBasedOnNewsType(type),\r\n    label: getChartLabelBasedOnNewsType(type)\r\n  }\r\n}\r\n\r\nexport const createLineChartDataSet = (data, type) => ({\r\n  data,\r\n  ...lineChartLineStyle(type)\r\n})\r\n\r\nexport class Analysis extends React.Component {\r\n    renderUnavailableComponent = () => {\r\n        const hasNoActiveEvents = isObjectEmpty(this.props.activeEvents)\r\n        const hasNoAnalysis = isObjectEmpty(this.props.analysis)\r\n\r\n        if (hasNoActiveEvents) return <Unavailable {...unavailableProps}/>\r\n        else if (!hasNoActiveEvents && hasNoAnalysis) return <Unavailable {...unavailableAnalysisProps}/>\r\n        else return null\r\n    }\r\n\r\n    getChartData = () => {\r\n        const result = {\r\n          labels: [],\r\n          dataSets: [],\r\n          chartLegend: ''\r\n        }\r\n\r\n        if (!this.props.activeEvents) return result\r\n\r\n        const events = this.props.activeEvents\r\n\r\n        if (events.length > 1) {\r\n            const analysis = events.map(event => this.props.analysis[event.key]).filter(item => item)\r\n\r\n            if (analysis.length <= 1) return result\r\n\r\n            const newsByType = groupBy(prop('newsType'), analysis)\r\n\r\n            const newsAbnormalReturns = mapObjIndexed(map(prop('abnormalReturn')), newsByType)\r\n\r\n            const averageAbnormalReturn = mapObjIndexed(AAR, newsAbnormalReturns)\r\n\r\n            const cumulativeAbnormalReturn = mapObjIndexed(CAR, averageAbnormalReturn)\r\n\r\n            const dataSets = mapObjIndexed((data, key) => {\r\n              return createLineChartDataSet(data, key)\r\n            }, cumulativeAbnormalReturn)\r\n\r\n            result.labels = sequence(events[0].ET2 + events[0].T1E - 1).map(item => item - (events[0].T1E - 1))\r\n\r\n            result.dataSets = Object.values(dataSets)\r\n\r\n            result.chartLegend = 'CAAR Stats (Cumulative Average Abnormal Return):'\r\n        } else if (events.length === 1) {\r\n            const event = events[0]\r\n            const analysis = this.props.analysis[event.key]\r\n\r\n            if (!analysis) return result\r\n\r\n            const labels = analysis.returnDates\r\n            const dataSets = [analysis.CARS].map(data => createLineChartDataSet(data, analysis.newsType))\r\n\r\n            result.labels = labels\r\n            result.dataSets = dataSets\r\n            result.chartLegend = 'CAR Stats for: ' + event.date\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    componentDidMount() {\r\n        new PerfectScrollbar(this.refs.scrollable)\r\n    }\r\n\r\n    onEventListClick = () => {\r\n      this.props.setActiveMainFrame('EVENT_LIST')\r\n    }\r\n\r\n    render () {\r\n        const chartsData = this.getChartData()\r\n\r\n        return (\r\n            <div className=\"bdrs-3 ov-h bgc-white h-100p bd\">\r\n                <div className=\"bgc-deep-purple-500 ta-c p-30\">\r\n                    <h3 className=\"c-white\">Analysis</h3>\r\n                </div>\r\n                <div className=\"m-0 p-0 pos-r analysis-scroll-container-wrap\">\r\n                    {\r\n                        this.renderUnavailableComponent()\r\n                    }\r\n                    <div className=\"d-ib pos-a r-10 t-25 zi-2 mT-nv-50\">\r\n                      <button type=\"button\"\r\n                              onClick={this.onEventListClick}\r\n                              className=\"btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning analysis-event-list-btn d-n@md+\">\r\n                        <i className=\"ti-agenda\"/>\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"pos-r\" ref=\"scrollable\" id=\"analysis-scroll-container\">\r\n                       <div className=\"bd bgc-white\">\r\n                          <div className=\"layers\">\r\n                            <div className=\"layer w-100 pX-20 pT-20\">\r\n                              <h6 className=\"lh-1\">{chartsData.chartLegend}</h6>\r\n                            </div>\r\n                            <div className=\"layer w-100 p-20\">\r\n                              <LineChart {...chartsData}/>\r\n                            </div>\r\n                         </div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// selectors\r\nconst defaultEventList = []\r\nconst defaultAnalysisList = []\r\nconst defaultActiveEventsKeys = {}\r\n\r\nconst getStockKey = state => state.stocks.activeStock.key\r\nconst getEventList = state => state.events.events[state.stocks.activeStock.key] || defaultEventList\r\nconst getAnalysisList = state => state.analysis.analysis[state.stocks.activeStock.key] || defaultAnalysisList\r\nconst getActiveEventsKeys = state => state.events.activeEvents[state.stocks.activeStock.key] || defaultActiveEventsKeys\r\n\r\nconst getActiveEvents = createSelector([getEventList, getActiveEventsKeys], (eventList, eventKeys) => {\r\n  return eventList.filter(e => eventKeys[e.key])\r\n})\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stockKey: getStockKey(state),\r\n        eventList: getEventList(state),\r\n        analysis: getAnalysisList(state),\r\n        activeEvents: getActiveEvents(state)\r\n    }\r\n}\r\n\r\nconst actionCreators = {\r\n  setActiveMainFrame\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(Analysis)\r\n","import React from 'react'\r\nimport $ from 'jquery'\r\nimport { Dialog } from '../../components/Dialog/Dialog'\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport class Help extends React.Component {\r\n  DialogHeader = () => {\r\n    return (\r\n      <h5 className=\"m-0 dialog-title\">How to use</h5>\r\n    )\r\n  }\r\n\r\n  DialogBody = () => {\r\n    return (\r\n      <div className=\"accordion\" id=\"accordionExample\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\" id=\"headingOne\">\r\n            <h2 className=\"mb-0\">\r\n              <button className=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\"\r\n                      aria-expanded=\"true\" aria-controls=\"collapseOne\">\r\n                Example with custom resources.\r\n              </button>\r\n            </h2>\r\n          </div>\r\n\r\n          <div id=\"collapseOne\" className=\"collapse show\" aria-labelledby=\"headingOne\"\r\n               data-parent=\"#accordionExample\">\r\n            <div className=\"card-body\">\r\n              <p>\r\n                1. Create A Category\r\n              </p>\r\n\r\n              <p>\r\n                2. Download\r\n                <a className=\"px-1\"\r\n                   href={process.env.PUBLIC_URL + \"/data/price data.zip\"}>\r\n                   Apple and S&P500 prices\r\n                </a>\r\n                and unzip it (these data comes from yahoo finance).\r\n              </p>\r\n\r\n              <p>\r\n                3. Create An Event: click on big plus icon, then\r\n                copy and paste 2019-01-30 into dates input like the following image:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/dates.png\"} alt=\"dates picture\"/>\r\n                <br/>\r\n                click on stock price input and load AAPL.csv from zip folder then load ^GSPC.csv in Market Price input like the the following image:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/price inputs.png\"} alt=\"inputs picture\"/>\r\n                <br/>\r\n                finally hit done button and see your analysis results in result section:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/analysis.png\"} alt=\"analysis picture\"/>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card\">\r\n          <div className=\"card-header\" id=\"headingTwo\">\r\n            <h2 className=\"mb-0\">\r\n              <button className=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\"\r\n                      data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\r\n                Example with online resources.\r\n              </button>\r\n            </h2>\r\n          </div>\r\n          <div id=\"collapseTwo\" className=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordionExample\">\r\n            <div className=\"card-body\">\r\n              <p>\r\n                1. Create A Category\r\n              </p>\r\n\r\n              <p>\r\n                2. Get an API key from\r\n                <a href=\"https://www.alphavantage.co/support/#api-key\"\r\n                   className=\"px-1\"\r\n                   target=\"_blank\">\r\n                  Alphavantage website\r\n                </a>\r\n              </p>\r\n\r\n              <p>\r\n                3. Create An Event: click on big plus icon, then\r\n                copy and paste 2019-01-30 into dates input like the following image:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/dates.png\"} alt=\"dates picture\"/>\r\n                <br/>\r\n                Check external resources checkbox then type AAPL (apple symbol) in stock symbol input then type .INX (S&P500 symbol) in Market symbol input like the the following image:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/external resource.png\"} alt=\"external resource picture\"/>\r\n                <br/>\r\n                Copy and paste your API key in Alphavantage Token input:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/alphavantage input.png\"} alt=\"alphavantage input picture\"/>\r\n                <br/>\r\n                finally hit done button and see your analysis results in result section:\r\n                <br/>\r\n                <img className=\"my-3\" width=\"100%\" src={process.env.PUBLIC_URL + \"/images/analysis.png\"} alt=\"analysis picture\"/>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    $('.collapse').collapse()\r\n  }\r\n\r\n  render () {\r\n    return (<Dialog header={<this.DialogHeader/>}\r\n                    body={<this.DialogBody/>}\r\n                    isActive={this.props.isActive}\r\n                    onModalClose={this.props.onModalClose}\r\n                    />)\r\n  }\r\n}\r\n\r\nHelp.propTypes = {\r\n  isActive: PropTypes.bool,\r\n  onModalClose: PropTypes.func\r\n}\r\n\r\nHelp.defaultProps = {\r\n  isActive: true,\r\n  onModalClose: () => {}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport $ from 'jquery'\r\nimport { connect } from 'react-redux'\r\nimport { Help } from '../Help/Help'\r\nimport { downloadJsonText } from '../../lib/helper'\r\nimport { readAsText } from '../../lib/csv'\r\nimport { showSetting, showStockList, hideStockList } from '../../redux/actions'\r\n\r\nconst EXPORT_FILE_NAME = 'Event study state'\r\n\r\nexport class Header extends React.Component {\r\n  state = {\r\n    isHelpActive: false\r\n  }\r\n\r\n  static onExportClick () {\r\n    const date = new Date()\r\n    const currentYear = date.getFullYear()\r\n    const currentMonth = date.getMonth()\r\n    const currentDate = date.getDate()\r\n\r\n    const fileName = `${EXPORT_FILE_NAME}-${currentYear}-${currentMonth}-${currentDate}`\r\n\r\n    downloadJsonText(fileName, localStorage.getItem('persist:root'))\r\n  }\r\n\r\n  static onImportClick () {\r\n    const importStateInput = document.getElementById('importStateInput')\r\n\r\n    if (!importStateInput) return\r\n\r\n    importStateInput.click()\r\n  }\r\n\r\n  onImportStateInputChange = e => {\r\n    const file = e.target.files[0]\r\n\r\n    if (!file) return\r\n\r\n    readAsText(file).then(data => {\r\n      localStorage.setItem('persist:root', data.target.result)\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n  onStockListToggleClick = () => {\r\n    if (this.props.stockListStatus) this.props.hideStockList()\r\n    else this.props.showStockList()\r\n  }\r\n\r\n  onHelpClick = () => {\r\n    this.setState({\r\n      isHelpActive: true\r\n    })\r\n  }\r\n  onHelpDialogClose = () => {\r\n    this.setState({\r\n      isHelpActive: false\r\n    })\r\n  }\r\n  componentDidMount () {\r\n    $('.navbar [data-toggle=\"tooltip\"]').tooltip()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <Help isActive={this.state.isHelpActive} onModalClose={this.onHelpDialogClose}/>\r\n\r\n        <div className=\"header navbar\">\r\n          <div className=\"header-container\">\r\n            <ul className=\"nav-left\">\r\n              <li className=\"stock-list-toggle d-lg-none\"\r\n                  onClick={this.onStockListToggleClick}>\r\n                <a href=\"#\">\r\n                  <i className=\"ti-menu-alt\"/>\r\n                </a>\r\n              </li>\r\n\r\n              <li onClick={this.onHelpClick} className=\"header-help-btn\">\r\n                <a href=\"#\"\r\n                   data-toggle=\"tooltip\"\r\n                   data-placement=\"bottom\"\r\n                   data-original-title=\"Help\">\r\n                  <i className=\"ti-help-alt\"/>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <ul className=\"nav-right\">\r\n              <li className=\"header-import-btn\">\r\n                <a href=\"#\"\r\n                   onClick={Header.onImportClick}\r\n                   data-toggle=\"tooltip\"\r\n                   data-placement=\"bottom\"\r\n                   data-original-title=\"Load data\">\r\n                  <i className=\"ti-folder\"/>\r\n                </a>\r\n\r\n                <input type=\"file\"\r\n                       accept=\".json\"\r\n                       onChange={this.onImportStateInputChange}\r\n                       className=\"d-none\"\r\n                       id=\"importStateInput\"/>\r\n              </li>\r\n\r\n              <li className=\"header-export-btn\">\r\n                <a href=\"#\"\r\n                   data-toggle=\"tooltip\"\r\n                   data-placement=\"bottom\"\r\n                   data-original-title=\"Save data\"\r\n                   onClick={Header.onExportClick}>\r\n                  <i className=\"ti-export\"/>\r\n                </a>\r\n              </li>\r\n\r\n              <li className=\"open-setting-btn\"\r\n                  data-toggle=\"tooltip\"\r\n                  data-placement=\"bottom\"\r\n                  data-original-title=\"Setting\"\r\n                  onClick={this.props.showSetting}>\r\n                <a href=\"#\">\r\n                  <i className=\"ti-settings\"/>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    stockListStatus: state.application.stockListStatus\r\n  }\r\n}\r\n\r\nconst actionCreators = {\r\n  showSetting,\r\n  showStockList,\r\n  hideStockList\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreators)(Header)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Tour from 'reactour'\r\nimport { setIsFirstTimeVisit } from '../../redux/actions'\r\n\r\nconst steps = [\r\n  {\r\n    selector: '.header-help-btn',\r\n    content: 'Please hit this button to see how to use this application.'\r\n  },\r\n  {\r\n    selector: '.category-name-input',\r\n    content: 'Specify name of your category first, for example, \"Apple Net Incomes\" it\\'s just for organizing events better.'\r\n  },\r\n  {\r\n    selector: '.category-add-btn',\r\n    content: 'Add that Category'\r\n  },\r\n  {\r\n    selector: '.open-setting-btn',\r\n    content: 'Set your defaults...'\r\n  },\r\n  {\r\n    selector: '.header-export-btn',\r\n    content: 'Save and download your information.'\r\n  },\r\n  {\r\n    selector: '.header-import-btn',\r\n    content: 'Load your saved information.'\r\n  }\r\n]\r\n\r\nexport class AppTour extends React.Component {\r\n  closeTour = () => {\r\n    this.props.setIsFirstTimeVisit(false)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Tour isOpen={this.props.isFirstTimeVisit}\r\n            steps={steps}\r\n            rounded={4}\r\n            onRequestClose={this.closeTour}/>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isFirstTimeVisit: state.application.isFirstTimeVisit\r\n  }\r\n}\r\n\r\nconst actionCreator = {\r\n  setIsFirstTimeVisit\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreator)(AppTour)\r\n","import React, {Fragment} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Dialog } from '../../components/Dialog/Dialog'\r\nimport FormSelect from '../../components/FormSelect/FormSelect'\r\nimport { ConfirmModal } from '../../components/ConfirmDialog/ConfirmModal'\r\n\r\nimport {\r\n  setDateColumn,\r\n  setOperationColumn,\r\n  setAlphavantageToken,\r\n  setAdjustmentRule,\r\n  setT0T1,\r\n  setT1E,\r\n  setET2,\r\n  setT2T3,\r\n  setDefaultEventDateFormat,\r\n  resetSettingDefaults,\r\n  showSetting,\r\n  hideSetting\r\n} from '../../redux/actions'\r\nimport FormInput from '../../components/FormInput/FormInput'\r\nimport {\r\n  validateTimelineKey,\r\n  validateColumnName\r\n} from 'event-study'\r\n\r\nimport { adjustmentRules, resetSettingQuestion } from '../../configs/constants'\r\n\r\nconst genState = props => {\r\n  const {\r\n    dateColumn = '',\r\n    operationColumn = '',\r\n    alphavantageToken = '',\r\n    adjustmentRule = '',\r\n    T0T1 = '',\r\n    T1E = '',\r\n    ET2 = '',\r\n    T2T3 = '',\r\n    defaultEventDateFormat = '',\r\n    showResetConfirmDialog = false,\r\n    invalidFeedBacks = {\r\n      dateColumn: '',\r\n      operationColumn: '',\r\n      adjustmentRule: '',\r\n      T0T1: '',\r\n      T1E: '',\r\n      ET2: '',\r\n      T2T3: '',\r\n      defaultEventDateFormat: ''\r\n    }\r\n  } = props\r\n\r\n  return {\r\n    dateColumn,\r\n    operationColumn,\r\n    alphavantageToken,\r\n    adjustmentRule,\r\n    T0T1,\r\n    T1E,\r\n    ET2,\r\n    T2T3,\r\n    defaultEventDateFormat,\r\n    showResetConfirmDialog,\r\n    invalidFeedBacks\r\n  }\r\n}\r\n\r\nexport class Setting extends React.Component {\r\n  state = genState(this.props)\r\n\r\n  DialogHeader = () => {\r\n    return (\r\n      <h5 className=\"m-0 dialog-title\">Setting</h5>\r\n    )\r\n  }\r\n\r\n  DialogBody = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n              inputLabel={ 'Date Column' }\r\n              inputValue={ this.state.dateColumn }\r\n              invalidFeedback={ this.state.invalidFeedBacks.dateColumn }\r\n              onChange={ event => this.handleChange('dateColumn', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Operation Column' }\r\n            inputValue={ this.state.operationColumn }\r\n            invalidFeedback={ this.state.invalidFeedBacks.operationColumn }\r\n            onChange={ event => this.handleChange('operationColumn', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Alphavantage Token' }\r\n            inputValue={ this.state.alphavantageToken }\r\n            invalidFeedback={ this.state.invalidFeedBacks.alphavantageToken }\r\n            onChange={ event => this.handleChange('alphavantageToken', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Default Event Date Format (In create event dialog)' }\r\n            inputValue={ this.state.defaultEventDateFormat }\r\n            invalidFeedback={ this.state.invalidFeedBacks.defaultEventDateFormat }\r\n            onChange={ event => this.handleChange('defaultEventDateFormat', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormSelect\r\n            selectLabel={ 'Adjustment Rule for Non-Trading Days' }\r\n            selectValue={ this.state.adjustmentRule }\r\n            invalidFeedback={ this.state.invalidFeedBacks.adjustmentRule }\r\n            selectOptions={ adjustmentRules }\r\n            onChange={ event => this.handleChange('adjustmentRule', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Estimation period (T0T1)' }\r\n            inputValue={ this.state.T0T1 }\r\n            invalidFeedback={ this.state.invalidFeedBacks.T0T1 }\r\n            onChange={ event => this.handleChange('T0T1', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Pre-announcement window  (T1E)' }\r\n            inputValue={ this.state.T1E }\r\n            invalidFeedback={ this.state.invalidFeedBacks.T1E }\r\n            onChange={ event => this.handleChange('T1E', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Post-announcement window (ET2)' }\r\n            inputValue={ this.state.ET2 }\r\n            invalidFeedback={ this.state.invalidFeedBacks.ET2 }\r\n            onChange={ event => this.handleChange('ET2', event) }/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <FormInput\r\n            inputLabel={ 'Post event period (T2T3)' }\r\n            inputValue={ this.state.T2T3 }\r\n            invalidFeedback={ this.state.invalidFeedBacks.T2T3 }\r\n            onChange={ event => this.handleChange('T2T3', event) }/>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  DialogFooter = () => {\r\n    return (\r\n      <div className=\"w-100\">\r\n        <button className=\"btn btn-outline-danger cur-p float-left\"\r\n                data-dismiss=\"modal\"\r\n                onClick={this.onReset}>Reset Settings</button>\r\n\r\n        <button type=\"button\" className=\"btn mr-1\" data-dismiss=\"modal\">Close</button>\r\n        <button className=\"btn btn-primary cur-p ml-1\" onClick={this.onAccept}>Done</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleChange = (type, event) => {\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n  }\r\n\r\n  onAccept = () => {\r\n    // validate\r\n    const isDateColumnInvalid = validateColumnName(this.state.dateColumn) || ''\r\n    const isOperationColumnInvalid = validateColumnName(this.state.operationColumn) || ''\r\n    const isAdjustmentRuleValid = validateColumnName(this.state.adjustmentRule) || ''\r\n    const isT0T1Invalid = validateTimelineKey(this.state.T0T1) || ''\r\n    const isT1EInvalid = validateTimelineKey(this.state.T1E) || ''\r\n    const isET2Invalid = validateTimelineKey(this.state.ET2) || ''\r\n    const isT2T3Invalid = validateTimelineKey(this.state.T2T3) || ''\r\n    const isDefaultEventDateFormatInvalid = validateColumnName(this.state.defaultEventDateFormat) || ''\r\n\r\n    // if has error\r\n    if (isDateColumnInvalid ||\r\n        isOperationColumnInvalid ||\r\n        isAdjustmentRuleValid ||\r\n        isT0T1Invalid ||\r\n        isT1EInvalid ||\r\n        isET2Invalid ||\r\n        isT2T3Invalid ||\r\n        isDefaultEventDateFormatInvalid) {\r\n      // set error\r\n      this.setState({\r\n        invalidFeedBacks: {\r\n          dateColumn: isDateColumnInvalid.toString(),\r\n          operationColumn: isOperationColumnInvalid.toString(),\r\n          adjustmentRule: isAdjustmentRuleValid.toString(),\r\n          T0T1: isT0T1Invalid.toString(),\r\n          T1E: isT1EInvalid.toString(),\r\n          ET2: isET2Invalid.toString(),\r\n          T2T3: isT2T3Invalid.toString(),\r\n          defaultEventDateFormat: isDefaultEventDateFormatInvalid.toString()\r\n        }\r\n      })\r\n      return\r\n    }\r\n\r\n    this.props.setDateColumn(this.state.dateColumn)\r\n    this.props.setOperationColumn(this.state.operationColumn)\r\n    this.props.setAlphavantageToken(this.state.alphavantageToken)\r\n    this.props.setAdjustmentRule(this.state.adjustmentRule)\r\n    this.props.setT0T1(+this.state.T0T1)\r\n    this.props.setT1E(+this.state.T1E)\r\n    this.props.setET2(+this.state.ET2)\r\n    this.props.setT2T3(+this.state.T2T3)\r\n    this.props.setDefaultEventDateFormat(this.state.defaultEventDateFormat)\r\n\r\n    this.props.hideSetting()\r\n  }\r\n\r\n  onReset = () => {\r\n    this.setState({\r\n      showResetConfirmDialog: true\r\n    })\r\n  }\r\n\r\n  onResetConfirmClose = () => {\r\n    this.setState({\r\n      showResetConfirmDialog: false\r\n    })\r\n\r\n    this.props.showSettingMethod()\r\n  }\r\n\r\n  onResetConfirmAccept = () => {\r\n    this.setState({\r\n      showResetConfirmDialog: false\r\n    })\r\n\r\n    this.props.resetSettingDefaults()\r\n\r\n    this.props.showSettingMethod()\r\n  }\r\n\r\n  onModalClose = () => {\r\n    this.props.hideSetting()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Fragment>\r\n        <Dialog\r\n          onModalClose={this.onModalClose}\r\n          isActive={this.props.showSetting}\r\n          header={<this.DialogHeader/>}\r\n          body={<this.DialogBody/>}\r\n          footer={<this.DialogFooter/>}/>\r\n\r\n        <ConfirmModal isActive={this.state.showResetConfirmDialog}\r\n                      question={resetSettingQuestion}\r\n                      onModalClose={this.onResetConfirmClose}\r\n                      onAccept={this.onResetConfirmAccept}/>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    showSetting: state.application.showSetting,\r\n    dateColumn: state.setting.dateColumn,\r\n    alphavantageToken: state.setting.alphavantageToken,\r\n    operationColumn: state.setting.operationColumn,\r\n    defaultEventDateFormat: state.setting.defaultEventDateFormat,\r\n    adjustmentRule: state.setting.adjustmentRule,\r\n    T0T1: state.setting.T0T1,\r\n    T1E: state.setting.T1E,\r\n    ET2: state.setting.ET2,\r\n    T2T3: state.setting.T2T3\r\n  }\r\n}\r\n\r\nconst actionCreator = {\r\n  hideSetting,\r\n  setDateColumn,\r\n  setOperationColumn,\r\n  setAlphavantageToken,\r\n  setDefaultEventDateFormat,\r\n  setAdjustmentRule,\r\n  setT0T1,\r\n  setT1E,\r\n  setET2,\r\n  setT2T3,\r\n  resetSettingDefaults,\r\n  showSettingMethod: showSetting\r\n}\r\n\r\nexport default connect(mapStateToProps, actionCreator)(Setting)\r\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport PerfectScrollbar from 'perfect-scrollbar'\nimport { isObjectEmpty } from './lib/helper'\nimport StocksList from './views/StocksList/StocksList'\nimport EventList from './views/EventList/EventList'\nimport Analysis from './views/Analysis/Analysis'\nimport Header from './views/Header/Header'\nimport AppTour from './views/AppTour/AppTour'\nimport { Unavailable } from './components/Unavailable/Unavailable'\nimport Setting from './views/Setting/Setting'\nimport './App.scss'\n\nconst CREATE_CATEGORY = \"Create a Category\"\nconst CREATE_CATEGORY_DESCRIPTION = \"First of all you need to create a category.\"\n\nconst unavailableProps = {\n  title: CREATE_CATEGORY,\n  description: CREATE_CATEGORY_DESCRIPTION,\n  isActive: true,\n  zIndex: 9\n}\n\nexport class App extends React.Component {\n  renderUnavailableComponent = () => {\n    if (isObjectEmpty(this.props.activeStock)) return <Unavailable {...unavailableProps}/>\n    else return null\n  }\n\n  componentDidMount() {\n    new PerfectScrollbar(this.refs.scrollable)\n  }\n\n  hideNoneActiveFrame = frame => this.props.activeMainFrame === frame ? '' : 'd-n@md-'\n\n  showStockList = () => this.props.stockListStatus ? '' : 'close-stocks'\n\n  render () {\n    return (\n      <div className={\"h-100p \" + (this.showStockList())}>\n        <div className=\"page-container h-100p\">\n          <AppTour/>\n          <Setting/>\n          <Header/>\n          <main className='main-content bgc-grey-200'>\n            <div id='mainContent' className=\"h-100p\">\n              <div className=\"container-fluid h-100p pos-r\" ref=\"scrollable\">\n                <StocksList/>\n\n                <div className=\"main-wrapper pos-r h-100p\">\n                  {\n                    this.renderUnavailableComponent()\n                  }\n                  <div className=\"row h-100p\">\n                    <div className={\"col-lg-4 col-md-12 h-100p \" + this.hideNoneActiveFrame('EVENT_LIST')} >\n                      <EventList/>\n                    </div>\n                    <div className={\"col-lg-8 col-md-12 h-100p \" + this.hideNoneActiveFrame('ANALYSIS')} >\n                      <Analysis/>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </main>\n\n          <footer className=\"bdT ta-c p-30 lh-0 fsz-sm c-grey-600\">\n            <span>Report any issue to: <a href=\"mailto:m_javidi@outlook.com\">m_javidi@outlook.com</a>.</span>\n          </footer>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    stocks: state.stocks.stockList,\n    activeStock: state.stocks.activeStock,\n    stockListStatus: state.application.stockListStatus,\n    activeMainFrame: state.application.activeMainFrame\n  }\n}\n\nexport default connect(mapStateToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'popper.js'\nimport 'bootstrap'\nimport 'bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js'\nimport 'bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { Provider } from 'react-redux'\nimport { store, persistor } from './redux/store'\nimport { Loader } from './components/Loader/Loader'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './styles/index.scss'\n\nconst ActiveLoader = () => <Loader active={true}/>\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={<ActiveLoader/>} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>\n  , document.getElementById('root'))\n\nserviceWorker.register()\n"],"sourceRoot":""}