(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){},163:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);a(75),a(77),a(78);var n=a(0),o=a.n(n),c=a(30),r=a.n(c),l=a(8),s=a(18),i=a(7),u=a(1),d=a(15),m=a.n(d),p="SET_T0T1",v="SET_T1E",f="SET_ET2",E="SET_T2T3",h="SET_DATE_COLUMN",b="SET_OPERATION_COLUMN",g="CREATE_EVENT",y="UPDATE_EVENT",k="DELETE_EVENT",C="SELECT_EVENT",T="DESELECT_EVENT",N="CREATE_STOCK",O="UPDATE_STOCK",w="DELETE_STOCK",D="SELECT_STOCK",j="SET_STATS",A="SHOW_SETTING",S="HIDE_SETTING",M="SET_DEFAULT_EVENT_DATE_FORMAT",I={events:{},activeEvents:{}};var P={dateColumn:"Date",operationColumn:"Close",T0T1:40,T1E:7,ET2:7,T2T3:5,defaultEventDateFormat:"yyyy-mm-dd"};var F=a(73),K=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},L=function(e){var t=[];if("number"!==typeof e)return t;if(e<=0)return t;for(var a=0;a<=e;a++)t.push(a);return t},_={stockList:[],activeStock:{}};var x={showSetting:!1};var B=Object(s.b)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return e.events[t.payload.stockKey]||(e.events[t.payload.stockKey]=[]),e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={}),Object(u.a)({},e,{events:m()(e.events,Object(i.a)({},t.payload.stockKey,{$push:[t.payload.event]})),activeEvents:m()(e.activeEvents,Object(i.a)({},t.payload.stockKey,Object(i.a)({},t.payload.event.key,{$set:t.payload.event.key})))});case y:return Object(u.a)({},e,{events:Object(u.a)({},e.events,Object(i.a)({},t.payload.stockKey,e.events[t.payload.stockKey].map(function(e){return e.key!==t.payload.event.key?e:Object(u.a)({},e,t.payload.event)})))});case k:var a=e.events[t.payload.stockKey].findIndex(function(e){return e.key===t.payload.key}),n=m()(e.events,Object(i.a)({},t.payload.stockKey,{$splice:[[a,1]]})),o=m()(e.activeEvents,Object(i.a)({},t.payload.stockKey,{$unset:[t.payload.key]}));return Object(u.a)({},e,{events:n,activeEvents:o});case C:e.activeEvents[t.payload.stockKey]||(e.activeEvents[t.payload.stockKey]={});var c=m()(e.activeEvents,Object(i.a)({},t.payload.stockKey,Object(i.a)({},t.payload.event.key,{$set:t.payload.event.key})));return Object(u.a)({},e,{activeEvents:c});case T:var r=m()(e.activeEvents,Object(i.a)({},t.payload.stockKey,{$unset:[t.payload.event.key]}));return Object(u.a)({},e,{activeEvents:r});default:return e}},setting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)({},e,{dateColumn:t.dateColumn});case b:return Object(u.a)({},e,{operationColumn:t.operationColumn});case p:return Object(u.a)({},e,{T0T1:t.value});case v:return Object(u.a)({},e,{T1E:t.value});case f:return Object(u.a)({},e,{ET2:t.value});case E:return Object(u.a)({},e,{T2T3:t.value});case M:return Object(u.a)({},e,{defaultEventDateFormat:t.value});default:return e}},stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===j?Object(u.a)({},e,Object(i.a)({},t.payload.stockKey,t.payload.stats)):e},stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(u.a)({},e,{stockList:[t.stock].concat(Object(F.a)(e.stockList)),activeStock:K(e.activeStock)?t.stock:e.activeStock});case O:return Object(u.a)({},e,{stockList:e.stockList.map(function(e){return e.key===t.stock.key?Object(u.a)({},e,t.stock):e})});case w:return Object(u.a)({},e,{stockList:e.stockList.filter(function(e){return e.key!==t.key}),activeStock:e.activeStock.key===t.key?{}:e.activeStock});case D:return Object(u.a)({},e,{activeStock:t.stock});default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;switch((arguments.length>1?arguments[1]:void 0).type){case A:return Object(u.a)({},e,{showSetting:!0});case S:return Object(u.a)({},e,{showSetting:!1});default:return e}}}),R=Object(s.c)(B),U=a(2),z=a(3),V=a(5),H=a(4),q=a(6),$=a(19),W=a(31),G=a.n(W),J=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick()},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n="success"===e.descriptionColor?"c-green-500":"c-red-500",c=this.props.isActive?"bgc-grey-50":"";return o.a.createElement("div",{className:"peers fxw-nw ai-c p-20 bdB bgc-white bgcH-grey-50 cur-p item ".concat(c),onClick:this.props.onItemClick},o.a.createElement("div",{className:"peer peer-greed"},o.a.createElement("h6",{className:"mB-0 lh-1 fw-400 item-title"},t),o.a.createElement("small",{className:"lh-1 c-green-500 item-description ".concat(n)},a)),o.a.createElement("div",{className:"peers"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 item-delete-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component);J.defaultProps={onDeleteClick:function(){},onItemClick:function(){},title:"",description:"",descriptionColor:"",isActive:!1};var Y=a(13),X=a.n(Y),Q=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(o)))).showModal=function(){a.refs.modal.modal("show")},a.hideModal=function(){a.refs.modal.modal("hide")},a.onAccept=function(){a.hideModal(),a.props.onAccept()},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.refs.modal=X()(this.refs.modal),this.refs.modal.on("hidden.bs.modal",function(t){e.props.onModalClose(t)}),this.refs.modal.on("shown.bs.modal",function(t){e.props.onModalOpen(t)}),this.props.isActive&&this.showModal()}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?this.showModal():this.hideModal())}},{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog confirm-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},this.props.header?o.a.createElement("div",{className:"bd p-15"},this.props.header):null,this.props.body?o.a.createElement("div",{className:"modal-body"},this.props.body):null,this.props.footer?o.a.createElement("div",{className:"text-right modal-footer"},this.props.footer):null)))}}]),t}(o.a.Component);function Z(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"fw-600 question p-15"},e.question),o.a.createElement("div",{className:"text-right"},o.a.createElement("button",{className:"btn cur-p m-5","data-dismiss":"modal"},"No"),o.a.createElement("button",{className:"btn btn-primary cur-p m-5",onClick:e.onAccept},"Yes")))}Q.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};var ee=function(e){function t(){return Object(U.a)(this,t),Object(V.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.onAccept;return o.a.createElement(Q,Object.assign({},this.props,{body:o.a.createElement(Z,{question:t,onAccept:a})}))}}]),t}(o.a.Component);ee.defaultProps={isActive:!1,question:"",onModalClose:function(){},onModalOpen:function(){},onAccept:function(){}};a(89);var te,ae=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).state={stockNameInputValue:"",showDeleteConfirmDialog:!1},a.onInputChange=function(e,t){a.setState(Object(i.a)({},t,e))},a.onAddClick=function(){var e=G()(),t=a.state.stockNameInputValue;a.props.createStock({key:e,title:t}),a.setState({stockNameInputValue:""})},a.onDeleteClick=function(e){te=e,a.setState({showDeleteConfirmDialog:!0})},a.onDeleteConfirmClose=function(){a.setState({showDeleteConfirmDialog:!1})},a.onDeleteConfirmAccept=function(){a.setState({showDeleteConfirmDialog:!1}),a.props.deleteStock(te)},a.onKeyDown=function(e){"Enter"===e.key&&a.onAddClick()},a.renderStocksList=function(){return a.props.stocks.map(function(e){return o.a.createElement(J,Object.assign({},e,{onDeleteClick:function(){return a.onDeleteClick(e.key)},onItemClick:function(){return a.props.selectStock(e)},isActive:e.key===a.props.activeStock.key,key:e.key}))})},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){new $.a(this.refs.scrollable),this.refs.stockInput.focus()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"peer stocks-list h-100p"},o.a.createElement("div",{className:"layers h-100"},o.a.createElement("div",{className:"bdB layer w-100 pos-r"},o.a.createElement("input",{type:"text",placeholder:"Stock Name",name:"Name",ref:"stockInput",value:this.state.stockNameInputValue,onKeyDown:this.onKeyDown,onChange:function(t){return e.onInputChange(t.target.value,"stockNameInputValue")},className:"form-constrol p-15 bdrs-0 w-100 bdw-0"}),o.a.createElement("button",{type:"button",className:"btn add btn-warning bdrs-50p w-2r p-0 h-2r pos-a r-10 t-10",onClick:this.onAddClick},o.a.createElement("i",{className:"ti-plus"}))),o.a.createElement("div",{className:"layer w-100 fxg-1 scrollable pos-r",ref:"scrollable"},this.renderStocksList()),o.a.createElement("div",null,o.a.createElement(ee,{isActive:this.state.showDeleteConfirmDialog,question:"Do you want to delete that StocksItem?",onModalClose:this.onDeleteConfirmClose,onAccept:this.onDeleteConfirmAccept}))))}}]),t}(o.a.Component),ne={createStock:function(e){return{type:N,stock:e}},deleteStock:function(e){return{type:w,key:e}},selectStock:function(e){return{type:D,stock:e}}},oe=Object(l.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock}},ne)(ae),ce=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(o)))).onDeleteClick=function(e){e.stopPropagation(),a.props.onDeleteClick(e)},a.onEditClick=function(e){e.stopPropagation(),a.props.onEditClick(e)},a.onItemClick=function(e){a.props.onItemClick(e)},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.date,n=this.props.isActive?"bgc-grey-50":"";return o.a.createElement("li",{onClick:this.onItemClick,className:"bdB peers ai-c bgcH-grey-50 jc-sb fxw-nw cur-p item ".concat(n)},o.a.createElement("a",{className:"td-n p-20 peers fxw-nw mR-20 peer-greed c-grey-900"},o.a.createElement("div",{className:"peer"},o.a.createElement("span",{className:"fw-600 eventItemTitle"},t),o.a.createElement("div",{className:"c-grey-600"},o.a.createElement("span",{className:"c-grey-700 eventItemDate"},a)))),o.a.createElement("div",{className:"peers mR-15"},o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-deep-purple-500 cH-blue-500 fsz-md p-5 edit-icon-btn",onClick:this.onEditClick},o.a.createElement("i",{className:"ti-pencil"}))),o.a.createElement("div",{className:"peer"},o.a.createElement("a",{href:"#",className:"td-n c-red-500 cH-blue-500 fsz-md p-5 delete-icon-btn",onClick:this.onDeleteClick},o.a.createElement("i",{className:"ti-trash"})))))}}]),t}(o.a.Component);ce.defaultProps={title:"",date:"",description:"...",onDeleteClick:function(){},onEditClick:function(){},onItemClick:function(){},isActive:!1};var re,le,se,ie,ue=a(90),de=function(e){return new Promise(function(t,a){(function(e){return new Promise(function(t,a){var n=new FileReader;n.onload=t,n.onerror=a,n.readAsText(e)})})(e).then(function(e){ue().fromString(e.target.result).then(t).catch(a)}).catch(a)})},me=function(e){var t=e.title,a=void 0===t?"":t,n=e.defaultEventDateFormat,o=void 0===n?"":n,c=e.date,r=void 0===c?"":c,l=e.stock,s=void 0===l?{}:l,i=e.market,u=void 0===i?{}:i,d=e.dateColumn,m=void 0===d?"":d,p=e.operationColumn,v=void 0===p?"":p,f=e.T0T1,E=void 0===f?"":f,h=e.T1E,b=void 0===h?"":h,g=e.ET2,y=void 0===g?"":g,k=e.T2T3;return{title:a,date:r,defaultEventDateFormat:o,stock:s,market:u,dateColumn:m,operationColumn:v,T0T1:E,T1E:b,ET2:y,T2T3:void 0===k?"":k}},pe=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(V.a)(this,Object(H.a)(t).call(this,e))).onFileChange=function(e,t){var n=t.target.files[0];n&&de(n).then(function(t){a.setState(Object(i.a)({},e,t))})},a.onAccept=function(){t.hideModal(),a.props.onAccept(Object.assign({},a.state))},a.onDialogClose=function(){se&&(se.value=""),ie&&(ie.value="")},a.onDialogOpen=function(){a.setState(me(a.props))},a.onDatepickerChange=function(e){a.handleChange("date",e)},a.state=me(e),a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"handleChange",value:function(e,t){this.setState(Object(i.a)({},e,t.target.value))}},{key:"componentDidMount",value:function(){var e=this;(re=X()(this.refs.modal)).on("hidden.bs.modal",function(t){e.onDialogClose(),e.props.onModalClose(t)}),re.on("shown.bs.modal",function(t){e.onDialogOpen(),e.props.onModalOpen(t)}),this.props.isActive&&t.showModal(),le=X()(".event-date").datepicker({format:this.state.defaultEventDateFormat}).on("changeDate",this.onDatepickerChange),se=document.getElementById("eventDialogStockPriceInput"),ie=document.getElementById("eventDialogMarketPriceInput")}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&(this.props.isActive?t.showModal():t.hideModal()),this.props.defaultEventDateFormat!==e.defaultEventDateFormat&&le.datepicker("destroy").datepicker({format:this.props.defaultEventDateFormat}).on("changeDate",this.onDatepickerChange)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",ref:"modal"},o.a.createElement("div",{className:"modal-dialog",id:"event-dialog-modal",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"bd p-15"},o.a.createElement("h5",{className:"m-0 dialog-title"},this.props.dialogTitle)),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Event title"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddTitle",value:this.state.title,onChange:function(t){return e.handleChange("title",t)}})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("label",{className:"fw-500"},"Date"),o.a.createElement("div",{className:"timepicker-input input-icon form-group"},o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-addon bgc-white bd bdwR-0"},o.a.createElement("i",{className:"ti-calendar"})),o.a.createElement("input",{type:"text",className:"form-control bdc-grey-200 event-date",placeholder:"Datepicker","data-provide":"datepicker",id:"eventAddDate",value:this.state.date,onChange:function(t){return e.handleChange("date",t)}}))))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500",htmlFor:"eventDialogStockPriceInput"},"Stock prices"),o.a.createElement("input",{type:"file",accept:".csv",onClick:function(e){e.target.value=null},onChange:function(t){return e.onFileChange("stock",t)},className:"form-control-file bdc-grey-200",id:"eventDialogStockPriceInput"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500",htmlFor:"eventDialogMarketPriceInput"},"Market prices"),o.a.createElement("input",{type:"file",accept:".csv",onClick:function(e){e.target.value=null},onChange:function(t){return e.onFileChange("market",t)},className:"form-control-file bdc-grey-200",id:"eventDialogMarketPriceInput"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Date Column"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddDateColumn",value:this.state.dateColumn,onChange:function(t){return e.handleChange("dateColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Operation Column"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddOperationColumn",value:this.state.operationColumn,onChange:function(t){return e.handleChange("operationColumn",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Estimation period (T0T1)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddT0T1",value:this.state.T0T1,onChange:function(t){return e.handleChange("T0T1",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Pre-announcement window (T1E)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddT1E",value:this.state.T1E,onChange:function(t){return e.handleChange("T1E",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Post-announcement window (ET2)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddET2",value:this.state.ET2,onChange:function(t){return e.handleChange("ET2",t)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Post event period (T2T3)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"eventAddT2T3",value:this.state.T2T3,onChange:function(t){return e.handleChange("T2T3",t)}})))),o.a.createElement("div",{className:"text-right modal-footer"},o.a.createElement("button",{type:"button",className:"btn","data-dismiss":"modal"},"Close"),o.a.createElement("button",{className:"btn btn-primary cur-p",onClick:this.onAccept},"Done")))))}}],[{key:"showModal",value:function(){re.modal("show")}},{key:"hideModal",value:function(){re.modal("hide")}}]),t}(o.a.Component);pe.defaultProps={isActive:!1,onModalClose:function(){},onModalOpen:function(){},onAccept:function(){},dialogTitle:"",title:"",date:""};var ve,fe,Ee=function(e){return o.a.createElement("div",{className:"pos-a t-0 l-0 bgc-white w-100 h-100 d-f fxd-r fxw-w ai-c jc-c pos-r p-30",style:{zIndex:e.zIndex||1}},o.a.createElement("div",{className:"d-f jc-c fxd-c"},o.a.createElement("h3",{className:"mB-10 fsz-lg c-grey-900 tt-c title"},e.title),o.a.createElement("p",{className:"mB-30 fsz-def c-grey-700 description"},e.description)))},he=function(e){function t(){return Object(U.a)(this,t),Object(V.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props.isActive;return o.a.createElement(n.Fragment,null,e?o.a.createElement(Ee,this.props):null)}}]),t}(o.a.Component),be=(a(162),"Add Event"),ge="Edit Event",ye="add",ke={title:"Create Event",description:"You should create dates of events.",isActive:!0},Ce=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).state={eventDialogTitle:"",eventDialogProps:{},isEventDialogActive:!1,isConfirmDialogActive:!1,eventList:[]},a.renderUnavailableComponent=function(){return a.props.eventList&&a.props.eventList.length?null:o.a.createElement(he,ke)},a.onDeleteClick=function(e){ve=e,a.setState({isConfirmDialogActive:!0})},a.onEditClick=function(e){ye="edit",ve=e,a.setState({isEventDialogActive:!0,eventDialogTitle:ge,eventDialogProps:e})},a.onEventClick=function(e){a.props.activeEvents[e.key]?a.props.deselectEvent(e,a.props.stockKey):a.props.selectEvent(e,a.props.stockKey)},a.renderEvents=function(){return a.props.eventList?a.props.eventList.map(function(e){return o.a.createElement(ce,Object.assign({onDeleteClick:function(){return a.onDeleteClick(e)},onEditClick:function(){return a.onEditClick(e)},onItemClick:function(){return a.onEventClick(e)},isActive:Boolean(a.props.activeEvents[e.key]),key:e.key},e))}):null},a.onPlusClick=function(){ye="add",a.setState({isEventDialogActive:!0,eventDialogTitle:be,eventDialogProps:Object(u.a)({title:"",date:""},a.props)})},a.onEventAddModalClose=function(){a.setState({isEventDialogActive:!1})},a.onConfirmModalClose=function(){a.setState({isConfirmDialogActive:!1})},a.onEventDialogAccept=function(e){"add"===ye?(e.key=G()(),a.props.createEvent(e,a.props.stockKey)):(e.key=ve.key,a.props.updateEvent(e,a.props.stockKey))},a.onDeleteEventAccept=function(){a.setState({isConfirmDialogActive:!1}),a.props.deleteEvent(ve.key,a.props.stockKey)},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Event List")),o.a.createElement("div",{className:"pos-r event-items-wrap"},this.renderUnavailableComponent(),o.a.createElement("button",{type:"button",onClick:this.onPlusClick,className:"mT-nv-50 pos-a r-10 t-25 zi-2 btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning event-dialog-btn"},o.a.createElement("i",{className:"ti-plus"})),o.a.createElement("ul",{className:"m-0 p-0",id:"event-items"},this.renderEvents()))),o.a.createElement(pe,Object.assign({isActive:this.state.isEventDialogActive,defaultEventDateFormat:this.props.defaultEventDateFormat,dialogTitle:this.state.eventDialogTitle,onModalClose:this.onEventAddModalClose,onAccept:this.onEventDialogAccept},this.state.eventDialogProps)),o.a.createElement(ee,{isActive:this.state.isConfirmDialogActive,onModalClose:this.onConfirmModalClose,onAccept:this.onDeleteEventAccept,question:"Are you sure that you want to delete this Event?"}))}}]),t}(o.a.Component),Te={createEvent:function(e,t){return{type:g,payload:{event:e,stockKey:t}}},updateEvent:function(e,t){return{type:y,payload:{event:e,stockKey:t}}},deleteEvent:function(e,t){return{type:k,payload:{key:e,stockKey:t}}},selectEvent:function(e,t){return{type:C,payload:{event:e,stockKey:t}}},deselectEvent:function(e,t){return{type:T,payload:{event:e,stockKey:t}}}},Ne=Object(l.b)(function(e){var t=e.stocks.activeStock.key;return{eventList:e.events.events[t],activeEvents:e.events.activeEvents[t],stockKey:t,dateColumn:e.setting.dateColumn,operationColumn:e.setting.operationColumn,defaultEventDateFormat:e.setting.defaultEventDateFormat,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}},Te)(Ce),Oe=(a(163),a(69)),we=a(71),De=a.n(we),je=a(52),Ae=a.n(je),Se=a(22),Me=a.n(Se),Ie=a(72),Pe=a.n(Ie),Fe=a(32),Ke=a(70),Le=a.n(Ke),_e=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(o)))).getChartData=function(){return{labels:a.props.labels,dataSets:a.props.dataSets}},a.initChart=function(){var e=a.refs.lineChart,t=a.getChartData(),n=t.labels,o=t.dataSets,c=e.getContext("2d");e.height=80,fe=new Le.a(c,{type:"line",data:{labels:n,datasets:o},options:{legend:{display:!0}}})},a.updateChart=function(){var e=a.getChartData(),t=e.labels,n=e.dataSets;fe.data.labels=t,fe.data.datasets=n,fe.update()},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.initChart()}},{key:"componentDidUpdate",value:function(e){e.labels===this.props.labels&&e.dataSets===this.props.dataSets||this.updateChart()}},{key:"render",value:function(){return o.a.createElement("canvas",{className:"line-chart",ref:"lineChart",height:"220"})}}]),t}(o.a.Component);_e.defaultProps={labels:[],dataSets:[]};var xe="#f44336",Be="#d32f2f",Re="#4caf50",Ue="#388e3c",ze="#9e9e9e",Ve="#616161",He={title:"Analyse Events",description:"You need to create and select at least One event in order to get analysis",isActive:!0},qe={title:"No Analysis Available",description:"If you want your final analysis hit analyse button",isActive:!0},$e=function(e){return"0"===(e=e.toString())?"Neutral":"-1"===e?"Bad News":"Good News"},We=function(e){return Object(u.a)({},function(e){return"0"===(e=e.toString())?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:ze,pointBackgroundColor:Ve,borderWidth:2}:"-1"===e?{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:xe,pointBackgroundColor:Be,borderWidth:2}:{backgroundColor:"rgba(237, 231, 246, 0.5)",borderColor:Re,pointBackgroundColor:Ue,borderWidth:2}}(e),{label:$e(e)})},Ge=function(e,t){return Object(u.a)({data:e},We(t))},Je=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).state={statsPerEvents:{}},a.renderUnavailableComponent=function(){var e=K(a.props.activeEvents),t=K(a.state.statsPerEvents);return e?o.a.createElement(he,He):!e&&t?o.a.createElement(he,qe):null},a.onAnalyseClick=function(){var e=a.props.activeEvents,t=e.map(function(e){var t=e.date,a=e.T0T1,n=e.T1E,o=e.ET2,c=e.T2T3,r=e.market;return{date:t,stock:e.stock,market:r,timeline:{T0T1:a,T1E:n,ET2:o,T2T3:c},dateColumn:e.dateColumn,operationColumn:e.operationColumn}}),n=Object(Fe.MarketModel)({calendar:t}).reduce(function(t,a,n){return t[e[n].key]=a,t},{});a.setState({statsPerEvents:Object(u.a)({},a.state.statsPerEvents,n)})},a.getChartData=function(){var e={labels:[],dataSets:[],chartLegend:""};if(!a.props.activeEvents)return e;var t=a.props.activeEvents;if(t.length>1){var n=Object.values(a.state.statsPerEvents);if(n.length<=1)return e;var o=De()(Ae()("newsType"),n),c=Me()(Pe()(Ae()("abnormalReturn")),o),r=Me()(Fe.AAR,c),l=Me()(Fe.CAR,r),s=Me()(function(e,t){return Ge(e,t)},l);e.labels=L(t[0].ET2+t[0].T1E-1).map(function(e){return e-t[0].T1E}),e.dataSets=Object.values(s),e.chartLegend="CAAR Stats (Cumulative Average Abnormal Return):"}else if(1===t.length){var i=t[0],u=a.state.statsPerEvents[i.key];if(!u)return e;var d=u.returnDates,m=[u.CARS].map(function(e){return Ge(e,u.newsType)});e.labels=d,e.dataSets=m,e.chartLegend="CAR Stats for: "+i.date}return e},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){new $.a(this.refs.scrollable)}},{key:"render",value:function(){var e=this.getChartData();return o.a.createElement("div",{className:"bdrs-3 ov-h bgc-white h-100p bd"},o.a.createElement("div",{className:"bgc-deep-purple-500 ta-c p-30"},o.a.createElement("h3",{className:"c-white"},"Analysis")),o.a.createElement("div",{className:"m-0 p-0 pos-r analysis-scroll-container-wrap"},this.renderUnavailableComponent(),o.a.createElement("button",{type:"button",onClick:this.onAnalyseClick,className:"mT-nv-50 pos-a r-10 zi-2 t-25 btn cur-p bdrs-50p p-0 w-3r h-3r btn-warning"},o.a.createElement("i",{className:"ti-stats-up"})),o.a.createElement("div",{className:"pos-r",ref:"scrollable",id:"analysis-scroll-container"},o.a.createElement("div",{className:"bd bgc-white"},o.a.createElement("div",{className:"layers"},o.a.createElement("div",{className:"layer w-100 pX-20 pT-20"},o.a.createElement("h6",{className:"lh-1"},e.chartLegend)),o.a.createElement("div",{className:"layer w-100 p-20"},o.a.createElement(_e,e)))))))}}]),t}(o.a.Component),Ye=function(e){return e.stocks.activeStock.key},Xe=function(e){return e.events.events[e.stocks.activeStock.key]||[]},Qe=Object(Oe.a)([Xe,function(e){return e.events.activeEvents[e.stocks.activeStock.key]||{}}],function(e,t){return e.filter(function(e){return t[e.key]})}),Ze=Object(l.b)(function(e){return{stockKey:Ye(e),eventList:Xe(e),activeEvents:Qe(e)}},{})(Je),et=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(o)))).showSetting=function(){a.props.showSetting()},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"header navbar"},o.a.createElement("div",{className:"header-container"},o.a.createElement("ul",{className:"nav-left"}),o.a.createElement("ul",{className:"nav-right"},o.a.createElement("li",null,o.a.createElement("a",{href:"#",onClick:this.showSetting},o.a.createElement("i",{className:"ti-settings"}))))))}}],[{key:"onExportClick",value:function(){!function(e,t){var a=new Blob([t],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(a,e);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(a),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}("event study state",JSON.stringify(R.getState()))}}]),t}(o.a.Component),tt={showSetting:function(){return{type:A}}},at=Object(l.b)(null,tt)(et),nt=function(e){var t=e.dateColumn,a=void 0===t?"":t,n=e.operationColumn,o=void 0===n?"":n,c=e.T0T1,r=void 0===c?"":c,l=e.T1E,s=void 0===l?"":l,i=e.ET2,u=void 0===i?"":i,d=e.T2T3,m=void 0===d?"":d,p=e.defaultEventDateFormat;return{dateColumn:a,operationColumn:o,T0T1:r,T1E:s,ET2:u,T2T3:m,defaultEventDateFormat:void 0===p?"":p}},ot=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).state=nt(a.props),a.DialogHeader=function(){return o.a.createElement("h5",{className:"m-0 dialog-title"},"Setting")},a.DialogBody=function(){return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Date Column"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingDateColumn",value:a.state.dateColumn,onChange:function(e){return a.handleChange("dateColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Operation Column"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingOperationColumn",value:a.state.operationColumn,onChange:function(e){return a.handleChange("operationColumn",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Default Event Date Format (In create event dialog)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingDefaultEventDate",value:a.state.defaultEventDateFormat,onChange:function(e){return a.handleChange("defaultEventDateFormat",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Estimation period (T0T1)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingT0T1",value:a.state.T0T1,onChange:function(e){return a.handleChange("T0T1",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Pre-announcement window  (T1E)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingT1E",value:a.state.T1E,onChange:function(e){return a.handleChange("T1E",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Post-announcement window (ET2)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingET2",value:a.state.ET2,onChange:function(e){return a.handleChange("ET2",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"fw-500"},"Post event period (T2T3)"),o.a.createElement("input",{className:"form-control bdc-grey-200",id:"settingT2T3",value:a.state.T2T3,onChange:function(e){return a.handleChange("T2T3",e)}})))},a.DialogFooter=function(){return o.a.createElement("div",{className:"d-ib"},o.a.createElement("button",{type:"button",className:"btn","data-dismiss":"modal"},"Close"),o.a.createElement("button",{className:"btn btn-primary cur-p",onClick:a.onAccept},"Done"))},a.handleChange=function(e,t){a.setState(Object(i.a)({},e,t.target.value))},a.onAccept=function(){a.props.setDateColumn(a.state.dateColumn),a.props.setOperationColumn(a.state.operationColumn),a.props.setT0T1(a.state.T0T1),a.props.setT1E(a.state.T1E),a.props.setET2(a.state.ET2),a.props.setT2T3(a.state.T2T3),a.props.setDefaultEventDateFormat(a.state.defaultEventDateFormat),a.props.hideSetting()},a.onModalClose=function(){a.setState(nt(a.props)),a.props.hideSetting()},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return o.a.createElement(Q,{onModalClose:this.onModalClose,isActive:this.props.showSetting,header:o.a.createElement(this.DialogHeader,null),body:o.a.createElement(this.DialogBody,null),footer:o.a.createElement(this.DialogFooter,null)})}}]),t}(o.a.Component),ct={hideSetting:function(){return{type:S}},setDateColumn:function(e){return{type:h,dateColumn:e}},setOperationColumn:function(e){return{type:b,operationColumn:e}},setDefaultEventDateFormat:function(e){return{type:M,value:e}},setT0T1:function(e){return{type:p,value:e}},setT1E:function(e){return{type:v,value:e}},setET2:function(e){return{type:f,value:e}},setT2T3:function(e){return{type:E,value:e}}},rt=Object(l.b)(function(e){return{showSetting:e.application.showSetting,dateColumn:e.setting.dateColumn,operationColumn:e.setting.operationColumn,defaultEventDateFormat:e.setting.defaultEventDateFormat,T0T1:e.setting.T0T1,T1E:e.setting.T1E,ET2:e.setting.ET2,T2T3:e.setting.T2T3}},ct)(ot),lt=(a(179),{title:"Create a Stock",description:"First of all you need to create a stock name.",isActive:!0,zIndex:9}),st=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(V.a)(this,(e=Object(H.a)(t)).call.apply(e,[this].concat(c)))).renderUnavailableComponent=function(){return K(a.props.activeStock)?o.a.createElement(he,lt):null},a}return Object(q.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){new $.a(this.refs.scrollable)}},{key:"render",value:function(){return o.a.createElement("div",{className:"h-100p"},o.a.createElement("div",{className:"page-container h-100p"},o.a.createElement(rt,null),o.a.createElement(at,null),o.a.createElement("main",{className:"main-content bgc-grey-200"},o.a.createElement("div",{id:"mainContent",className:"h-100p"},o.a.createElement("div",{className:"container-fluid h-100p pos-r",ref:"scrollable"},o.a.createElement(oe,null),o.a.createElement("div",{className:"stocks-list-wrapper pos-r h-100p"},this.renderUnavailableComponent(),o.a.createElement("div",{className:"row h-100p"},o.a.createElement("div",{className:"col-md-4 h-100p"},o.a.createElement(Ne,null)),o.a.createElement("div",{className:"col-md-8 h-100p"},o.a.createElement(Ze,null))))))),o.a.createElement("footer",{className:"bdT ta-c p-30 lh-0 fsz-sm c-grey-600"},o.a.createElement("span",null,"Copyright \xa9 2019 All rights reserved."))))}}]),t}(o.a.Component),it=Object(l.b)(function(e){return{stocks:e.stocks.stockList,activeStock:e.stocks.activeStock}})(st);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(180);r.a.render(o.a.createElement(l.a,{store:R},o.a.createElement(it,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports=a(181)},89:function(e,t,a){},95:function(e,t){},97:function(e,t){}},[[74,1,2]]]);
//# sourceMappingURL=main.598f471f.chunk.js.map